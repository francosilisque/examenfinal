var nk=Object.defineProperty,rk=Object.defineProperties;var ik=Object.getOwnPropertyDescriptors;var Zb=Object.getOwnPropertySymbols,ok=Object.getPrototypeOf,sk=Object.prototype.hasOwnProperty,ak=Object.prototype.propertyIsEnumerable,ck=Reflect.get;var Xb=(n,e,t)=>e in n?nk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})sk.call(e,t)&&Xb(n,t,e[t]);if(Zb)for(var t of Zb(e))ak.call(e,t)&&Xb(n,t,e[t]);return n},le=(n,e)=>rk(n,ik(e));var Kr=(n,e,t)=>ck(ok(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var fm;function Xl(){return fm}function Fn(n){let e=fm;return fm=n,e}var eD=Symbol("NotFound");function fs(n){return n===eD||n?.name==="\u0275NotFound"}var wt=null,ed=!1,pm=1,uk=null,Tt=Symbol("SIGNAL");function de(n){let e=wt;return wt=n,e}function id(){return wt}var ps={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gs(n){if(ed)throw new Error("");if(wt===null)return;wt.consumerOnSignalRead(n);let e=wt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=wt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:wt.producers,t!==void 0&&t.producer===n)){wt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===wt&&(!r||dk(i,wt)))return;let o=ys(wt),s={producer:n,consumer:wt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};wt.producersTail=s,e!==void 0?e.nextProducer=s:wt.producers=s,o&&iD(n,s)}function tD(){pm++}function od(n){if(!(ys(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===pm)){if(!n.producerMustRecompute(n)&&!Sc(n)){rd(n);return}n.producerRecomputeValue(n),rd(n)}}function gm(n){if(n.consumers===void 0)return;let e=ed;ed=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||lk(r)}}finally{ed=e}}function mm(){return wt?.consumerAllowSignalWrites!==!1}function lk(n){n.dirty=!0,gm(n),n.consumerMarkedDirty?.(n)}function rd(n){n.dirty=!1,n.lastCleanEpoch=pm}function ms(n){return n&&nD(n),de(n)}function nD(n){n.producersTail=void 0,n.recomputing=!0}function Cc(n,e){de(e),n&&rD(n)}function rD(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(ys(n))do t=ym(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Sc(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(od(t),r!==t.version))return!0}return!1}function Ac(n){if(ys(n)){let e=n.producers;for(;e!==void 0;)e=ym(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function iD(n,e){let t=n.consumersTail,r=ys(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)iD(i.producer,i)}function ym(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ys(e)){let o=e.producers;for(;o!==void 0;)o=ym(o)}return t}function ys(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function sd(n){uk?.(n)}function dk(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function ad(n,e){return Object.is(n,e)}function cd(n,e){let t=Object.create(hk);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(od(t),gs(t),t.value===Dc)throw t.error;return t.value};return r[Tt]=t,sd(t),r}var td=Symbol("UNSET"),nd=Symbol("COMPUTING"),Dc=Symbol("ERRORED"),hk=le(k({},ps),{value:td,dirty:!0,error:null,equal:ad,kind:"computed",producerMustRecompute(n){return n.value===td||n.value===nd},producerRecomputeValue(n){if(n.value===nd)throw new Error("");let e=n.value;n.value=nd;let t=ms(n),r,i=!1;try{r=n.computation(),de(null),i=e!==td&&e!==Dc&&r!==Dc&&n.equal(e,r)}catch(o){r=Dc,n.error=o}finally{Cc(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function fk(){throw new Error}var oD=fk;function sD(n){oD(n)}function vm(n){oD=n}var pk=null;function _m(n,e){let t=Object.create(ud);t.value=n,e!==void 0&&(t.equal=e);let r=()=>aD(t);return r[Tt]=t,sd(t),[r,s=>vs(t,s),s=>Em(t,s)]}function aD(n){return gs(n),n.value}function vs(n,e){mm()||sD(n),n.equal(n.value,e)||(n.value=e,gk(n))}function Em(n,e){mm()||sD(n),vs(n,e(n.value))}var ud=le(k({},ps),{equal:ad,value:void 0,kind:"signal"});function gk(n){n.version++,tD(),gm(n),pk?.(n)}function ae(n){return typeof n=="function"}function _s(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ld=_s(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function eo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var je=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ae(r))try{r()}catch(o){e=o instanceof ld?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{cD(o)}catch(s){e=e??[],s instanceof ld?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ld(e)}}add(e){var t;if(e&&e!==this)if(this.closed)cD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&eo(t,e)}remove(e){let{_finalizers:t}=this;t&&eo(t,e),e instanceof n&&e._removeParent(this)}};je.EMPTY=(()=>{let n=new je;return n.closed=!0,n})();var Im=je.EMPTY;function dd(n){return n instanceof je||n&&"closed"in n&&ae(n.remove)&&ae(n.add)&&ae(n.unsubscribe)}function cD(n){ae(n)?n():n.unsubscribe()}var _n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Es={setTimeout(n,e,...t){let{delegate:r}=Es;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Es;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function hd(n){Es.setTimeout(()=>{let{onUnhandledError:e}=_n;if(e)e(n);else throw n})}function Rc(){}var uD=wm("C",void 0,void 0);function lD(n){return wm("E",void 0,n)}function dD(n){return wm("N",n,void 0)}function wm(n,e,t){return{kind:n,value:e,error:t}}var to=null;function Is(n){if(_n.useDeprecatedSynchronousErrorHandling){let e=!to;if(e&&(to={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=to;if(to=null,t)throw r}}else n()}function hD(n){_n.useDeprecatedSynchronousErrorHandling&&to&&(to.errorThrown=!0,to.error=n)}var no=class extends je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,dd(e)&&e.add(this)):this.destination=vk}static create(e,t,r){return new ws(e,t,r)}next(e){this.isStopped?bm(dD(e),this):this._next(e)}error(e){this.isStopped?bm(lD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?bm(uD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},mk=Function.prototype.bind;function Tm(n,e){return mk.call(n,e)}var Dm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){fd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){fd(r)}else fd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){fd(t)}}},ws=class extends no{constructor(e,t,r){super();let i;if(ae(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&_n.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Tm(e.next,o),error:e.error&&Tm(e.error,o),complete:e.complete&&Tm(e.complete,o)}):i=e}this.destination=new Dm(i)}};function fd(n){_n.useDeprecatedSynchronousErrorHandling?hD(n):hd(n)}function yk(n){throw n}function bm(n,e){let{onStoppedNotification:t}=_n;t&&Es.setTimeout(()=>t(n,e))}var vk={closed:!0,next:Rc,error:yk,complete:Rc};var Ts=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Wt(n){return n}function pd(...n){return Cm(n)}function Cm(n){return n.length===0?Wt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Ek(t)?t:new ws(t,r,i);return Is(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=fD(r),new r((i,o)=>{let s=new ws({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ts](){return this}pipe(...t){return Cm(t)(this)}toPromise(t){return t=fD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function fD(n){var e;return(e=n??_n.Promise)!==null&&e!==void 0?e:Promise}function _k(n){return n&&ae(n.next)&&ae(n.error)&&ae(n.complete)}function Ek(n){return n&&n instanceof no||_k(n)&&dd(n)}function Sm(n){return ae(n?.lift)}function ve(n){return e=>{if(Sm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(n,e,t,r,i){return new Am(n,e,t,r,i)}var Am=class extends no{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function bs(){return ve((n,e)=>{let t=null;n._refCount++;let r=me(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ds=class extends re{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Sm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new je;let t=this.getSubject();e.add(this.source.subscribe(me(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=je.EMPTY)}return e}refCount(){return bs()(this)}};var pD=_s(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ke=(()=>{class n extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new gd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new pD}next(t){Is(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Is(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Is(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Im:(this.currentObservers=null,o.push(t),new je(()=>{this.currentObservers=null,eo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new re;return t.source=this,t}}return n.create=(e,t)=>new gd(e,t),n})(),gd=class extends Ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Im}};var Qe=class extends Ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Rm={now(){return(Rm.delegate||Date).now()},delegate:void 0};var md=class extends je{constructor(e,t){super()}schedule(e,t=0){return this}};var Nc={setInterval(n,e,...t){let{delegate:r}=Nc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Nc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Cs=class extends md{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Nc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Nc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,eo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ss=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ss.now=Rm.now;var As=class extends Ss{constructor(e,t=Ss.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Nm=new As(Cs);var yd=class extends Cs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var vd=class extends As{};var Mm=new vd(yd);var Lt=new re(n=>n.complete());function gD(n){return n&&ae(n.schedule)}function mD(n){return n[n.length-1]}function _d(n){return ae(mD(n))?n.pop():void 0}function Qr(n){return gD(mD(n))?n.pop():void 0}function Ed(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function vD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function yD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ro(n){return this instanceof ro?(this.v=n,this):new ro(n)}function _D(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(M){return new Promise(function(A,x){o.push([y,M,A,x])>1||u(y,M)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof ro?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function ED(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof yD=="function"?yD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Id=n=>n&&typeof n.length=="number"&&typeof n!="function";function wd(n){return ae(n?.then)}function Td(n){return ae(n[Ts])}function bd(n){return Symbol.asyncIterator&&ae(n?.[Symbol.asyncIterator])}function Dd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Ik(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Cd=Ik();function Sd(n){return ae(n?.[Cd])}function Ad(n){return _D(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ro(t.read());if(i)return yield ro(void 0);yield yield ro(r)}}finally{t.releaseLock()}})}function Rd(n){return ae(n?.getReader)}function Ye(n){if(n instanceof re)return n;if(n!=null){if(Td(n))return wk(n);if(Id(n))return Tk(n);if(wd(n))return bk(n);if(bd(n))return ID(n);if(Sd(n))return Dk(n);if(Rd(n))return Ck(n)}throw Dd(n)}function wk(n){return new re(e=>{let t=n[Ts]();if(ae(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Tk(n){return new re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function bk(n){return new re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,hd)})}function Dk(n){return new re(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function ID(n){return new re(e=>{Sk(n,e).catch(t=>e.error(t))})}function Ck(n){return ID(Ad(n))}function Sk(n,e){var t,r,i,o;return vD(this,void 0,void 0,function*(){try{for(t=ED(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Vt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Yr(n,e=0){return ve((t,r)=>{t.subscribe(me(r,i=>Vt(r,n,()=>r.next(i),e),()=>Vt(r,n,()=>r.complete(),e),i=>Vt(r,n,()=>r.error(i),e)))})}function Jr(n,e=0){return ve((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function wD(n,e){return Ye(n).pipe(Jr(e),Yr(e))}function TD(n,e){return Ye(n).pipe(Jr(e),Yr(e))}function bD(n,e){return new re(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function DD(n,e){return new re(t=>{let r;return Vt(t,e,()=>{r=n[Cd](),Vt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ae(r?.return)&&r.return()})}function Nd(n,e){if(!n)throw new Error("Iterable cannot be null");return new re(t=>{Vt(t,e,()=>{let r=n[Symbol.asyncIterator]();Vt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function CD(n,e){return Nd(Ad(n),e)}function SD(n,e){if(n!=null){if(Td(n))return wD(n,e);if(Id(n))return bD(n,e);if(wd(n))return TD(n,e);if(bd(n))return Nd(n,e);if(Sd(n))return DD(n,e);if(Rd(n))return CD(n,e)}throw Dd(n)}function Ne(n,e){return e?SD(n,e):Ye(n)}function Q(...n){let e=Qr(n);return Ne(n,e)}function Rs(n,e){let t=ae(n)?n:()=>n,r=i=>i.error(t());return new re(e?i=>e.schedule(r,0,i):r)}function Pm(n){return!!n&&(n instanceof re||ae(n.lift)&&ae(n.subscribe))}var lr=_s(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function te(n,e){return ve((t,r)=>{let i=0;t.subscribe(me(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:Ak}=Array;function Rk(n,e){return Ak(e)?n(...e):n(e)}function Md(n){return te(e=>Rk(n,e))}var{isArray:Nk}=Array,{getPrototypeOf:Mk,prototype:Pk,keys:xk}=Object;function Pd(n){if(n.length===1){let e=n[0];if(Nk(e))return{args:e,keys:null};if(Ok(e)){let t=xk(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function Ok(n){return n&&typeof n=="object"&&Mk(n)===Pk}function xd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Mc(...n){let e=Qr(n),t=_d(n),{args:r,keys:i}=Pd(n);if(r.length===0)return Ne([],e);let o=new re(kk(r,e,i?s=>xd(i,s):Wt));return t?o.pipe(Md(t)):o}function kk(n,e,t=Wt){return r=>{AD(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)AD(e,()=>{let l=Ne(n[u],e),h=!1;l.subscribe(me(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function AD(n,e,t){n?Vt(t,n,e):e()}function RD(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?S(M):u.push(M),S=M=>{o&&e.next(M),l++;let A=!1;Ye(t(M,h++)).subscribe(me(e,x=>{i?.(x),o?y(x):e.next(x)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;u.length&&l<r;){let x=u.shift();s?Vt(e,s,()=>S(x)):S(x)}m()}catch(x){e.error(x)}}))};return n.subscribe(me(e,y,()=>{p=!0,m()})),()=>{a?.()}}function qe(n,e,t=1/0){return ae(e)?qe((r,i)=>te((o,s)=>e(r,o,i,s))(Ye(n(r,i))),t):(typeof e=="number"&&(t=e),ve((r,i)=>RD(r,i,n,t)))}function Ns(n=1/0){return qe(Wt,n)}function ND(){return Ns(1)}function Ms(...n){return ND()(Ne(n,Qr(n)))}function Pc(n){return new re(e=>{Ye(n()).subscribe(e)})}function xm(...n){let e=_d(n),{args:t,keys:r}=Pd(n),i=new re(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ye(t[h]).subscribe(me(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?xd(r,a):a),o.complete())}))}});return e?i.pipe(Md(e)):i}function ht(n,e){return ve((t,r)=>{let i=0;t.subscribe(me(r,o=>n.call(e,o,i++)&&r.next(o)))})}function dr(n){return ve((e,t)=>{let r=null,i=!1,o;r=e.subscribe(me(t,void 0,void 0,s=>{o=Ye(n(s,dr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function MD(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(me(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Ln(n,e){return ae(e)?qe(n,e,1):qe(n,1)}function Zr(n){return ve((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function hr(n){return n<=0?()=>Lt:ve((e,t)=>{let r=0;e.subscribe(me(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Od(n=Fk){return ve((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Fk(){return new lr}function io(n){return ve((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function fr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ht((i,o)=>n(i,o,r)):Wt,hr(1),t?Zr(e):Od(()=>new lr))}function Ps(n){return n<=0?()=>Lt:ve((e,t)=>{let r=[];e.subscribe(me(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Om(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ht((i,o)=>n(i,o,r)):Wt,Ps(1),t?Zr(e):Od(()=>new lr))}function kd(n,e){return ve(MD(n,e,arguments.length>=2,!0))}function Fd(...n){let e=Qr(n);return ve((t,r)=>{(e?Ms(n,t,e):Ms(n,t)).subscribe(r)})}function ft(n,e){return ve((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(me(r,u=>{i?.unsubscribe();let l=0,h=o++;Ye(n(u,h)).subscribe(i=me(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ld(n){return ve((e,t)=>{Ye(n).subscribe(me(t,()=>t.complete(),Rc)),!t.closed&&e.subscribe(t)})}function ot(n,e,t){let r=ae(n)||e||t?{next:n,error:e,complete:t}:n;return r?ve((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(me(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Wt}function PD(n){let e=de(null);try{return n()}finally{de(e)}}var Xr=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Wm=new Xr("20.3.15");var Bd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,t){super(yr(e,t)),this.code=e}};function Lk(n){return`NG0${Math.abs(n)}`}function yr(n,e){return`${Lk(n)}${e?": "+e:""}`}var Fc=globalThis;function be(n){for(let e in n)if(n[e]===be)return e;throw Error("")}function kD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function gr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(gr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Km(n,e){return n?e?`${n} ${e}`:n:e||""}var Vk=be({__forward_ref__:be});function sn(n){return n.__forward_ref__=sn,n.toString=function(){return gr(this())},n}function pt(n){return Qm(n)?n():n}function Qm(n){return typeof n=="function"&&n.hasOwnProperty(Vk)&&n.__forward_ref__===sn}function L(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Lc(n){return jk(n,$d)}function Ym(n){return Lc(n)!==null}function jk(n,e){return n.hasOwnProperty(e)&&n[e]||null}function Uk(n){let e=n?.[$d]??null;return e||null}function Fm(n){return n&&n.hasOwnProperty(jd)?n[jd]:null}var $d=be({\u0275prov:be}),jd=be({\u0275inj:be}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=L({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Jm(n){return n&&!!n.\u0275providers}var Zm=be({\u0275cmp:be}),Xm=be({\u0275dir:be}),ey=be({\u0275pipe:be}),ty=be({\u0275mod:be}),Oc=be({\u0275fac:be}),uo=be({__NG_ELEMENT_ID__:be}),xD=be({__NG_ENV_ID__:be});function lo(n){return typeof n=="string"?n:n==null?"":String(n)}function FD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():lo(n)}var LD=be({ngErrorCode:be}),Bk=be({ngErrorMessage:be}),$k=be({ngTokenPath:be});function ny(n,e){return VD("",-200,e)}function Hd(n,e){throw new j(-201,!1)}function VD(n,e,t){let r=new j(e,n);return r[LD]=e,r[Bk]=n,t&&(r[$k]=t),r}function Hk(n){return n[LD]}var Lm;function jD(){return Lm}function Pt(n){let e=Lm;return Lm=n,e}function ry(n,e,t){let r=Lc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Hd(n,"Injector")}var zk={},oo=zk,Vm="__NG_DI_FLAG__",jm=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=so(t)||0;try{return this.injector.get(e,r&8?null:oo,r)}catch(i){if(fs(i))return i;throw i}}};function qk(n,e=0){let t=Xl();if(t===void 0)throw new j(-203,!1);if(t===null)return ry(n,void 0,e);{let r=Gk(e),i=t.retrieve(n,r);if(fs(i)){if(r.optional)return null;throw i}return i}}function q(n,e=0){return(jD()||qk)(pt(n),e)}function N(n,e){return q(n,so(e))}function so(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Gk(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Um(n){let e=[];for(let t=0;t<n.length;t++){let r=pt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=Wk(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(q(i,o))}else e.push(q(r))}return e}function UD(n,e){return n[Vm]=e,n.prototype[Vm]=e,n}function Wk(n){return n[Vm]}function ei(n,e){let t=n.hasOwnProperty(Oc);return t?n[Oc]:null}function zd(n,e){n.forEach(t=>Array.isArray(t)?zd(t,e):e(t))}function iy(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Vc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function BD(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function $D(n,e,t){let r=Os(n,e);return r>=0?n[r|1]=t:(r=~r,BD(n,r,e,t)),r}function qd(n,e){let t=Os(n,e);if(t>=0)return n[t|1]}function Os(n,e){return Kk(n,e,1)}function Kk(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ni={},Kt=[],vr=new V(""),oy=new V("",-1),sy=new V(""),kc=class{get(e,t=oo){if(t===oo){let i=VD("",-201);throw i.name="\u0275NotFound",i}return t}};function ay(n){return n[ty]||null}function _r(n){return n[Zm]||null}function cy(n){return n[Xm]||null}function HD(n){return n[ey]||null}function bt(n){return{\u0275providers:n}}function zD(n){return bt([{provide:vr,multi:!0,useValue:n}])}function qD(...n){return{\u0275providers:uy(!0,n),\u0275fromNgModule:!0}}function uy(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return zd(e,s=>{let a=s;Ud(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&GD(i,o),t}function GD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];ly(i,o=>{e(o,r)})}}function Ud(n,e,t,r){if(n=pt(n),!n)return!1;let i=null,o=Fm(n),s=!o&&_r(n);if(!o&&!s){let u=n.ngModule;if(o=Fm(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Ud(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{zd(o.imports,h=>{Ud(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&GD(l,e)}if(!a){let l=ei(i)||(()=>new i);e({provide:i,useFactory:l,deps:Kt},i),e({provide:sy,useValue:i,multi:!0},i),e({provide:vr,useValue:()=>q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;ly(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function ly(n,e){for(let t of n)Jm(t)&&(t=t.\u0275providers),Array.isArray(t)?ly(t,e):e(t)}var Qk=be({provide:String,useValue:be});function WD(n){return n!==null&&typeof n=="object"&&Qk in n}function Yk(n){return!!(n&&n.useExisting)}function Jk(n){return!!(n&&n.useFactory)}function ao(n){return typeof n=="function"}function KD(n){return!!n.useClass}var jc=new V(""),Vd={},OD={},km;function Uc(){return km===void 0&&(km=new kc),km}var Oe=class{},co=class extends Oe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,$m(e,s=>this.processProvider(s)),this.records.set(oy,xs(void 0,this)),i.has("environment")&&this.records.set(Oe,xs(void 0,this));let o=this.records.get(jc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(sy,Kt,{self:!0}))}retrieve(e,t){let r=so(t)||0;try{return this.get(e,oo,r)}catch(i){if(fs(i))return i;throw i}}destroy(){xc(this),this._destroyed=!0;let e=de(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(e)}}onDestroy(e){return xc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){xc(this);let t=Fn(this),r=Pt(void 0),i;try{return e()}finally{Fn(t),Pt(r)}}get(e,t=oo,r){if(xc(this),e.hasOwnProperty(xD))return e[xD](this);let i=so(r),o,s=Fn(this),a=Pt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=n1(e)&&Lc(e);h&&this.injectableDefInScope(h)?l=xs(Bm(e),Vd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Uc():this.parent;return t=i&8&&t===oo?null:t,u.get(e,t)}catch(u){let l=Hk(u);throw l===-200||l===-201?new j(l,null):u}finally{Pt(a),Fn(s)}}resolveInjectorInitializers(){let e=de(null),t=Fn(this),r=Pt(void 0),i;try{let o=this.get(vr,Kt,{self:!0});for(let s of o)s()}finally{Fn(t),Pt(r),de(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(gr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=pt(e);let t=ao(e)?e:pt(e&&e.provide),r=Xk(e);if(!ao(e)&&e.multi===!0){let i=this.records.get(t);i||(i=xs(void 0,Vd,!0),i.factory=()=>Um(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=de(null);try{if(t.value===OD)throw ny(gr(e));return t.value===Vd&&(t.value=OD,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&t1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{de(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=pt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Bm(n){let e=Lc(n),t=e!==null?e.factory:ei(n);if(t!==null)return t;if(n instanceof V)throw new j(204,!1);if(n instanceof Function)return Zk(n);throw new j(204,!1)}function Zk(n){if(n.length>0)throw new j(204,!1);let t=Uk(n);return t!==null?()=>t.factory(n):()=>new n}function Xk(n){if(WD(n))return xs(void 0,n.useValue);{let e=dy(n);return xs(e,Vd)}}function dy(n,e,t){let r;if(ao(n)){let i=pt(n);return ei(i)||Bm(i)}else if(WD(n))r=()=>pt(n.useValue);else if(Jk(n))r=()=>n.useFactory(...Um(n.deps||[]));else if(Yk(n))r=(i,o)=>q(pt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=pt(n&&(n.useClass||n.provide));if(e1(n))r=()=>new i(...Um(n.deps));else return ei(i)||Bm(i)}return r}function xc(n){if(n.destroyed)throw new j(205,!1)}function xs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function e1(n){return!!n.deps}function t1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function n1(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function $m(n,e){for(let t of n)Array.isArray(t)?$m(t,e):t&&Jm(t)?$m(t.\u0275providers,e):e(t)}function Be(n,e){let t;n instanceof co?(xc(n),t=n):t=new jm(n);let r,i=Fn(t),o=Pt(void 0);try{return e()}finally{Fn(i),Pt(o)}}function QD(){return jD()!==void 0||Xl()!=null}var In=0,ce=1,ie=2,gt=3,an=4,cn=5,Bc=6,ks=7,Dt=8,ri=9,Vn=10,$e=11,Fs=12,hy=13,ho=14,un=15,fo=16,po=17,go=18,$c=19,fy=20,pr=21,Gd=22,Hc=23,Yt=24,mo=25,zc=26,Ct=27,YD=1;var ii=7,qc=8,Gc=9,jt=10;function jn(n){return Array.isArray(n)&&typeof n[YD]=="object"}function wn(n){return Array.isArray(n)&&n[YD]===!0}function py(n){return(n.flags&4)!==0}function oi(n){return n.componentOffset>-1}function Wc(n){return(n.flags&1)===1}function Un(n){return!!n.template}function Ls(n){return(n[ie]&512)!==0}function yo(n){return(n[ie]&256)===256}var JD="svg",ZD="math";function ln(n){for(;Array.isArray(n);)n=n[In];return n}function gy(n,e){return ln(e[n])}function Tn(n,e){return ln(e[n.index])}function Wd(n,e){return n.data[e]}function XD(n,e){return n[e]}function my(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function dn(n,e){let t=e[n];return jn(t)?t:t[In]}function Kd(n){return(n[ie]&128)===128}function eC(n){return wn(n[gt])}function vo(n,e){return e==null?null:n[e]}function yy(n){n[po]=0}function vy(n){n[ie]&1024||(n[ie]|=1024,Kd(n)&&Vs(n))}function tC(n,e){for(;n>0;)e=e[ho],n--;return e}function Kc(n){return!!(n[ie]&9216||n[Yt]?.dirty)}function Qd(n){n[Vn].changeDetectionScheduler?.notify(8),n[ie]&64&&(n[ie]|=1024),Kc(n)&&Vs(n)}function Vs(n){n[Vn].changeDetectionScheduler?.notify(0);let e=ti(n);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!Kd(e)));)e=ti(e)}function _y(n,e){if(yo(n))throw new j(911,!1);n[pr]===null&&(n[pr]=[]),n[pr].push(e)}function nC(n,e){if(n[pr]===null)return;let t=n[pr].indexOf(e);t!==-1&&n[pr].splice(t,1)}function ti(n){let e=n[gt];return wn(e)?e[gt]:e}function rC(n){return n[ks]??=[]}function iC(n){return n.cleanup??=[]}var fe={lFrame:vC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Hm=!1;function oC(){return fe.lFrame.elementDepthCount}function sC(){fe.lFrame.elementDepthCount++}function Ey(){fe.lFrame.elementDepthCount--}function Iy(){return fe.bindingsEnabled}function aC(){return fe.skipHydrationRootTNode!==null}function wy(n){return fe.skipHydrationRootTNode===n}function Ty(){fe.skipHydrationRootTNode=null}function we(){return fe.lFrame.lView}function Ut(){return fe.lFrame.tView}function si(n){return fe.lFrame.contextLView=n,n[Dt]}function ai(n){return fe.lFrame.contextLView=null,n}function mt(){let n=by();for(;n!==null&&n.type===64;)n=n.parent;return n}function by(){return fe.lFrame.currentTNode}function cC(){let n=fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function js(n,e){let t=fe.lFrame;t.currentTNode=n,t.isParent=e}function Dy(){return fe.lFrame.isParent}function uC(){fe.lFrame.isParent=!1}function Cy(){return Hm}function Sy(n){let e=Hm;return Hm=n,e}function lC(){let n=fe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function dC(){return fe.lFrame.bindingIndex}function hC(n){return fe.lFrame.bindingIndex=n}function Qc(){return fe.lFrame.bindingIndex++}function Ay(n){let e=fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function fC(){return fe.lFrame.inI18n}function pC(n,e){let t=fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Yd(e)}function gC(){return fe.lFrame.currentDirectiveIndex}function Yd(n){fe.lFrame.currentDirectiveIndex=n}function mC(n){let e=fe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Ry(n){fe.lFrame.currentQueryIndex=n}function r1(n){let e=n[ce];return e.type===2?e.declTNode:e.type===1?n[cn]:null}function Ny(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=r1(o),i===null||(o=o[ho],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=fe.lFrame=yC();return r.currentTNode=e,r.lView=n,!0}function Jd(n){let e=yC(),t=n[ce];fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function yC(){let n=fe.lFrame,e=n===null?null:n.child;return e===null?vC(n):e}function vC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function _C(){let n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var My=_C;function Zd(){let n=_C();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function EC(n){return(fe.lFrame.contextLView=tC(n,fe.lFrame.contextLView))[Dt]}function ci(){return fe.lFrame.selectedIndex}function ui(n){fe.lFrame.selectedIndex=n}function Xd(){let n=fe.lFrame;return Wd(n.tView,n.selectedIndex)}function IC(){return fe.lFrame.currentNamespace}var wC=!0;function eh(){return wC}function th(n){wC=n}function zm(n,e=null,t=null,r){let i=Py(n,e,t,r);return i.resolveInjectorInitializers(),i}function Py(n,e=null,t=null,r,i=new Set){let o=[t||Kt,qD(n)];return r=r||(typeof n=="object"?void 0:gr(n)),new co(o,e||Uc(),r||null,i)}var Ue=class n{static THROW_IF_NOT_FOUND=oo;static NULL=new kc;static create(e,t){if(Array.isArray(e))return zm({name:""},t,e,"");{let r=e.name??"";return zm({name:r},e.parent,e.providers,r)}}static \u0275prov=L({token:n,providedIn:"any",factory:()=>q(oy)});static __NG_ELEMENT_ID__=-1},ke=new V(""),Jt=(()=>{class n{static __NG_ELEMENT_ID__=i1;static __NG_ENV_ID__=t=>t}return n})(),qm=class extends Jt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return yo(this._lView)}onDestroy(e){let t=this._lView;return _y(t,e),()=>nC(t,e)}};function i1(){return new qm(we())}var En=class{_console=console;handleError(e){this._console.error("ERROR",e)}},xt=new V("",{providedIn:"root",factory:()=>{let n=N(Oe),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(En),e.handleError(t))}}}),TC={provide:vr,useValue:()=>void N(En),multi:!0},o1=new V("",{providedIn:"root",factory:()=>{let n=N(ke).defaultView;if(!n)return;let e=N(xt),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),N(Jt).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function xy(){return bt([zD(()=>void N(o1))])}function Oy(n){return typeof n=="function"&&n[Tt]!==void 0}function Bt(n,e){let[t,r,i]=_m(n,e?.equal),o=t,s=o[Tt];return o.set=r,o.update=i,o.asReadonly=bC.bind(o),o}function bC(){let n=this[Tt];if(n.readonlyFn===void 0){let e=()=>this();e[Tt]=n,n.readonlyFn=e}return n.readonlyFn}function ky(n){return Oy(n)&&typeof n.set=="function"}var nh=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=s1}return n})();function s1(){return new nh(we(),mt())}var mr=class{},Yc=new V("",{providedIn:"root",factory:()=>!1});var Fy=new V(""),Ly=new V(""),Bn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Qe(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new re(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),li=(()=>{class n{internalPendingTasks=N(Bn);scheduler=N(mr);errorHandler=N(xt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})();function Jc(...n){}var Vy=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>new Gm})}return n})(),Gm=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Gs(n){return{toString:n}.toString()}var rh="__parameters__";function p1(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function g1(n,e,t){return Gs(()=>{let r=p1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(rh)?u[rh]:Object.defineProperty(u,rh,{value:[]})[rh];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Zt=UD(g1("Optional"),8);function m1(n){return typeof n=="function"}var uh=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function tS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var zn=(()=>{let n=()=>nS;return n.ngInherit=!0,n})();function nS(n){return n.type.prototype.ngOnChanges&&(n.setInput=v1),y1}function y1(){let n=iS(this),e=n?.current;if(e){let t=n.previous;if(t===ni)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function v1(n,e,t,r,i){let o=this.declaredInputs[r],s=iS(n)||_1(n,{previous:ni,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new uh(l&&l.currentValue,t,u===ni),tS(n,e,i,t)}var rS="__ngSimpleChanges__";function iS(n){return n[rS]||null}function _1(n,e){return n[rS]=e}var DC=[];var Ce=function(n,e=null,t){for(let r=0;r<DC.length;r++){let i=DC[r];i(n,e,t)}};function E1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=nS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function oS(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function sh(n,e,t){sS(n,e,3,t)}function ah(n,e,t,r){(n[ie]&3)===t&&sS(n,e,t,r)}function jy(n,e){let t=n[ie];(t&3)===e&&(t&=16383,t+=1,n[ie]=t)}function sS(n,e,t,r){let i=r!==void 0?n[po]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[po]+=65536),(a<o||o==-1)&&(I1(n,t,e,u),n[po]=(n[po]&4294901760)+u+2),u++}function CC(n,e){Ce(4,n,e);let t=de(null);try{e.call(n)}finally{de(t),Ce(5,n,e)}}function I1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ie]>>14<n[po]>>16&&(n[ie]&3)===e&&(n[ie]+=16384,CC(a,o)):CC(a,o)}var Bs=-1,Eo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function w1(n){return(n.flags&8)!==0}function T1(n){return(n.flags&16)!==0}function b1(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];D1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function aS(n){return n===3||n===4||n===6}function D1(n){return n.charCodeAt(0)===64}function $s(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?SC(n,t,i,null,e[++r]):SC(n,t,i,null,null))}}return n}function SC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function cS(n){return n!==Bs}function lh(n){return n&32767}function C1(n){return n>>16}function dh(n,e){let t=C1(n),r=e;for(;t>0;)r=r[ho],t--;return r}var Qy=!0;function hh(n){let e=Qy;return Qy=n,e}var S1=256,uS=S1-1,lS=5,A1=0,$n={};function R1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(uo)&&(r=t[uo]),r==null&&(r=t[uo]=A1++);let i=r&uS,o=1<<i;e.data[n+(i>>lS)]|=o}function fh(n,e){let t=dS(n,e);if(t!==-1)return t;let r=e[ce];r.firstCreatePass&&(n.injectorIndex=e.length,Uy(r.data,n),Uy(e,null),Uy(r.blueprint,null));let i=pv(n,e),o=n.injectorIndex;if(cS(i)){let s=lh(i),a=dh(i,e),u=a[ce].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Uy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function dS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function pv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=mS(i),r===null)return Bs;if(t++,i=i[ho],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Bs}function Yy(n,e,t){R1(n,e,t)}function N1(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(aS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function hS(n,e,t){if(t&8||n!==void 0)return n;Hd(e,"NodeInjector")}function fS(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[ri],o=Pt(void 0);try{return i?i.get(e,r,t&8):ry(e,r,t&8)}finally{Pt(o)}}return hS(r,e,t)}function pS(n,e,t,r=0,i){if(n!==null){if(e[ie]&2048&&!(r&2)){let s=k1(n,e,t,r,$n);if(s!==$n)return s}let o=gS(n,e,t,r,$n);if(o!==$n)return o}return fS(e,t,r,i)}function gS(n,e,t,r,i){let o=x1(t);if(typeof o=="function"){if(!Ny(e,n,r))return r&1?hS(i,t,r):fS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Hd(t);else return s}finally{My()}}else if(typeof o=="number"){let s=null,a=dS(n,e),u=Bs,l=r&1?e[un][cn]:null;for((a===-1||r&4)&&(u=a===-1?pv(n,e):e[a+8],u===Bs||!RC(r,!1)?a=-1:(s=e[ce],a=lh(u),e=dh(u,e)));a!==-1;){let h=e[ce];if(AC(o,a,h.data)){let p=M1(a,e,t,s,r,l);if(p!==$n)return p}u=e[a+8],u!==Bs&&RC(r,e[ce].data[a+8]===l)&&AC(o,a,e)?(s=h,a=lh(u),e=dh(u,e)):a=-1}}return i}function M1(n,e,t,r,i,o){let s=e[ce],a=s.data[n+8],u=r==null?oi(a)&&Qy:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=P1(a,s,t,u,l);return h!==null?ph(e,s,h,a,i):$n}function P1(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&t===S||y>=u&&S.type===t)return y}if(i){let y=s[u];if(y&&Un(y)&&y.type===t)return u}return null}function ph(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Eo){let a=o;if(a.resolving){let y=FD(s[t]);throw ny(y)}let u=hh(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?Pt(a.injectImpl):null,m=Ny(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&E1(t,s[t],e)}finally{p!==null&&Pt(p),hh(u),a.resolving=!1,My()}}return o}function x1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(uo)?n[uo]:void 0;return typeof e=="number"?e>=0?e&uS:O1:e}function AC(n,e,t){let r=1<<n;return!!(t[e+(n>>lS)]&r)}function RC(n,e){return!(n&2)&&!(n&1&&e)}var _o=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return pS(this._tNode,this._lView,e,so(r),t)}};function O1(){return new _o(mt(),we())}function Ir(n){return Gs(()=>{let e=n.prototype.constructor,t=e[Oc]||Jy(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Oc]||Jy(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Jy(n){return Qm(n)?()=>{let e=Jy(pt(n));return e&&e()}:ei(n)}function k1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ie]&2048&&!Ls(s);){let a=gS(o,s,t,r|2,$n);if(a!==$n)return a;let u=o.parent;if(!u){let l=s[fy];if(l){let h=l.get(t,$n,r);if(h!==$n)return h}u=mS(s),s=s[ho]}o=u}return i}function mS(n){let e=n[ce],t=e.type;return t===2?e.declTNode:t===1?n[cn]:null}function ru(n){return N1(mt(),n)}function F1(){return Sh(mt(),we())}function Sh(n,e){return new Dn(Tn(n,e))}var Dn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=F1}return n})();function yS(n){return(n.flags&128)===128}var gv=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(gv||{}),vS=new Map,L1=0;function V1(){return L1++}function j1(n){vS.set(n[$c],n)}function Zy(n){vS.delete(n[$c])}var NC="__ngContext__";function Hs(n,e){jn(e)?(n[NC]=e[$c],j1(e)):n[NC]=e}function _S(n){return IS(n[Fs])}function ES(n){return IS(n[an])}function IS(n){for(;n!==null&&!wn(n);)n=n[an];return n}var Xy;function mv(n){Xy=n}function wS(){if(Xy!==void 0)return Xy;if(typeof document<"u")return document;throw new j(210,!1)}var Ah=new V("",{providedIn:"root",factory:()=>U1}),U1="ng",Rh=new V(""),Do=new V("",{providedIn:"platform",factory:()=>"unknown"});var Nh=new V("",{providedIn:"root",factory:()=>wS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var B1="h",$1="b";var TS=!1,bS=new V("",{providedIn:"root",factory:()=>TS});var yv=new V("");var H1=(n,e,t,r)=>{};function z1(n,e,t,r){H1(n,e,t,r)}function vv(n){return(n.flags&32)===32}var q1=()=>null;function DS(n,e,t=!1){return q1(n,e,t)}function CS(n,e){let t=n.contentQueries;if(t!==null){let r=de(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Ry(o),a.contentQueries(2,e[s],s)}}}finally{de(r)}}}function ev(n,e,t){Ry(0);let r=de(null);try{e(n,t)}finally{de(r)}}function SS(n,e,t){if(py(e)){let r=de(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{de(r)}}}var Er=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Er||{});var ih;function G1(){if(ih===void 0&&(ih=null,Fc.trustedTypes))try{ih=Fc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ih}function MC(n){return G1()?.createScriptURL(n)||n}var gh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bd})`}};function iu(n){return n instanceof gh?n.changingThisBreaksApplicationSecurity:n}function _v(n,e){let t=AS(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Bd})`)}return t===e}function AS(n){return n instanceof gh&&n.getTypeName()||null}var W1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function RS(n){return n=String(n),n.match(W1)?n:"unsafe:"+n}function K1(n,e){return n.createText(e)}function Q1(n,e,t){n.setValue(e,t)}function NS(n,e,t){return n.createElement(e,t)}function mh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function MS(n,e,t){n.appendChild(e,t)}function PC(n,e,t,r,i){r!==null?mh(n,e,t,r,i):MS(n,e,t)}function Y1(n,e,t,r){n.removeChild(null,e,t,r)}function J1(n,e,t){n.setAttribute(e,"style",t)}function Z1(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function PS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&b1(n,e,r),i!==null&&Z1(n,e,i),o!==null&&J1(n,e,o)}var Mh=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Mh||{});function xS(n){let e=kS();return e?e.sanitize(Mh.URL,n)||"":_v(n,"URL")?iu(n):RS(lo(n))}function OS(n){let e=kS();if(e)return MC(e.sanitize(Mh.RESOURCE_URL,n)||"");if(_v(n,"ResourceURL"))return MC(iu(n));throw new j(904,!1)}function X1(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?OS:xS}function Ev(n,e,t){return X1(e,t)(n)}function kS(){let n=we();return n&&n[Vn].sanitizer}function FS(n){return n instanceof Function?n():n}function eF(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var LS="ng-template";function tF(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&eF(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Iv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Iv(n){return n.type===4&&n.value!==LS}function nF(n,e,t){let r=n.type===4&&!t?LS:n.value;return e===r}function rF(n,e,t){let r=4,i=n.attrs,o=i!==null?sF(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!bn(r)&&!bn(u))return!1;if(s&&bn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!nF(n,u,t)||u===""&&e.length===1){if(bn(r))return!1;s=!0}}else if(r&8){if(i===null||!tF(n,i,u,t)){if(bn(r))return!1;s=!0}}else{let l=e[++a],h=iF(u,i,Iv(n),t);if(h===-1){if(bn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(bn(r))return!1;s=!0}}}}return bn(r)||s}function bn(n){return(n&1)===0}function iF(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return aF(e,n)}function oF(n,e,t=!1){for(let r=0;r<e.length;r++)if(rF(n,e[r],t))return!0;return!1}function sF(n){for(let e=0;e<n.length;e++){let t=n[e];if(aS(t))return e}return n.length}function aF(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function xC(n,e){return n?":not("+e.trim()+")":e}function cF(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!bn(s)&&(e+=xC(o,i),i=""),r=s,o=o||!bn(r);t++}return i!==""&&(e+=xC(o,i)),e}function uF(n){return n.map(cF).join(",")}function lF(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!bn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Cn={};function wv(n,e,t,r,i,o,s,a,u,l,h){let p=Ct+r,m=p+i,y=dF(p,m),S=typeof l=="function"?l():l;return y[ce]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function dF(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Cn);return t}function hF(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=wv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Tv(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[In]=i,p[ie]=r|4|128|8|64|1024,(l!==null||n&&n[ie]&2048)&&(p[ie]|=2048),yy(p),p[gt]=p[ho]=n,p[Dt]=t,p[Vn]=s||n&&n[Vn],p[$e]=a||n&&n[$e],p[ri]=u||n&&n[ri]||null,p[cn]=o,p[$c]=V1(),p[Bc]=h,p[fy]=l,p[un]=e.type==2?n[un]:p,p}function fF(n,e,t){let r=Tn(e,n),i=hF(t),o=n[Vn].rendererFactory,s=bv(n,Tv(n,i,null,VS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function VS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function jS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function bv(n,e){return n[Fs]?n[hy][an]=e:n[Fs]=e,n[hy]=e,e}function $(n=1){US(Ut(),we(),ci()+n,!1)}function US(n,e,t,r){if(!r)if((e[ie]&3)===3){let o=n.preOrderCheckHooks;o!==null&&sh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&ah(e,o,0,t)}ui(t)}var Ph=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Ph||{});function tv(n,e,t,r){let i=de(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Ph.SignalBased)!==0&&(u=e[o][Tt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):tS(e,u,o,r)}finally{de(i)}}var Hn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Hn||{}),pF;function Dv(n,e){return pF(n,e)}var zs=new Set,xh=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(xh||{}),Co=new V(""),OC=new Set;function So(n){OC.has(n)||(OC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var BS=!1,nv=class extends Ke{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,QD()&&(this.destroyRef=N(Jt,{optional:!0})??void 0,this.pendingTasks=N(Bn,{optional:!0})??void 0)}emit(e){let t=de(null);try{super.next(e)}finally{de(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof je&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ge=nv;function $S(n){let e,t;function r(){n=Jc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function kC(n){return queueMicrotask(()=>n()),()=>{n=Jc}}var Cv="isAngularZone",yh=Cv+"_ID",gF=0,Ie=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ge(!1);onMicrotaskEmpty=new Ge(!1);onStable=new Ge(!1);onError=new Ge(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=BS}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,vF(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Cv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new j(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,mF,Jc,Jc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},mF={};function Sv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function yF(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){$S(()=>{n.callbackScheduled=!1,rv(n),n.isCheckStableRunning=!0,Sv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),rv(n)}function vF(n){let e=()=>{yF(n)},t=gF++;n._inner=n._inner.fork({name:"angular",properties:{[Cv]:!0,[yh]:t,[yh+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(_F(u))return r.invokeTask(o,s,a,u);try{return FC(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),LC(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return FC(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!EF(u)&&e(),LC(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,rv(n),Sv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function rv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function FC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function LC(n){n._nesting--,Sv(n)}var vh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ge;onMicrotaskEmpty=new Ge;onStable=new Ge;onError=new Ge;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function _F(n){return HS(n,"__ignore_ng_zone__")}function EF(n){return HS(n,"__scheduler_tick__")}function HS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Av=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),zS=[0,1,2,3],qS=(()=>{class n{ngZone=N(Ie);scheduler=N(mr);errorHandler=N(En,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){N(Co,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ce(16),this.executing=!0;for(let r of zS)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ce(17)}register(t){let{view:r}=t;r!==void 0?((r[mo]??=[]).push(t),Vs(r),r[ie]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(xh.AFTER_NEXT_RENDER,t):t()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),_h=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[mo];e&&(this.view[mo]=e.filter(t=>t!==this))}};function ou(n,e){let t=e?.injector??N(Ue);return So("NgAfterNextRender"),wF(n,t,e,!0)}function IF(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function wF(n,e,t,r){let i=e.get(Av);i.impl??=e.get(qS);let o=e.get(Co,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Jt):null,a=e.get(nh,null,{optional:!0}),u=new _h(i.impl,IF(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var TF=new V("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function GS(n,e,t){let r=n.get(TF);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function bF(n,e){for(let[t,r]of e)GS(n,r.animateFns)}function VC(n,e,t,r){let i=n?.[zc]?.enter;e!==null&&i&&i.has(t.index)&&bF(r,i)}function Us(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;wn(i)?u=i:jn(i)&&(l=!0,i=i[In]);let h=ln(i);n===0&&r!==null?(VC(a,r,o,t),s==null?MS(e,r,h):mh(e,r,h,s||null,!0)):n===1&&r!==null?(VC(a,r,o,t),mh(e,r,h,s||null,!0)):n===2?jC(a,o,t,p=>{Y1(e,h,l,p)}):n===3&&jC(a,o,t,()=>{e.destroyNode(h)}),u!=null&&LF(e,n,t,u,o,r,s)}}function DF(n,e){WS(n,e),e[In]=null,e[cn]=null}function CF(n,e,t,r,i,o){r[In]=i,r[cn]=e,Oh(n,r,t,1,i,o)}function WS(n,e){e[Vn].changeDetectionScheduler?.notify(9),Oh(n,e,e[$e],2,null,null)}function SF(n){let e=n[Fs];if(!e)return By(n[ce],n);for(;e;){let t=null;if(jn(e))t=e[Fs];else{let r=e[jt];r&&(t=r)}if(!t){for(;e&&!e[an]&&e!==n;)jn(e)&&By(e[ce],e),e=e[gt];e===null&&(e=n),jn(e)&&By(e[ce],e),t=e&&e[an]}e=t}}function Rv(n,e){let t=n[Gc],r=t.indexOf(e);t.splice(r,1)}function KS(n,e){if(yo(e))return;let t=e[$e];t.destroyNode&&Oh(n,e,t,3,null,null),SF(e)}function By(n,e){if(yo(e))return;let t=de(null);try{e[ie]&=-129,e[ie]|=256,e[Yt]&&Ac(e[Yt]),NF(n,e),RF(n,e),e[ce].type===1&&e[$e].destroy();let r=e[fo];if(r!==null&&wn(e[gt])){r!==e[gt]&&Rv(r,e);let i=e[go];i!==null&&i.detachView(n)}Zy(e)}finally{de(t)}}function jC(n,e,t,r){let i=n?.[zc];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&zs.add(n),GS(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),AF(n,r)}else n&&zs.delete(n),r(!1)},i)}function AF(n,e){let t=n[zc]?.running;if(t){t.then(()=>{n[zc].running=void 0,zs.delete(n),e(!0)});return}e(!1)}function RF(n,e){let t=n.cleanup,r=e[ks];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ks]=null);let i=e[pr];if(i!==null){e[pr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Hc];if(o!==null){e[Hc]=null;for(let s of o)s.destroy()}}function NF(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Eo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Ce(4,a,u);try{u.call(a)}finally{Ce(5,a,u)}}else{Ce(4,i,o);try{o.call(i)}finally{Ce(5,i,o)}}}}}function MF(n,e,t){return PF(n,e.parent,t)}function PF(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[In];if(oi(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Er.None||i===Er.Emulated)return null}return Tn(r,t)}function xF(n,e,t){return kF(n,e,t)}function OF(n,e,t){return n.type&40?Tn(n,t):null}var kF=OF,UC;function Nv(n,e,t,r){let i=MF(n,r,e),o=e[$e],s=r.parent||e[cn],a=xF(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)PC(o,i,t[u],a,!1);else PC(o,i,t,a,!1);UC!==void 0&&UC(o,r,e,t,i)}function Zc(n,e){if(e!==null){let t=e.type;if(t&3)return Tn(e,n);if(t&4)return iv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Zc(n,r);{let i=n[e.index];return wn(i)?iv(-1,i):ln(i)}}else{if(t&128)return Zc(n,e.next);if(t&32)return Dv(e,n)()||ln(n[e.index]);{let r=QS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ti(n[un]);return Zc(i,r)}else return Zc(n,e.next)}}}return null}function QS(n,e){if(e!==null){let r=n[un][cn],i=e.projection;return r.projection[i]}return null}function iv(n,e){let t=jt+n+1;if(t<e.length){let r=e[t],i=r[ce].firstChild;if(i!==null)return Zc(r,i)}return e[ii]}function Mv(n,e,t,r,i,o,s){for(;t!=null;){let a=r[ri];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&Hs(ln(u),r),t.flags|=2),!vv(t))if(l&8)Mv(n,e,t.child,r,i,o,!1),Us(e,n,a,i,u,t,o,r);else if(l&32){let h=Dv(t,r),p;for(;p=h();)Us(e,n,a,i,p,t,o,r);Us(e,n,a,i,u,t,o,r)}else l&16?FF(n,e,r,t,i,o):Us(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function Oh(n,e,t,r,i,o){Mv(t,r,n.firstChild,e,i,o,!1)}function FF(n,e,t,r,i,o){let s=t[un],u=s[cn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Us(e,n,t[ri],i,h,r,o,t)}else{let l=u,h=s[gt];yS(r)&&(l.flags|=128),Mv(n,e,l,h,i,o,!0)}}function LF(n,e,t,r,i,o,s){let a=r[ii],u=ln(r);a!==u&&Us(e,n,t,o,a,i,s);for(let l=jt;l<r.length;l++){let h=r[l];Oh(h[ce],h,n,e,o,a)}}function VF(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Hn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Hn.Important),n.setStyle(t,r,i,o))}}function YS(n,e,t,r,i){let o=ci(),s=r&2;try{ui(-1),s&&e.length>Ct&&US(n,e,Ct,!1),Ce(s?2:0,i,t),t(r,i)}finally{ui(o),Ce(s?3:1,i,t)}}function Pv(n,e,t){qF(n,e,t),(t.flags&64)===64&&GF(n,e,t)}function xv(n,e,t=Tn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function jF(n,e,t,r){let o=r.get(bS,TS)||t===Er.ShadowDom,s=n.selectRootElement(e,o);return UF(s),s}function UF(n){BF(n)}var BF=()=>null;function $F(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function JS(n,e,t,r,i,o){let s=e[ce];if(Ov(n,s,e,t,r)){oi(n)&&zF(e,n.index);return}n.type&3&&(t=$F(t)),HF(n,e,t,r,i,o)}function HF(n,e,t,r,i,o){if(n.type&3){let s=Tn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function zF(n,e){let t=dn(e,n);t[ie]&16||(t[ie]|=64)}function qF(n,e,t){let r=t.directiveStart,i=t.directiveEnd;oi(t)&&fF(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||fh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=ph(e,n,s,t);if(Hs(u,e),o!==null&&YF(e,s-r,u,a,t,o),Un(a)){let l=dn(t.index,e);l[Dt]=ph(e,n,s,t)}}}function GF(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=gC();try{ui(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Yd(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&WF(u,l)}}finally{ui(-1),Yd(s)}}function WF(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function ZS(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];oF(e,o.selectors,!1)&&(r??=[],Un(o)?r.unshift(o):r.push(o))}return r}function KF(n,e,t,r,i,o){let s=Tn(n,e);QF(e[$e],s,o,n.value,t,r,i)}function QF(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?lo(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function YF(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];tv(r,t,u,l)}}function XS(n,e,t,r,i){let o=Ct+t,s=e[ce],a=i(s,e,n,r,t);e[o]=a,js(n,!0);let u=n.type===2;return u?(PS(e[$e],a,n),(oC()===0||Wc(n))&&Hs(a,e),sC()):Hs(a,e),eh()&&(!u||!vv(n))&&Nv(s,e,a,n),n}function e0(n){let e=n;return Dy()?uC():(e=e.parent,js(e,!1)),e}function JF(n,e){let t=n[ri];if(!t)return;let r;try{r=t.get(xt,null)}catch{r=null}r?.(e)}function Ov(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];tv(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];tv(h,l,r,i),a=!0}return a}function ZF(n,e){let t=dn(e,n),r=t[ce];XF(r,t);let i=t[In];i!==null&&t[Bc]===null&&(t[Bc]=DS(i,t[ri])),Ce(18),kv(r,t,t[Dt]),Ce(19,t[Dt])}function XF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function kv(n,e,t){Jd(e);try{let r=n.viewQuery;r!==null&&ev(1,r,t);let i=n.template;i!==null&&YS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[go]?.finishViewCreation(n),n.staticContentQueries&&CS(n,e),n.staticViewQueries&&ev(2,n.viewQuery,t);let o=n.components;o!==null&&eL(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ie]&=-5,Zd()}}function eL(n,e){for(let t=0;t<e.length;t++)ZF(n,e[t])}function tL(n,e,t,r){let i=de(null);try{let o=e.tView,a=n[ie]&4096?4096:16,u=Tv(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[fo]=l;let h=n[go];return h!==null&&(u[go]=h.createEmbeddedView(o)),kv(o,u,t),u}finally{de(i)}}function BC(n,e){return!e||e.firstChild===null||yS(n)}function eu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(ln(o)),wn(o)&&t0(o,r);let s=t.type;if(s&8)eu(n,e,t.child,r);else if(s&32){let a=Dv(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=QS(e,t);if(Array.isArray(a))r.push(...a);else{let u=ti(e[un]);eu(u[ce],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function t0(n,e){for(let t=jt;t<n.length;t++){let r=n[t],i=r[ce].firstChild;i!==null&&eu(r[ce],r,i,e)}n[ii]!==n[In]&&e.push(n[ii])}function n0(n){if(n[mo]!==null){for(let e of n[mo])e.impl.addSequence(e);n[mo].length=0}}var r0=[];function nL(n){return n[Yt]??rL(n)}function rL(n){let e=r0.pop()??Object.create(oL);return e.lView=n,e}function iL(n){n.lView[Yt]!==n&&(n.lView=null,r0.push(n))}var oL=le(k({},ps),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Vs(n.lView)},consumerOnSignalRead(){this.lView[Yt]=this}});function sL(n){let e=n[Yt]??Object.create(aL);return e.lView=n,e}var aL=le(k({},ps),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=ti(n.lView);for(;e&&!i0(e[ce]);)e=ti(e);e&&vy(e)},consumerOnSignalRead(){this.lView[Yt]=this}});function i0(n){return n.type!==2}function o0(n){if(n[Hc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Hc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ie]&8192)}}var cL=100;function s0(n,e=0){let r=n[Vn].rendererFactory,i=!1;i||r.begin?.();try{uL(n,e)}finally{i||r.end?.()}}function uL(n,e){let t=Cy();try{Sy(!0),ov(n,e);let r=0;for(;Kc(n);){if(r===cL)throw new j(103,!1);r++,ov(n,1)}}finally{Sy(t)}}function lL(n,e,t,r){if(yo(e))return;let i=e[ie],o=!1,s=!1;Jd(e);let a=!0,u=null,l=null;o||(i0(n)?(l=nL(e),u=ms(l)):id()===null?(a=!1,l=sL(e),u=ms(l)):e[Yt]&&(Ac(e[Yt]),e[Yt]=null));try{yy(e),hC(n.bindingStartIndex),t!==null&&YS(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&sh(e,y,null)}else{let y=n.preOrderHooks;y!==null&&ah(e,y,0,null),jy(e,0)}if(s||dL(e),o0(e),a0(e,0),n.contentQueries!==null&&CS(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&sh(e,y)}else{let y=n.contentHooks;y!==null&&ah(e,y,1),jy(e,1)}fL(n,e);let p=n.components;p!==null&&u0(e,p,0);let m=n.viewQuery;if(m!==null&&ev(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&sh(e,y)}else{let y=n.viewHooks;y!==null&&ah(e,y,2),jy(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Gd]){for(let y of e[Gd])y();e[Gd]=null}o||(n0(e),e[ie]&=-73)}catch(h){throw o||Vs(e),h}finally{l!==null&&(Cc(l,u),a&&iL(l)),Zd()}}function a0(n,e){for(let t=_S(n);t!==null;t=ES(t))for(let r=jt;r<t.length;r++){let i=t[r];c0(i,e)}}function dL(n){for(let e=_S(n);e!==null;e=ES(e)){if(!(e[ie]&2))continue;let t=e[Gc];for(let r=0;r<t.length;r++){let i=t[r];vy(i)}}}function hL(n,e,t){Ce(18);let r=dn(e,n);c0(r,t),Ce(19,r[Dt])}function c0(n,e){Kd(n)&&ov(n,e)}function ov(n,e){let r=n[ce],i=n[ie],o=n[Yt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Sc(o)),s||=!1,o&&(o.dirty=!1),n[ie]&=-9217,s)lL(r,n,r.template,n[Dt]);else if(i&8192){let a=de(null);try{o0(n),a0(n,1);let u=r.components;u!==null&&u0(n,u,1),n0(n)}finally{de(a)}}}function u0(n,e,t){for(let r=0;r<e.length;r++)hL(n,e[r],t)}function fL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ui(~i);else{let o=i,s=t[++r],a=t[++r];pC(s,o);let u=e[o];Ce(24,u),a(2,u),Ce(25,u)}}}finally{ui(-1)}}function Fv(n,e){let t=Cy()?64:1088;for(n[Vn].changeDetectionScheduler?.notify(e);n;){n[ie]|=t;let r=ti(n);if(Ls(n)&&!r)return n;n=r}return null}function l0(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function pL(n,e,t,r=!0){let i=e[ce];if(gL(i,e,n,t),r){let s=iv(t,n),a=e[$e],u=a.parentNode(n[ii]);u!==null&&CF(i,n[cn],a,e,u,s)}let o=e[Bc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function sv(n,e){if(n.length<=jt)return;let t=jt+e,r=n[t];if(r){let i=r[fo];i!==null&&i!==n&&Rv(i,r),e>0&&(n[t-1][an]=r[an]);let o=Vc(n,jt+e);DF(r[ce],r);let s=o[go];s!==null&&s.detachView(o[ce]),r[gt]=null,r[an]=null,r[ie]&=-129}return r}function gL(n,e,t,r){let i=jt+r,o=t.length;r>0&&(t[i-1][an]=e),r<o-jt?(e[an]=t[i],iy(t,jt+r,e)):(t.push(e),e[an]=null),e[gt]=t;let s=e[fo];s!==null&&t!==s&&d0(s,e);let a=e[go];a!==null&&a.insertView(n),Qd(e),e[ie]|=128}function d0(n,e){let t=n[Gc],r=e[gt];if(jn(r))n[ie]|=2;else{let i=r[gt][un];e[un]!==i&&(n[ie]|=2)}t===null?n[Gc]=[e]:t.push(e)}var di=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ce];return eu(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Dt]}set context(e){this._lView[Dt]=e}get destroyed(){return yo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[gt];if(wn(e)){let t=e[qc],r=t?t.indexOf(this):-1;r>-1&&(sv(e,r),Vc(t,r))}this._attachedToViewContainer=!1}KS(this._lView[ce],this._lView)}onDestroy(e){_y(this._lView,e)}markForCheck(){Fv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){Qd(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,s0(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ls(this._lView),t=this._lView[fo];t!==null&&!e&&Rv(t,this._lView),WS(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let t=Ls(this._lView),r=this._lView[fo];r!==null&&!t&&d0(r,this._lView),Qd(this._lView)}};var su=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=mL;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=tL(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new di(o)}}return n})();function mL(){return yL(mt(),we())}function yL(n,e){return n.type&4?new su(e,n,Sh(n,e)):null}function kh(n,e,t,r,i){let o=n.data[e];if(o===null)o=vL(n,e,t,r,i),fC()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=cC();o.injectorIndex=s===null?-1:s.injectorIndex}return js(o,!0),o}function vL(n,e,t,r,i){let o=by(),s=Dy(),a=s?o:o&&o.parent,u=n.data[e]=EL(n,a,t,e,r,i);return _L(n,u,o,s),u}function _L(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function EL(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return aC()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var gQ=new RegExp(`^(\\d+)*(${$1}|${B1})*(.*)`);var IL=()=>null;function $C(n,e){return IL(n,e)}var h0=class{},Fh=class{},av=class{resolveComponentFactory(e){throw new j(917,!1)}},au=class{static NULL=new av},Io=class{},qn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>wL()}return n})();function wL(){let n=we(),e=mt(),t=dn(e.index,n);return(jn(t)?t:n)[$e]}var f0=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>null})}return n})();var ch={},cv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,ch,r);return i!==ch||t===ch?i:this.parentInjector.get(e,t,r)}};function Eh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Km(i,a);else if(o==2){let u=a,l=e[++s];r=Km(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function B(n,e=0){let t=we();if(t===null)return q(n,e);let r=mt();return pS(r,t,pt(n),e)}function Lv(){let n="invalid";throw new Error(n)}function p0(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}DL(n,e,t,a,o,u,l)}o!==null&&r!==null&&TL(t,r,o)}function TL(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function bL(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function DL(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&Un(y)&&(u=!0,bL(n,t,m)),Yy(fh(t,e),n,y.type)}ML(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=jS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=$s(t.mergedAttrs,y.hostAttrs),SL(n,t,e,p,y),NL(p,y,i),s!==null&&s.has(y)){let[M,A]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,A+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let S=y.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}CL(n,t,o)}function CL(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))HC(0,e,i,r),HC(1,e,i,r),qC(e,r,!1);else{let o=t.get(i);zC(0,e,o,r),zC(1,e,o,r),qC(e,r,!0)}}}function HC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),g0(e,o)}}function zC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),g0(e,s)}}function g0(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function qC(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Iv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function SL(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ei(i.type,!0)),s=new Eo(o,Un(i),B,null);n.blueprint[r]=s,t[r]=s,AL(n,e,r,jS(n,t,i.hostVars,Cn),i)}function AL(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;RL(s)!=a&&s.push(a),s.push(t,r,o)}}function RL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function NL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Un(e)&&(t[""]=n)}}function ML(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function m0(n,e,t,r,i,o,s,a){let u=e[ce],l=u.consts,h=vo(l,s),p=kh(u,n,t,r,h);return o&&p0(u,e,p,vo(l,a),i),p.mergedAttrs=$s(p.mergedAttrs,p.attrs),p.attrs!==null&&Eh(p,p.attrs,!1),p.mergedAttrs!==null&&Eh(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function y0(n,e){oS(n,e),py(e)&&n.queries.elementEnd(e)}function PL(n,e,t,r,i,o){let s=e.consts,a=vo(s,i),u=kh(e,n,t,r,a);if(u.mergedAttrs=$s(u.mergedAttrs,u.attrs),o!=null){let l=vo(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&Eh(u,u.attrs,!1),u.mergedAttrs!==null&&Eh(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Vv(n){return _0(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function v0(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function _0(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function xL(n,e,t){return n[e]=t}function hi(n,e,t){if(t===Cn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function OL(n,e,t,r){let i=hi(n,e,t);return hi(n,e+1,r)||i}function $y(n,e,t){return function r(i){let o=oi(n)?dn(n.index,e):e;Fv(o,5);let s=e[Dt],a=GC(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=GC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function GC(n,e,t,r){let i=de(null);try{return Ce(6,e,t),t(r)!==!1}catch(o){return JF(n,o),!1}finally{Ce(7,e,t),de(i)}}function kL(n,e,t,r,i,o,s,a){let u=Wc(n),l=!1,h=null;if(!r&&u&&(h=LL(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=Tn(n,t),m=r?r(p):p;z1(t,m,o,a);let y=i.listen(m,o,a);if(!FL(o)){let S=r?M=>r(ln(M[n.index])):n.index;E0(S,e,t,o,a,y,!1)}}return l}function FL(n){return n.startsWith("animation")||n.startsWith("transition")}function LL(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ks],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function E0(n,e,t,r,i,o,s){let a=e.firstCreatePass?iC(e):null,u=rC(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function WC(n,e,t,r,i,o){let s=e[t],a=e[ce],l=a.data[t].outputs[r],p=s[l].subscribe(o);E0(n.index,a,e,i,o,p,!0)}var uv=Symbol("BINDING");var Ih=class extends au{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=_r(e);return new wo(t,this.ngModule)}};function VL(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Ph.SignalBased)!==0};return i&&(o.transform=i),o})}function jL(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function UL(n,e,t){let r=e instanceof Oe?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new cv(t,r):t}function BL(n){let e=n.get(Io,null);if(e===null)throw new j(407,!1);let t=n.get(f0,null),r=n.get(mr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function $L(n,e){let t=I0(n);return NS(e,t,t==="svg"?JD:t==="math"?ZD:null)}function I0(n){return(n.selectors[0][0]||"div").toLowerCase()}var wo=class extends Fh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=VL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=jL(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=uF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Ce(22);let a=de(null);try{let u=this.componentDef,l=HL(r,u,s,o),h=UL(u,i||this.ngModule,e),p=BL(h),m=p.rendererFactory.createRenderer(null,u),y=r?jF(m,r,u.encapsulation,h):$L(u,m),S=s?.some(KC)||o?.some(x=>typeof x!="function"&&x.bindings.some(KC)),M=Tv(null,l,null,512|VS(u),null,null,p,m,h,null,DS(y,h,!0));M[Ct]=y,Jd(M);let A=null;try{let x=m0(Ct,M,2,"#host",()=>l.directiveRegistry,!0,0);PS(m,y,x),Hs(y,M),Pv(l,M,x),SS(l,x,M),y0(l,x),t!==void 0&&qL(x,this.ngContentSelectors,t),A=dn(x.index,M),M[Dt]=A[Dt],kv(l,M,null)}catch(x){throw A!==null&&Zy(A),Zy(M),x}finally{Ce(23),Zd()}return new wh(this.componentType,M,!!S)}finally{de(a)}}};function HL(n,e,t,r){let i=n?["ng-version","20.3.15"]:lF(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[uv].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[uv].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=cy(p);u.push(m)}return wv(0,null,zL(o,s),1,a,u,null,null,null,[i],null)}function zL(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function KC(n){let e=n[uv].kind;return e==="input"||e==="twoWay"}var wh=class extends h0{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Wd(t[ce],Ct),this.location=Sh(this._tNode,t),this.instance=dn(this._tNode.index,t)[Dt],this.hostView=this.changeDetectorRef=new di(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Ov(r,i[ce],i,e,t);this.previousInputValues.set(e,t);let s=dn(r.index,i);Fv(s,1)}get injector(){return new _o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function qL(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ao=(()=>{class n{static __NG_ELEMENT_ID__=GL}return n})();function GL(){let n=mt();return KL(n,we())}var WL=Ao,w0=class extends WL{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Sh(this._hostTNode,this._hostLView)}get injector(){return new _o(this._hostTNode,this._hostLView)}get parentInjector(){let e=pv(this._hostTNode,this._hostLView);if(cS(e)){let t=dh(e,this._hostLView),r=lh(e),i=t[ce].data[r+8];return new _o(i,t)}else return new _o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=QC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-jt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=$C(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,BC(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!m1(e),l;if(u)l=t;else{let A=t||{};l=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef,s=A.directives,a=A.bindings}let h=u?e:new wo(_r(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let x=(u?p:this.parentInjector).get(Oe,null);x&&(o=x)}let m=_r(h.componentType??{}),y=$C(this._lContainer,m?.id??null),S=y?.firstChild??null,M=h.create(p,i,S,o,s,a);return this.insertImpl(M.hostView,l,BC(this._hostTNode,y)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(eC(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[gt],l=new w0(u,u[cn],u[gt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return pL(s,i,o,r),e.attachToViewContainerRef(),iy(Hy(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=QC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=sv(this._lContainer,t);r&&(Vc(Hy(this._lContainer),t),KS(r[ce],r))}detach(e){let t=this._adjustIndex(e,-1),r=sv(this._lContainer,t);return r&&Vc(Hy(this._lContainer),t)!=null?new di(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function QC(n){return n[qc]}function Hy(n){return n[qc]||(n[qc]=[])}function KL(n,e){let t,r=e[n.index];return wn(r)?t=r:(t=l0(r,e,null,n),e[n.index]=t,bv(e,t)),YL(t,e,n,r),new w0(t,n,e)}function QL(n,e){let t=n[$e],r=t.createComment(""),i=Tn(e,n),o=t.parentNode(i);return mh(t,o,r,t.nextSibling(i),!1),r}var YL=XL,JL=()=>!1;function ZL(n,e,t){return JL(n,e,t)}function XL(n,e,t,r){if(n[ii])return;let i;t.type&8?i=ln(r):i=QL(e,t),n[ii]=i}var To=class{},Lh=class{};var Th=class extends To{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ih(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=ay(e);this._bootstrapComponents=FS(o.bootstrap),this._r3Injector=Py(e,t,[{provide:To,useValue:this},{provide:au,useValue:this.componentFactoryResolver},...r],gr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},bh=class extends Lh{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Th(this.moduleType,e,[])}};var tu=class extends To{injector;componentFactoryResolver=new Ih(this);instance=null;constructor(e){super();let t=new co([...e.providers,{provide:To,useValue:this},{provide:au,useValue:this.componentFactoryResolver}],e.parent||Uc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ws(n,e,t=null){return new tu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var eV=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=uy(!1,t.type),i=r.length>0?Ws([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=L({token:n,providedIn:"environment",factory:()=>new n(q(Oe))})}return n})();function yt(n){return Gs(()=>{let e=T0(n),t=le(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===gv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(eV).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Er.Emulated,styles:n.styles||Kt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&So("NgStandalone"),b0(t);let r=n.dependencies;return t.directiveDefs=YC(r,tV),t.pipeDefs=YC(r,HD),t.id=iV(t),t})}function tV(n){return _r(n)||cy(n)}function hn(n){return Gs(()=>({type:n.type,bootstrap:n.bootstrap||Kt,declarations:n.declarations||Kt,imports:n.imports||Kt,exports:n.exports||Kt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function nV(n,e){if(n==null)return ni;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Ph.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function rV(n){if(n==null)return ni;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Fe(n){return Gs(()=>{let e=T0(n);return b0(e),e})}function Vh(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function T0(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ni,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Kt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:nV(n.inputs,e),outputs:rV(n.outputs),debugInfo:null}}function b0(n){n.features?.forEach(e=>e(n))}function YC(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function iV(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function oV(n){return Object.getPrototypeOf(n.prototype).constructor}function Xt(n){let e=oV(n.type),t=!0,r=[n];for(;e;){let i;if(Un(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=zy(n.inputs),s.declaredInputs=zy(n.declaredInputs),s.outputs=zy(n.outputs);let a=i.hostBindings;a&&lV(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&cV(n,u),l&&uV(n,l),sV(n,i),kD(n.outputs,i.outputs),Un(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Xt&&(t=!1)}}e=Object.getPrototypeOf(e)}aV(r)}function sV(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function aV(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$s(i.hostAttrs,t=$s(t,i.hostAttrs))}}function zy(n){return n===ni?{}:n===Kt?[]:n}function cV(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function uV(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function lV(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function dV(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=$s(n.mergedAttrs,n.attrs);let h=n.tView=wv(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),js(n,!1);let u=fV(t,e,n,r);eh()&&Nv(t,e,u,n),Hs(u,e);let l=l0(u,e,u,n);e[r+Ct]=l,bv(e,l),ZL(l,n,e)}function hV(n,e,t,r,i,o,s,a,u,l,h){let p=t+Ct,m;return e.firstCreatePass?(m=kh(e,p,4,s||null,a||null),Iy()&&p0(e,n,m,vo(e.consts,l),ZS),oS(e,m)):m=e.data[p],dV(m,n,e,t,r,i,o,u),Wc(m)&&Pv(e,n,m),l!=null&&xv(n,m,h),m}function fi(n,e,t,r,i,o,s,a){let u=we(),l=Ut(),h=vo(l.consts,o);return hV(u,l,n,e,t,r,i,h,void 0,s,a),fi}var fV=pV;function pV(n,e,t,r){return th(!0),e[$e].createComment("")}var jv=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Uv=new V("");function pi(n){return!!n&&typeof n.then=="function"}function Bv(n){return!!n&&typeof n.subscribe=="function"}var $v=new V("");function jh(n){return bt([{provide:$v,multi:!0,useValue:n}])}var Hv=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=N($v,{optional:!0})??[];injector=N(Ue);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Be(this.injector,i);if(pi(o))t.push(o);else if(Bv(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cu=new V("");function D0(){vm(()=>{let n="";throw new j(600,n)})}function C0(n){return n.isBoundToModule}var gV=10;var wr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(xt);afterRenderManager=N(Av);zonelessEnabled=N(Yc);rootEffectScheduler=N(Vy);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ke;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(Bn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(te(t=>!t))}constructor(){N(Co,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=N(Oe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ue.NULL){return this._injector.get(Ie).run(()=>{Ce(10);let s=t instanceof Fh;if(!this._injector.get(Hv).done){let S="";throw new j(405,S)}let u;s?u=t:u=this._injector.get(au).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=C0(u)?void 0:this._injector.get(To),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(Uv,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Xc(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),Ce(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ce(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(xh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let t=de(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,de(t),this.afterTick.next(),Ce(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Io,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<gV;)Ce(14),this.synchronizeOnce(),Ce(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Kc(i))continue;let o=r&&!this.zonelessEnabled?0:1;s0(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Kc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Xc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(cu,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Xc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new j(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function uu(n,e,t,r){let i=we(),o=Qc();if(hi(i,o,e)){let s=Ut(),a=Xd();KF(a,i,n,e,t,r)}return uu}var wQ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Je(n,e,t){let r=we(),i=Qc();if(hi(r,i,e)){let o=Ut(),s=Xd();JS(s,r,n,e,r[$e],t)}return Je}function JC(n,e,t,r,i){Ov(e,n,t,i?"class":"style",r)}function G(n,e,t,r){let i=we(),o=i[ce],s=n+Ct,a=o.firstCreatePass?m0(s,i,2,e,ZS,Iy(),t,r):o.data[s];if(XS(a,i,n,e,S0),Wc(a)){let u=i[ce];Pv(u,i,a),SS(u,a,i)}return r!=null&&xv(i,a),G}function Y(){let n=Ut(),e=mt(),t=e0(e);return n.firstCreatePass&&y0(n,t),wy(t)&&Ty(),Ey(),t.classesWithoutHost!=null&&w1(t)&&JC(n,t,we(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&T1(t)&&JC(n,t,we(),t.stylesWithoutHost,!1),Y}function $t(n,e,t,r){return G(n,e,t,r),Y(),$t}function Tr(n,e,t,r){let i=we(),o=i[ce],s=n+Ct,a=o.firstCreatePass?PL(s,o,2,e,t,r):o.data[s];return XS(a,i,n,e,S0),r!=null&&xv(i,a),Tr}function br(){let n=mt(),e=e0(n);return wy(e)&&Ty(),Ey(),br}var S0=(n,e,t,r,i)=>(th(!0),NS(e[$e],r,IC()));function lu(){return we()}var du="en-US";var mV=du;function A0(n){typeof n=="string"&&(mV=n.toLowerCase().replace(/_/g,"-"))}function Se(n,e,t){let r=we(),i=Ut(),o=mt();return R0(i,r,r[$e],o,n,e,t),Se}function R0(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=$y(r,e,o),kL(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=$y(r,e,o),WC(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=$y(r,e,o),WC(r,e,p,i,i,u)}}function Sn(n=1){return EC(n)}function oh(n,e){return n<<17|e<<2}function bo(n){return n>>17&32767}function yV(n){return(n&2)==2}function vV(n,e){return n&131071|e<<17}function lv(n){return n|2}function qs(n){return(n&131068)>>2}function qy(n,e){return n&-131069|e<<2}function _V(n){return(n&1)===1}function dv(n){return n|1}function EV(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=bo(s),u=qs(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Os(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=bo(n[a+1]);n[r+1]=oh(m,a),m!==0&&(n[m+1]=qy(n[m+1],r)),n[a+1]=vV(n[a+1],r)}else n[r+1]=oh(a,0),a!==0&&(n[a+1]=qy(n[a+1],r)),a=r;else n[r+1]=oh(u,0),a===0?a=r:n[u+1]=qy(n[u+1],r),u=r;l&&(n[r+1]=lv(n[r+1])),ZC(n,h,r,!0),ZC(n,h,r,!1),IV(e,h,n,r,o),s=oh(a,u),o?e.classBindings=s:e.styleBindings=s}function IV(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Os(o,e)>=0&&(t[r+1]=dv(t[r+1]))}function ZC(n,e,t,r){let i=n[t+1],o=e===null,s=r?bo(i):qs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];wV(u,e)&&(a=!0,n[s+1]=r?dv(l):lv(l)),s=r?bo(l):qs(l)}a&&(n[t+1]=r?lv(i):dv(i))}function wV(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Os(n,e)>=0:!1}function Ro(n,e){return TV(n,e,null,!0),Ro}function TV(n,e,t,r){let i=we(),o=Ut(),s=Ay(2);if(o.firstUpdatePass&&DV(o,n,s,r),e!==Cn&&hi(i,s,e)){let a=o.data[ci()];NV(o,a,i,i[$e],n,i[s+1]=MV(e,t),r,s)}}function bV(n,e){return e>=n.expandoStartIndex}function DV(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ci()],s=bV(n,t);PV(o,r)&&e===null&&!s&&(e=!1),e=CV(i,o,e,r),EV(i,o,e,t,s,r)}}function CV(n,e,t,r){let i=mC(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Gy(null,n,e,t,r),t=nu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Gy(i,n,e,t,r),o===null){let u=SV(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Gy(null,n,e,u[1],r),u=nu(u,e.attrs,r),AV(n,e,r,u))}else o=RV(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function SV(n,e,t){let r=t?e.classBindings:e.styleBindings;if(qs(r)!==0)return n[bo(r)]}function AV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[bo(i)]=r}function RV(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=nu(r,s,t)}return nu(r,e.attrs,t)}function Gy(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=nu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function nu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),$D(n,s,t?!0:e[++o]))}return n===void 0?null:n}function NV(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=_V(l)?XC(u,e,t,i,qs(l),s):void 0;if(!Dh(h)){Dh(o)||yV(l)&&(o=XC(u,null,t,i,a,s));let p=gy(ci(),t);VF(r,s,p,i,o)}}function XC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Cn&&(m=p?Kt:void 0);let y=p?qd(m,r):h===r?m:void 0;if(l&&!Dh(y)&&(y=qd(u,r)),Dh(y)&&(a=y,s))return a;let S=n[i+1];i=s?bo(S):qs(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=qd(u,r))}return a}function Dh(n){return n!==void 0}function MV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=gr(iu(n)))),n}function PV(n,e){return(n.flags&(e?8:16))!==0}function W(n,e=""){let t=we(),r=Ut(),i=n+Ct,o=r.firstCreatePass?kh(r,i,1,e,null):r.data[i],s=xV(r,t,o,e,n);t[i]=s,eh()&&Nv(r,t,s,o),js(o,!1)}var xV=(n,e,t,r,i)=>(th(!0),K1(e[$e],r));function OV(n,e,t,r=""){return hi(n,Qc(),t)?e+lo(t)+r:Cn}function kV(n,e,t,r,i,o=""){let s=dC(),a=OL(n,s,t,i);return Ay(2),a?e+lo(t)+r+lo(i)+o:Cn}function ee(n){return hu("",n),ee}function hu(n,e,t){let r=we(),i=OV(r,n,e,t);return i!==Cn&&N0(r,ci(),i),hu}function Uh(n,e,t,r,i){let o=we(),s=kV(o,n,e,t,r,i);return s!==Cn&&N0(o,ci(),s),Uh}function N0(n,e,t){let r=gy(e,n);Q1(n[$e],r,t)}function Bh(n,e,t){ky(e)&&(e=e());let r=we(),i=Qc();if(hi(r,i,e)){let o=Ut(),s=Xd();JS(s,r,n,e,r[$e],t)}return Bh}function zv(n,e){let t=ky(n);return t&&n.set(e),t}function $h(n,e){let t=we(),r=Ut(),i=mt();return R0(r,t,t[$e],i,n,e),$h}function FV(n,e,t){let r=Ut();if(r.firstCreatePass){let i=Un(n);hv(t,r.data,r.blueprint,i,!0),hv(e,r.data,r.blueprint,i,!1)}}function hv(n,e,t,r,i){if(n=pt(n),Array.isArray(n))for(let o=0;o<n.length;o++)hv(n[o],e,t,r,i);else{let o=Ut(),s=we(),a=mt(),u=ao(n)?n:pt(n.provide),l=dy(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ao(n)||!n.multi){let y=new Eo(l,i,B,null),S=Ky(u,e,i?h:h+m,p);S===-1?(Yy(fh(a,s),o,u),Wy(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[S]=y,s[S]=y)}else{let y=Ky(u,e,h+m,p),S=Ky(u,e,h,h+m),M=y>=0&&t[y],A=S>=0&&t[S];if(i&&!A||!i&&!M){Yy(fh(a,s),o,u);let x=jV(i?VV:LV,t.length,i,r,l,n);!i&&A&&(t[S].providerFactory=x),Wy(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(x),s.push(x)}else{let x=M0(t[i?S:y],l,!i&&r);Wy(o,n,y>-1?y:S,x)}!i&&r&&A&&t[S].componentProviders++}}}function Wy(n,e,t,r){let i=ao(e),o=KD(e);if(i||o){let u=(o?pt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function M0(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ky(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function LV(n,e,t,r,i){return fv(this.multi,[])}function VV(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=ph(r,r[ce],this.providerFactory.index,i);s=u.slice(0,a),fv(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],fv(o,s);return s}function fv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function jV(n,e,t,r,i,o){let s=new Eo(n,t,B,null);return s.multi=[],s.index=e,s.componentProviders=0,M0(s,i,r&&!t),s}function Dr(n,e=[]){return t=>{t.providersResolver=(r,i)=>FV(r,i?i(n):n,e)}}function UV(n,e){let t=n[e];return t===Cn?void 0:t}function BV(n,e,t,r,i,o){let s=e+t;return hi(n,s,i)?xL(n,s+1,o?r.call(o,i):r(i)):UV(n,s+1)}function fu(n,e){let t=Ut(),r,i=n+Ct;t.firstCreatePass?(r=$V(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=ei(r.type,!0)),s,a=Pt(B);try{let u=hh(!1),l=o();return hh(u),my(t,we(),i,l),l}finally{Pt(a)}}function $V(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function pu(n,e,t){let r=n+Ct,i=we(),o=XD(i,r);return HV(i,r)?BV(i,lC(),e,o.transform,t,o):o.transform(t)}function HV(n,e){return n[ce].data[e].pure}var Ch=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},qv=(()=>{class n{compileModuleSync(t){return new bh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=ay(t),o=FS(i.declarations).reduce((s,a)=>{let u=_r(a);return u&&s.push(new wo(u)),s},[]);return new Ch(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zV=(()=>{class n{zone=N(Ie);changeDetectionScheduler=N(mr);applicationRef=N(wr);applicationErrorHandler=N(xt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),P0=new V("",{factory:()=>!1});function Gv({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ie(le(k({},Kv()),{scheduleInRootZone:t})),[{provide:Ie,useFactory:n},{provide:vr,multi:!0,useFactory:()=>{let r=N(zV,{optional:!0});return()=>r.initialize()}},{provide:vr,multi:!0,useFactory:()=>{let r=N(qV);return()=>{r.initialize()}}},e===!0?{provide:Fy,useValue:!0}:[],{provide:Ly,useValue:t??BS},{provide:xt,useFactory:()=>{let r=N(Ie),i=N(Oe),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(En),o.handleError(s))})}}}]}function Wv(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Gv({ngZoneFactory:()=>{let i=Kv(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&So("NgZone_CoalesceEvent"),new Ie(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return bt([{provide:P0,useValue:!0},{provide:Yc,useValue:!1},r])}function Kv(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var qV=(()=>{class n{subscription=new je;initialized=!1;zone=N(Ie);pendingTasks=N(Bn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var x0=(()=>{class n{applicationErrorHandler=N(xt);appRef=N(wr);taskService=N(Bn);ngZone=N(Ie);zonelessEnabled=N(Yc);tracing=N(Co,{optional:!0});disableScheduling=N(Fy,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new je;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(Ly,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vh||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?kC:$S;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,kC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function GV(){return typeof $localize<"u"&&$localize.locale||du}var Hh=new V("",{providedIn:"root",factory:()=>N(Hh,{optional:!0,skipSelf:!0})||GV()});function st(n){return PD(n)}function Ks(n,e){return cd(n,e?.equal)}var O0=class{[Tt];constructor(e){this[Tt]=e}destroy(){this[Tt].destroy()}};var j0=Symbol("InputSignalNode#UNSET"),u2=le(k({},ud),{transformFn:void 0,applyValueToInputSignal(n,e){vs(n,e)}});function U0(n,e){let t=Object.create(u2);t.value=n,t.transformFn=e?.transform;function r(){if(gs(t),t.value===j0){let i=null;throw new j(-950,i)}return t.value}return r[Tt]=t,r}var qh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>ru(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},l2=new V("");l2.__NG_ELEMENT_ID__=n=>{let e=mt();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new j(204,!1)};function k0(n,e){return U0(n,e)}function d2(n){return U0(j0,n)}var B0=(k0.required=d2,k0);var Qv=new V(""),h2=new V("");function gu(n){return!n.moduleRef}function f2(n){let e=gu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ie);return t.run(()=>{gu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(xt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),gu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Qv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Qv);s.add(o),n.moduleRef.onDestroy(()=>{Xc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return g2(r,t,()=>{let o=e.get(Bn),s=o.add(),a=e.get(Hv);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Hh,du);if(A0(u||du),!e.get(h2,!0))return gu(n)?e.get(wr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(gu(n)){let h=e.get(wr);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return p2?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var p2;function g2(n,e,t){try{let r=t();return pi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var zh=null;function m2(n=[],e){return Ue.create({name:e,providers:[{provide:jc,useValue:"platform"},{provide:Qv,useValue:new Set([()=>zh=null])},...n]})}function y2(n=[]){if(zh)return zh;let e=m2(n);return zh=e,D0(),v2(e),e}function v2(n){let e=n.get(Rh,null);Be(n,()=>{e?.forEach(t=>t())})}function e_(){return!1}var gi=(()=>{class n{static __NG_ELEMENT_ID__=_2}return n})();function _2(n){return E2(mt(),we(),(n&16)===16)}function E2(n,e,t){if(oi(n)&&!t){let r=dn(n.index,e);return new di(r,r)}else if(n.type&175){let r=e[un];return new di(r,e)}return null}var Yv=class{constructor(){}supports(e){return Vv(e)}create(e){return new Jv(e)}},I2=(n,e)=>e,Jv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||I2}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<F0(r,i,o)?t:r,a=F0(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,S=y+m;h<=S&&S<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Vv(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,v0(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Zv(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Gh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Gh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Zv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Xv=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Gh=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Xv,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function F0(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function L0(){return new t_([new Yv])}var t_=(()=>{class n{factories;static \u0275prov=L({token:n,providedIn:"root",factory:L0});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=N(n,{optional:!0,skipSelf:!0});return n.create(t,r||L0())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new j(901,!1)}}return n})();function $0(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Ce(8);try{let o=i?.injector??y2(r),s=[Gv({}),{provide:mr,useExisting:x0},TC,...t||[]],a=new tu({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return f2({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ce(9)}}function Mo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function H0(n){let e=_r(n);if(!e)return null;let t=new wo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var G0=null;function fn(){return G0}function n_(n){G0??=n}var mu=class{},yu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>N(W0),providedIn:"platform"})}return n})(),r_=new V(""),W0=(()=>{class n extends yu{_location;_history;_doc=N(ke);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fn().getBaseHref(this._doc)}onPopState(t){let r=fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Wh(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function z0(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function An(n){return n&&n[0]!=="?"?`?${n}`:n}var Rn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>N(Qh),providedIn:"root"})}return n})(),Kh=new V(""),Qh=(()=>{class n extends Rn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Wh(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+An(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+An(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+An(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(q(yu),q(Kh,8))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mi=(()=>{class n{_subject=new Ke;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=b2(z0(q0(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+An(r))}normalize(t){return n.stripTrailingSlash(T2(this._basePath,q0(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+An(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+An(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=An;static joinWithSlash=Wh;static stripTrailingSlash=z0;static \u0275fac=function(r){return new(r||n)(q(Rn))};static \u0275prov=L({token:n,factory:()=>w2(),providedIn:"root"})}return n})();function w2(){return new mi(q(Rn))}function T2(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function q0(n){return n.replace(/\/index.html$/,"")}function b2(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var i_=(()=>{class n extends Rn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Wh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+An(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+An(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(q(yu),q(Kh,8))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();var Yh=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Qs=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Yh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),K0(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);K0(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(B(Ao),B(su),B(t_))};static \u0275dir=Fe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function K0(n,e){n.context.$implicit=e.item}var o_=(()=>{class n{_viewContainer;_context=new Jh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Q0(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Q0(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(B(Ao),B(su))};static \u0275dir=Fe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Jh=class{$implicit=null;ngIf=null};function Q0(n,e){if(n&&!n.createEmbeddedView)throw new j(2020,!1)}var Ht=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=hn({type:n});static \u0275inj=Qt({})}return n})();function vu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Po=class{};var Y0="browser";var J0=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>new s_(N(ke),window)})}return n})(),s_=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(le(k({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=D2(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(yr(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(le(k({},t),{left:i-s[0],top:o-s[1]}))}};function D2(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var _u=class{_doc;constructor(e){this._doc=e}manager},Xh=(()=>{class n extends _u{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(q(ke))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),tf=new V(""),d_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Xh));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Xh);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(q(tf),q(Ie))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),a_="ng-app-id";function Z0(n){for(let e of n)e.remove()}function X0(n,e){let t=e.createElement("style");return t.textContent=n,t}function C2(n,e,t,r){let i=n.head?.querySelectorAll(`style[${a_}="${e}"],link[${a_}="${e}"]`);if(i)for(let o of i)o.removeAttribute(a_),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function u_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var h_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,C2(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,X0);r?.forEach(i=>this.addUsage(i,this.external,u_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Z0(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Z0(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,X0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,u_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(q(ke),q(Ah),q(Nh,8),q(Do))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),c_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},f_=/%COMP%/g;var tA="%COMP%",S2=`_nghost-${tA}`,A2=`_ngcontent-${tA}`,R2=!0,N2=new V("",{providedIn:"root",factory:()=>R2});function M2(n){return A2.replace(f_,n)}function P2(n){return S2.replace(f_,n)}function nA(n,e){return e.map(t=>t.replace(f_,n))}var p_=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Eu(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof ef?i.applyToHost(t):i instanceof Iu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Er.Emulated:o=new ef(u,l,r,this.appId,h,s,a,p,m);break;case Er.ShadowDom:return new l_(u,l,t,r,s,a,this.nonce,p,m);default:o=new Iu(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(q(d_),q(h_),q(Ah),q(N2),q(ke),q(Ie),q(Nh),q(Co,8))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),Eu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(c_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(eA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(eA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=c_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=c_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Hn.DashCase|Hn.Important)?e.style.setProperty(t,r,i&Hn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Hn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=fn().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function eA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var l_=class extends Eu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=nA(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=u_(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Iu=class extends Eu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?nA(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&zs.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ef=class extends Iu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=M2(h),this.hostAttr=P2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var nf=class n extends mu{supportsDOMEvents=!0;static makeCurrent(){n_(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=x2();return t==null?null:O2(t)}resetBaseElement(){wu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vu(document.cookie,e)}},wu=null;function x2(){return wu=wu||document.head.querySelector("base"),wu?wu.getAttribute("href"):null}function O2(n){return new URL(n,document.baseURI).pathname}var k2=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),rA=["alt","control","meta","shift"],F2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},L2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},iA=(()=>{class n extends _u{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),rA.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=F2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),rA.forEach(s=>{if(s!==i){let a=L2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(q(ke))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function g_(n,e,t){let r=k({rootComponent:n,platformRef:t?.platformRef},V2(e));return $0(r)}function V2(n){return{appProviders:[...H2,...n?.providers??[]],platformProviders:$2}}function j2(){nf.makeCurrent()}function U2(){return new En}function B2(){return mv(document),document}var $2=[{provide:Do,useValue:Y0},{provide:Rh,useValue:j2,multi:!0},{provide:ke,useFactory:B2}];var H2=[{provide:jc,useValue:"root"},{provide:En,useFactory:U2},{provide:tf,useClass:Xh,multi:!0,deps:[ke]},{provide:tf,useClass:iA,multi:!0,deps:[ke]},p_,h_,d_,{provide:Io,useExisting:p_},{provide:Po,useClass:k2},[]];var Zs=class{},Tu=class{},yi=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var of=class{encodeKey(e){return oA(e)}encodeValue(e){return oA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function z2(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var q2=/%(\d[a-f0-9])/gi,G2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oA(n){return encodeURIComponent(n).replace(q2,(e,t)=>G2[t]??e)}function rf(n){return`${n}`}var Cr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new of,e.fromString){if(e.fromObject)throw new j(2805,!1);this.map=z2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(rf):[rf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(rf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(rf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var sf=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function W2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function sA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function aA(n){return typeof Blob<"u"&&n instanceof Blob}function cA(n){return typeof FormData<"u"&&n instanceof FormData}function K2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var uA="Content-Type",lA="Accept",dA="X-Request-URL",hA="text/plain",fA="application/json",Q2=`${fA}, ${hA}, */*`,Ys=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(W2(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new j(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new yi,this.context??=new sf,!this.params)this.params=new Cr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||sA(this.body)||aA(this.body)||cA(this.body)||K2(this.body)?this.body:this.body instanceof Cr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||cA(this.body)?null:aA(this.body)?this.body.type||null:sA(this.body)?null:typeof this.body=="string"?hA:this.body instanceof Cr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?fA:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,u=e.mode||this.mode,l=e.redirect||this.redirect,h=e.credentials||this.credentials,p=e.referrer||this.referrer,m=e.integrity||this.integrity,y=e.transferCache??this.transferCache,S=e.timeout??this.timeout,M=e.body!==void 0?e.body:this.body,A=e.withCredentials??this.withCredentials,x=e.reportProgress??this.reportProgress,z=e.headers||this.headers,K=e.params||this.params,ne=e.context??this.context;return e.setHeaders!==void 0&&(z=Object.keys(e.setHeaders).reduce((xe,pe)=>xe.set(pe,e.setHeaders[pe]),z)),e.setParams&&(K=Object.keys(e.setParams).reduce((xe,pe)=>xe.set(pe,e.setParams[pe]),K)),new n(t,r,M,{params:K,headers:z,context:ne,reportProgress:x,responseType:i,withCredentials:A,transferCache:y,keepalive:o,cache:a,priority:s,timeout:S,mode:u,redirect:l,credentials:h,referrer:p,integrity:m})}},xo=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(xo||{}),Xs=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new yi,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},af=class n extends Xs{constructor(e={}){super(e)}type=xo.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},bu=class n extends Xs{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=xo.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},Js=class extends Xs{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Y2=200,J2=204;function m_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var uf=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ys)o=t;else{let u;i.headers instanceof yi?u=i.headers:u=new yi(i.headers);let l;i.params&&(i.params instanceof Cr?l=i.params:l=new Cr({fromObject:i.params})),o=new Ys(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=Q(o).pipe(Ln(u=>this.handler.handle(u)));if(t instanceof Ys||i.observe==="events")return s;let a=s.pipe(ht(u=>u instanceof bu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(te(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new j(2806,!1);return u.body}));case"blob":return a.pipe(te(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new j(2807,!1);return u.body}));case"text":return a.pipe(te(u=>{if(u.body!==null&&typeof u.body!="string")throw new j(2808,!1);return u.body}));case"json":default:return a.pipe(te(u=>u.body))}case"response":return a;default:throw new j(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Cr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,m_(i,r))}post(t,r,i={}){return this.request("POST",t,m_(i,r))}put(t,r,i={}){return this.request("PUT",t,m_(i,r))}static \u0275fac=function(r){return new(r||n)(q(Zs))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();var Z2=new V("");function X2(n,e){return e(n)}function ej(n,e,t){return(r,i)=>Be(t,()=>e(r,o=>n(o,i)))}var pA=new V(""),gA=new V(""),mA=new V("",{providedIn:"root",factory:()=>!0});var cf=(()=>{class n extends Zs{backend;injector;chain=null;pendingTasks=N(li);contributeToStability=N(mA);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(pA),...this.injector.get(gA,[])]));this.chain=r.reduceRight((i,o)=>ej(i,o,this.injector),X2)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(io(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(q(Tu),q(Oe))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();var tj=/^\)\]\}',?\n/,nj=RegExp(`^${dA}:`,"m");function rj(n){return"responseURL"in n&&n.responseURL?n.responseURL:nj.test(n.getAllResponseHeaders())?n.getResponseHeader(dA):null}var y_=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new j(-2800,!1);let r=this.xhrFactory;return Q(null).pipe(ft(()=>new re(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((A,x)=>s.setRequestHeader(A,x.join(","))),t.headers.has(lA)||s.setRequestHeader(lA,Q2),!t.headers.has(uA)){let A=t.detectContentTypeHeader();A!==null&&s.setRequestHeader(uA,A)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let A=t.responseType.toLowerCase();s.responseType=A!=="json"?A:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let A=s.statusText||"OK",x=new yi(s.getAllResponseHeaders()),z=rj(s)||t.url;return u=new af({headers:x,status:s.status,statusText:A,url:z}),u},h=()=>{let{headers:A,status:x,statusText:z,url:K}=l(),ne=null;x!==J2&&(ne=typeof s.response>"u"?s.responseText:s.response),x===0&&(x=ne?Y2:0);let xe=x>=200&&x<300;if(t.responseType==="json"&&typeof ne=="string"){let pe=ne;ne=ne.replace(tj,"");try{ne=ne!==""?JSON.parse(ne):null}catch(T){ne=pe,xe&&(xe=!1,ne={error:T,text:ne})}}xe?(o.next(new bu({body:ne,headers:A,status:x,statusText:z,url:K||void 0})),o.complete()):o.error(new Js({error:ne,headers:A,status:x,statusText:z,url:K||void 0}))},p=A=>{let{url:x}=l(),z=new Js({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:x||void 0});o.error(z)},m=p;t.timeout&&(m=A=>{let{url:x}=l(),z=new Js({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:x||void 0});o.error(z)});let y=!1,S=A=>{y||(o.next(l()),y=!0);let x={type:xo.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(x.total=A.total),t.responseType==="text"&&s.responseText&&(x.partialText=s.responseText),o.next(x)},M=A=>{let x={type:xo.UploadProgress,loaded:A.loaded};A.lengthComputable&&(x.total=A.total),o.next(x)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",m),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",S),a!==null&&s.upload&&s.upload.addEventListener("progress",M)),s.send(a),o.next({type:xo.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",S),a!==null&&s.upload&&s.upload.removeEventListener("progress",M)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(q(Po))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),yA=new V(""),ij="XSRF-TOKEN",oj=new V("",{providedIn:"root",factory:()=>ij}),sj="X-XSRF-TOKEN",aj=new V("",{providedIn:"root",factory:()=>sj}),Du=class{},cj=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=vu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(q(ke),q(oj))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),uj=/^(?:https?:)?\/\//i;function lj(n,e){if(!N(yA)||n.method==="GET"||n.method==="HEAD"||uj.test(n.url))return e(n);let t=N(Du).getToken(),r=N(aj);return t!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,t)})),e(n)}function v_(...n){let e=[uf,y_,cf,{provide:Zs,useExisting:cf},{provide:Tu,useFactory:()=>N(Z2,{optional:!0})??N(y_)},{provide:pA,useValue:lj,multi:!0},{provide:yA,useValue:!0},{provide:Du,useClass:cj}];for(let t of n)e.push(...t.\u0275providers);return bt(e)}var vA=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(q(ke))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var oe="primary",Vu=Symbol("RouteTitle"),T_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Fo(n){return new T_(n)}function CA(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function hj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gn(n[t],e[t]))return!1;return!0}function Gn(n,e){let t=n?b_(n):void 0,r=e?b_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!SA(n[i],e[i]))return!1;return!0}function b_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function SA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function AA(n){return n.length>0?n[n.length-1]:null}function Sr(n){return Pm(n)?n:pi(n)?Ne(Promise.resolve(n)):Q(n)}var fj={exact:NA,subset:MA},RA={exact:pj,subset:gj,ignored:()=>!0};function _A(n,e,t){return fj[t.paths](n.root,e.root,t.matrixParams)&&RA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function pj(n,e){return Gn(n,e)}function NA(n,e,t){if(!Oo(n.segments,e.segments)||!hf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!NA(n.children[r],e.children[r],t))return!1;return!0}function gj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>SA(n[t],e[t]))}function MA(n,e,t){return PA(n,e,e.segments,t)}function PA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Oo(i,t)||e.hasChildren()||!hf(i,t,r))}else if(n.segments.length===t.length){if(!Oo(n.segments,t)||!hf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!MA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Oo(n.segments,i)||!hf(n.segments,i,r)||!n.children[oe]?!1:PA(n.children[oe],e,o,r)}}function hf(n,e,t){return e.every((r,i)=>RA[t](n[i].parameters,r.parameters))}var Kn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Te([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Fo(this.queryParams),this._queryParamMap}toString(){return vj.serialize(this)}},Te=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ff(this)}},vi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Fo(this.parameters),this._parameterMap}toString(){return OA(this)}};function mj(n,e){return Oo(n,e)&&n.every((t,r)=>Gn(t.parameters,e[r].parameters))}function Oo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function yj(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===oe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==oe&&(t=t.concat(e(i,r)))}),t}var Lo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>new _i,providedIn:"root"})}return n})(),_i=class{parse(e){let t=new C_(e);return new Kn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Cu(e.root,!0)}`,r=Ij(e.queryParams),i=typeof e.fragment=="string"?`#${_j(e.fragment)}`:"";return`${t}${r}${i}`}},vj=new _i;function ff(n){return n.segments.map(e=>OA(e)).join("/")}function Cu(n,e){if(!n.hasChildren())return ff(n);if(e){let t=n.children[oe]?Cu(n.children[oe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${Cu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=yj(n,(r,i)=>i===oe?[Cu(n.children[oe],!1)]:[`${i}:${Cu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[oe]!=null?`${ff(n)}/${t[0]}`:`${ff(n)}/(${t.join("//")})`}}function xA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lf(n){return xA(n).replace(/%3B/gi,";")}function _j(n){return encodeURI(n)}function D_(n){return xA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pf(n){return decodeURIComponent(n)}function EA(n){return pf(n.replace(/\+/g,"%20"))}function OA(n){return`${D_(n.path)}${Ej(n.parameters)}`}function Ej(n){return Object.entries(n).map(([e,t])=>`;${D_(e)}=${D_(t)}`).join("")}function Ij(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${lf(t)}=${lf(i)}`).join("&"):`${lf(t)}=${lf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var wj=/^[^\/()?;#]+/;function __(n){let e=n.match(wj);return e?e[0]:""}var Tj=/^[^\/()?;=#]+/;function bj(n){let e=n.match(Tj);return e?e[0]:""}var Dj=/^[^=?&#]+/;function Cj(n){let e=n.match(Dj);return e?e[0]:""}var Sj=/^[^&#]+/;function Aj(n){let e=n.match(Sj);return e?e[0]:""}var C_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[oe]=new Te(e,t)),r}parseSegment(){let e=__(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new vi(pf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=bj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=__(this.remaining);i&&(r=i,this.capture(r))}e[pf(t)]=pf(r)}parseQueryParam(e){let t=Cj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Aj(this.remaining);s&&(r=s,this.capture(r))}let i=EA(t),o=EA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=__(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();t[o??oe]=Object.keys(s).length===1&&s[oe]?s[oe]:new Te([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function kA(n){return n.segments.length>0?new Te([],{[oe]:n}):n}function FA(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=FA(i);if(r===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Te(n.segments,e);return Rj(t)}function Rj(n){if(n.numberOfChildren===1&&n.children[oe]){let e=n.children[oe];return new Te(n.segments.concat(e.segments),e.children)}return n}function Ei(n){return n instanceof Kn}function LA(n,e,t=null,r=null){let i=VA(n);return jA(i,e,t,r)}function VA(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Te(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=kA(r);return e??i}function jA(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return E_(i,i,i,t,r);let o=Nj(e);if(o.toRoot())return E_(i,i,new Te([],{}),t,r);let s=Mj(o,i,n),a=s.processChildren?Au(s.segmentGroup,s.index,o.commands):BA(s.segmentGroup,s.index,o.commands);return E_(i,s.segmentGroup,a,t,r)}function gf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Nu(n){return typeof n=="object"&&n!=null&&n.outlets}function E_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=UA(n,e,t);let a=kA(FA(s));return new Kn(a,o,i)}function UA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=UA(o,e,t)}),new Te(n.segments,r)}var mf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&gf(r[0]))throw new j(4003,!1);let i=r.find(Nu);if(i&&i!==AA(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Nj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new mf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new mf(t,e,r)}var na=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Mj(n,e,t){if(n.isAbsolute)return new na(e,!0,0);if(!t)return new na(e,!1,NaN);if(t.parent===null)return new na(t,!0,0);let r=gf(n.commands[0])?0:1,i=t.segments.length-1+r;return Pj(t,i,n.numberOfDoubleDots)}function Pj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new na(r,!1,i-o)}function xj(n){return Nu(n[0])?n[0].outlets:{[oe]:n}}function BA(n,e,t){if(n??=new Te([],{}),n.segments.length===0&&n.hasChildren())return Au(n,e,t);let r=Oj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Te(n.segments.slice(0,r.pathIndex),{});return o.children[oe]=new Te(n.segments.slice(r.pathIndex),n.children),Au(o,0,i)}else return r.match&&i.length===0?new Te(n.segments,{}):r.match&&!n.hasChildren()?S_(n,e,t):r.match?Au(n,0,i):S_(n,e,t)}function Au(n,e,t){if(t.length===0)return new Te(n.segments,{});{let r=xj(t),i={};if(Object.keys(r).some(o=>o!==oe)&&n.children[oe]&&n.numberOfChildren===1&&n.children[oe].segments.length===0){let o=Au(n.children[oe],e,t);return new Te(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=BA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Te(n.segments,i)}}function Oj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Nu(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!wA(u,l,s))return o;r+=2}else{if(!wA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function S_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Nu(o)){let u=kj(o.outlets);return new Te(r,u)}if(i===0&&gf(t[0])){let u=n.segments[e];r.push(new vi(u.path,IA(t[0]))),i++;continue}let s=Nu(o)?o.outlets[oe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&gf(a)?(r.push(new vi(s,IA(a))),i+=2):(r.push(new vi(s,{})),i++)}return new Te(r,{})}function kj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=S_(new Te([],{}),0,r))}),e}function IA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function wA(n,e,t){return n==t.path&&Gn(e,t.parameters)}var ra="imperative",nt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(nt||{}),tn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ii=class extends tn{type=nt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},pn=class extends tn{urlAfterRedirects;type=nt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ot=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Ot||{}),oa=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(oa||{}),Wn=class extends tn{reason;code;type=nt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qn=class extends tn{reason;code;type=nt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},sa=class extends tn{error;target;type=nt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Mu=class extends tn{urlAfterRedirects;state;type=nt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yf=class extends tn{urlAfterRedirects;state;type=nt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vf=class extends tn{urlAfterRedirects;state;shouldActivate;type=nt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_f=class extends tn{urlAfterRedirects;state;type=nt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ef=class extends tn{urlAfterRedirects;state;type=nt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},If=class{route;type=nt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wf=class{route;type=nt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tf=class{snapshot;type=nt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bf=class{snapshot;type=nt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Df=class{snapshot;type=nt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cf=class{snapshot;type=nt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},aa=class{routerEvent;position;anchor;type=nt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Pu=class{},ca=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Fj(n){return!(n instanceof Pu)&&!(n instanceof ca)}function Lj(n,e){return n.providers&&!n._injector&&(n._injector=Ws(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Nn(n){return n.outlet||oe}function Vj(n,e){let t=n.filter(r=>Nn(r)===e);return t.push(...n.filter(r=>Nn(r)!==e)),t}function da(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Sf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return da(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Vo(this.rootInjector)}},Vo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sf(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(q(Oe))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Af=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=A_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=A_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=R_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return R_(e,this._root).map(t=>t.value)}};function A_(n,e){if(n===e.value)return e;for(let t of e.children){let r=A_(n,t);if(r)return r}return null}function R_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=R_(n,t);if(r.length)return r.unshift(e),r}return[]}var en=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ta(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var xu=class extends Af{snapshot;constructor(e,t){super(e),this.snapshot=t,L_(this,e)}toString(){return this.snapshot.toString()}};function $A(n){let e=jj(n),t=new Qe([new vi("",{})]),r=new Qe({}),i=new Qe({}),o=new Qe({}),s=new Qe(""),a=new Yn(t,r,o,s,i,oe,n,e.root);return a.snapshot=e.root,new xu(new en(a,[]),e)}function jj(n){let e={},t={},r={},o=new ko([],e,r,"",t,oe,n,null,{});return new Ou("",new en(o,[]))}var Yn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(te(l=>l[Vu]))??Q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(e=>Fo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(e=>Fo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),i?.data),n._resolvedData)}:r={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},i&&zA(i)&&(r.resolve[Vu]=i.title),r}var ko=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Vu]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Fo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Fo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ou=class extends Af{url;constructor(e,t){super(t),this.url=e,L_(this,t)}toString(){return HA(this._root)}};function L_(n,e){e.value._routerState=n,e.children.forEach(t=>L_(n,t))}function HA(n){let e=n.children.length>0?` { ${n.children.map(HA).join(", ")} } `:"";return`${n.value}${e}`}function I_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Gn(e.params,t.params)||n.paramsSubject.next(t.params),hj(e.url,t.url)||n.urlSubject.next(t.url),Gn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function N_(n,e){let t=Gn(n.params,e.params)&&mj(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||N_(n.parent,e.parent))}function zA(n){return typeof n.title=="string"||n.title===null}var qA=new V(""),ju=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=oe;activateEvents=new Ge;deactivateEvents=new Ge;attachEvents=new Ge;detachEvents=new Ge;routerOutletData=B0();parentContexts=N(Vo);location=N(Ao);changeDetector=N(gi);inputBinder=N(Uu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new M_(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Fe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[zn]})}return n})(),M_=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Yn?this.route:e===Vo?this.childContexts:e===qA?this.outletData:this.parent.get(e,t)}},Uu=new V(""),V_=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Mc([r.queryParams,r.params,r.data]).pipe(ft(([o,s,a],u)=>(a=k(k(k({},o),s),a),u===0?Q(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=H0(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),j_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=yt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&$t(0,"router-outlet")},dependencies:[ju],encapsulation:2})}return n})();function U_(n){let e=n.children&&n.children.map(U_),t=e?le(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oe&&(t.component=j_),t}function Uj(n,e,t){let r=ku(n,e._root,t?t._root:void 0);return new xu(r,e)}function ku(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Bj(n,e,t);return new en(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ku(n,a)),s}}let r=$j(e.value),i=e.children.map(o=>ku(n,o));return new en(r,i)}}function Bj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ku(n,r,i);return ku(n,r)})}function $j(n){return new Yn(new Qe(n.url),new Qe(n.params),new Qe(n.queryParams),new Qe(n.fragment),new Qe(n.data),n.outlet,n.component,n)}var ua=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},GA="ngNavigationCancelingError";function Nf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ei(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=WA(!1,Ot.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function WA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[GA]=!0,t.cancellationCode=e,t}function Hj(n){return KA(n)&&Ei(n.url)}function KA(n){return!!n&&n[GA]}var zj=(n,e,t,r)=>te(i=>(new P_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),P_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),I_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ta(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ta(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ta(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ta(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Cf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new bf(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(I_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),I_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Mf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ia=class{component;route;constructor(e,t){this.component=e,this.route=t}};function qj(n,e,t){let r=n._root,i=e?e._root:null;return Su(r,i,t,[r.value])}function Gj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ha(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Ym(n)?n:e.get(n):r}function Su(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ta(e);return n.children.forEach(s=>{Wj(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ru(a,t.getContext(s),i)),i}function Wj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Kj(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Mf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Su(n,e,a?a.children:null,r,i):Su(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ia(a.outlet.component,s))}else s&&Ru(e,a,i),i.canActivateChecks.push(new Mf(r)),o.component?Su(n,null,a?a.children:null,r,i):Su(n,null,t,r,i);return i}function Kj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Oo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Oo(n.url,e.url)||!Gn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!N_(n,e)||!Gn(n.queryParams,e.queryParams);case"paramsChange":default:return!N_(n,e)}}function Ru(n,e,t){let r=ta(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ru(s,e.children.getContext(o),t):Ru(s,null,t):Ru(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ia(e.outlet.component,i)):t.canDeactivateChecks.push(new ia(null,i)):t.canDeactivateChecks.push(new ia(null,i))}function Bu(n){return typeof n=="function"}function Qj(n){return typeof n=="boolean"}function Yj(n){return n&&Bu(n.canLoad)}function Jj(n){return n&&Bu(n.canActivate)}function Zj(n){return n&&Bu(n.canActivateChild)}function Xj(n){return n&&Bu(n.canDeactivate)}function eU(n){return n&&Bu(n.canMatch)}function QA(n){return n instanceof lr||n?.name==="EmptyError"}var df=Symbol("INITIAL_VALUE");function la(){return ft(n=>Mc(n.map(e=>e.pipe(hr(1),Fd(df)))).pipe(te(e=>{for(let t of e)if(t!==!0){if(t===df)return df;if(t===!1||tU(t))return t}return!0}),ht(e=>e!==df),hr(1)))}function tU(n){return Ei(n)||n instanceof ua}function nU(n,e){return qe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Q(le(k({},t),{guardsResult:!0})):rU(s,r,i,n).pipe(qe(a=>a&&Qj(a)?iU(r,o,n,e):Q(a)),te(a=>le(k({},t),{guardsResult:a})))})}function rU(n,e,t,r){return Ne(n).pipe(qe(i=>uU(i.component,i.route,t,e,r)),fr(i=>i!==!0,!0))}function iU(n,e,t,r){return Ne(e).pipe(Ln(i=>Ms(sU(i.route.parent,r),oU(i.route,r),cU(n,i.path,t),aU(n,i.route,t))),fr(i=>i!==!0,!0))}function oU(n,e){return n!==null&&e&&e(new Df(n)),Q(!0)}function sU(n,e){return n!==null&&e&&e(new Tf(n)),Q(!0)}function aU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>Pc(()=>{let s=da(e)??t,a=ha(o,s),u=Jj(a)?a.canActivate(e,n):Be(s,()=>a(e,n));return Sr(u).pipe(fr())}));return Q(i).pipe(la())}function cU(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Gj(s)).filter(s=>s!==null).map(s=>Pc(()=>{let a=s.guards.map(u=>{let l=da(s.node)??t,h=ha(u,l),p=Zj(h)?h.canActivateChild(r,n):Be(l,()=>h(r,n));return Sr(p).pipe(fr())});return Q(a).pipe(la())}));return Q(o).pipe(la())}function uU(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let u=da(e)??i,l=ha(a,u),h=Xj(l)?l.canDeactivate(n,e,t,r):Be(u,()=>l(n,e,t,r));return Sr(h).pipe(fr())});return Q(s).pipe(la())}function lU(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let a=ha(s,n),u=Yj(a)?a.canLoad(e,t):Be(n,()=>a(e,t));return Sr(u)});return Q(o).pipe(la(),YA(r))}function YA(n){return pd(ot(e=>{if(typeof e!="boolean")throw Nf(n,e)}),te(e=>e===!0))}function dU(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let a=ha(s,n),u=eU(a)?a.canMatch(e,t):Be(n,()=>a(e,t));return Sr(u)});return Q(o).pipe(la(),YA(r))}var Fu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Lu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ea(n){return Rs(new Fu(n))}function hU(n){return Rs(new j(4e3,!1))}function fU(n){return Rs(WA(!1,Ot.GuardRejected))}var x_=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[oe])return hU(`${e.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(e,t,r,i,o){return pU(t,i,o).pipe(te(s=>{if(s instanceof Kn)throw new Lu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Lu(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Kn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Te(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function pU(n,e,t){if(typeof n=="string")return Q(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Sr(Be(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var O_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gU(n,e,t,r,i){let o=JA(n,e,t);return o.matched?(r=Lj(e,r),dU(r,e,t,i).pipe(te(s=>s===!0?o:k({},O_)))):Q(o)}function JA(n,e,t){if(e.path==="**")return mU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},O_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||CA)(t,n,e);if(!i)return k({},O_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function mU(n){return{matched:!0,parameters:n.length>0?AA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function TA(n,e,t,r){return t.length>0&&_U(n,t,r)?{segmentGroup:new Te(e,vU(r,new Te(t,n.children))),slicedSegments:[]}:t.length===0&&EU(n,t,r)?{segmentGroup:new Te(n.segments,yU(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Te(n.segments,n.children),slicedSegments:t}}function yU(n,e,t,r){let i={};for(let o of t)if(xf(n,e,o)&&!r[Nn(o)]){let s=new Te([],{});i[Nn(o)]=s}return k(k({},r),i)}function vU(n,e){let t={};t[oe]=e;for(let r of n)if(r.path===""&&Nn(r)!==oe){let i=new Te([],{});t[Nn(r)]=i}return t}function _U(n,e,t){return t.some(r=>xf(n,e,r)&&Nn(r)!==oe)}function EU(n,e,t){return t.some(r=>xf(n,e,r))}function xf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function IU(n,e,t){return e.length===0&&!n.children[t]}var k_=class{};function wU(n,e,t,r,i,o,s="emptyOnly"){return new F_(n,e,t,r,i,s,o).recognize()}var TU=31,F_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new x_(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=TA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(te(({children:t,rootSnapshot:r})=>{let i=new en(r,t),o=new Ou("",i),s=LA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ko([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,t).pipe(te(r=>({children:r,rootSnapshot:t})),dr(r=>{if(r instanceof Lu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(te(s=>s instanceof en?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ne(o).pipe(Ln(s=>{let a=r.children[s],u=Vj(t,s);return this.processSegmentGroup(e,u,a,s,i)}),kd((s,a)=>(s.push(...a),s)),Zr(null),Om(),qe(s=>{if(s===null)return ea(r);let a=ZA(s);return bU(a),Q(a)}))}processSegment(e,t,r,i,o,s,a){return Ne(t).pipe(Ln(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(dr(l=>{if(l instanceof Fu)return Q(null);throw l}))),fr(u=>!!u),dr(u=>{if(QA(u))return IU(r,i,o)?Q(new k_):ea(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Nn(r)!==s&&(s===oe||!xf(i,o,r))?ea(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):ea(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=JA(t,i,o);if(!u)return ea(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>TU&&(this.allowRedirects=!1));let y=new ko(o,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,bA(i),Nn(i),i.component??i._loadedComponent??null,i,DA(i)),S=Rf(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(ft(A=>this.applyRedirects.lineralizeSegments(i,A)),qe(A=>this.processSegment(e,r,t,A.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=gU(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(ft(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ft(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,S=new ko(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,bA(r),Nn(r),r.component??r._loadedComponent??null,r,DA(r)),M=Rf(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:A,slicedSegments:x}=TA(t,m,y,l);if(x.length===0&&A.hasChildren())return this.processChildren(h,l,A,S).pipe(te(K=>new en(S,K)));if(l.length===0&&x.length===0)return Q(new en(S,[]));let z=Nn(r)===o;return this.processSegment(h,l,A,x,z?oe:o,!0,S).pipe(te(K=>new en(S,K instanceof en?[K]:[])))}))):ea(t)))}getChildConfig(e,t,r){return t.children?Q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Q({routes:t._loadedRoutes,injector:t._loadedInjector}):lU(e,t,r,this.urlSerializer).pipe(qe(i=>i?this.configLoader.loadChildren(e,t).pipe(ot(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):fU(t))):Q({routes:[],injector:e})}};function bU(n){n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet))}function DU(n){let e=n.value.routeConfig;return e&&e.path===""}function ZA(n){let e=[],t=new Set;for(let r of n){if(!DU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=ZA(r.children);e.push(new en(r.value,i))}return e.filter(r=>!t.has(r))}function bA(n){return n.data||{}}function DA(n){return n.resolve||{}}function CU(n,e,t,r,i,o){return qe(s=>wU(n,e,t,r,s.extractedUrl,i,o).pipe(te(({state:a,tree:u})=>le(k({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function SU(n,e){return qe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Q(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of XA(u))s.add(l);let a=0;return Ne(s).pipe(Ln(u=>o.has(u)?AU(u,r,n,e):(u.data=Rf(u,u.parent,n).resolve,Q(void 0))),ot(()=>a++),Ps(1),qe(u=>a===s.size?Q(t):Lt))})}function XA(n){let e=n.children.map(t=>XA(t)).flat();return[n,...e]}function AU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!zA(i)&&(o[Vu]=i.title),Pc(()=>(n.data=Rf(n,n.parent,t).resolve,RU(o,n,e,r).pipe(te(s=>(n._resolvedData=s,n.data=k(k({},n.data),s),null)))))}function RU(n,e,t,r){let i=b_(n);if(i.length===0)return Q({});let o={};return Ne(i).pipe(qe(s=>NU(n[s],e,t,r).pipe(fr(),ot(a=>{if(a instanceof ua)throw Nf(new _i,a);o[s]=a}))),Ps(1),te(()=>o),dr(s=>QA(s)?Lt:Rs(s)))}function NU(n,e,t,r){let i=da(e)??r,o=ha(n,i),s=o.resolve?o.resolve(e,t):Be(i,()=>o(e,t));return Sr(s)}function w_(n){return ft(e=>{let t=n(e);return t?Ne(t).pipe(te(()=>e)):Q(e)})}var B_=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(t){return t.data[Vu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>N(eR),providedIn:"root"})}return n})(),eR=(()=>{class n extends B_{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(q(vA))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wi=new V("",{providedIn:"root",factory:()=>({})}),jo=new V(""),Of=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(qv);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Sr(Be(t,()=>r.loadComponent())).pipe(te(nR),ft(rR),ot(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),io(()=>{this.componentLoaders.delete(r)})),o=new Ds(i,()=>new Ke).pipe(bs());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=tR(r,this.compiler,t,this.onLoadEndListener).pipe(io(()=>{this.childrenLoaders.delete(r)})),s=new Ds(o,()=>new Ke).pipe(bs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tR(n,e,t,r){return Sr(Be(t,()=>n.loadChildren())).pipe(te(nR),ft(rR),qe(i=>i instanceof Lh||Array.isArray(i)?Q(i):Ne(e.compileModuleAsync(i))),te(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(jo,[],{optional:!0,self:!0}).flat()),{routes:s.map(U_),injector:o}}))}function MU(n){return n&&typeof n=="object"&&"default"in n}function nR(n){return MU(n)?n.default:n}function rR(n){return Q(n)}var kf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>N(PU),providedIn:"root"})}return n})(),PU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$_=new V(""),H_=new V("");function iR(n,e,t){let r=n.get(H_),i=n.get(ke);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),xU(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&Be(n,()=>u({transition:a,from:e,to:t})),s}function xU(n){return new Promise(e=>{ou({read:()=>setTimeout(e)},{injector:n})})}var z_=new V(""),Ff=(()=>{class n{currentNavigation=Bt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ke;transitionAbortWithErrorSubject=new Ke;configLoader=N(Of);environmentInjector=N(Oe);destroyRef=N(Jt);urlSerializer=N(Lo);rootContexts=N(Vo);location=N(mi);inputBindingEnabled=N(Uu,{optional:!0})!==null;titleStrategy=N(B_);options=N(wi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(kf);createViewTransition=N($_,{optional:!0});navigationErrorHandler=N(z_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new If(i)),r=i=>this.events.next(new wf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;st(()=>{this.transitions?.next(le(k({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Qe(null),this.transitions.pipe(ht(r=>r!==null),ft(r=>{let i=!1;return Q(r).pipe(ft(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ot.SupersededByNewNavigation),Lt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?le(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Qn(o.id,this.urlSerializer.serialize(o.rawUrl),"",oa.IgnoredSameUrlNavigation)),o.resolve(!1),Lt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Q(o).pipe(ft(u=>(this.events.next(new Ii(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Lt:Promise.resolve(u))),CU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ot(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Mu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new Ii(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let S=$A(this.rootComponentType).snapshot;return this.currentTransition=r=le(k({},o),{targetSnapshot:S,urlAfterRedirects:l,extras:le(k({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=l,M)),Q(r)}else return this.events.next(new Qn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",oa.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Lt}),ot(o=>{let s=new yf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),te(o=>(this.currentTransition=r=le(k({},o),{guards:qj(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),nU(this.environmentInjector,o=>this.events.next(o)),ot(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Nf(this.urlSerializer,o.guardsResult);let s=new vf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),ht(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ot.GuardRejected),!1)),w_(o=>{if(o.guards.canActivateChecks.length!==0)return Q(o).pipe(ot(s=>{let a=new _f(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ft(s=>{let a=!1;return Q(s).pipe(SU(this.paramsInheritanceStrategy,this.environmentInjector),ot({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ot.NoDataFromResolver)}}))}),ot(s=>{let a=new Ef(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),w_(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=da(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(ot(h=>{a.component=h}),te(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Mc(s(o.targetSnapshot.root)).pipe(Zr(null),hr(1))}),w_(()=>this.afterPreactivation()),ft(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Ne(a).pipe(te(()=>r)):Q(r)}),te(o=>{let s=Uj(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=le(k({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),ot(()=>{this.events.next(new Pu)}),zj(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),hr(1),Ld(new re(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(ht(()=>!i&&!r.targetRouterState),ot(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ot.Aborted)}))),ot({next:o=>{i=!0,this.lastSuccessfulNavigation=st(this.currentNavigation),this.events.next(new pn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ld(this.transitionAbortWithErrorSubject.pipe(ot(o=>{throw o}))),io(()=>{i||this.cancelNavigationTransition(r,"",Ot.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),dr(o=>{if(this.destroyed)return r.resolve(!1),Lt;if(i=!0,KA(o))this.events.next(new Wn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Hj(o)?this.events.next(new ca(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new sa(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Be(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof ua){let{message:u,cancellationCode:l}=Nf(this.urlSerializer,a);this.events.next(new Wn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new ca(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Lt}))}))}cancelNavigationTransition(t,r,i){let o=new Wn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=st(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function OU(n){return n!==ra}var oR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>N(kU),providedIn:"root"})}return n})(),Pf=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},kU=(()=>{class n extends Pf{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sR=(()=>{class n{urlSerializer=N(Lo);options=N(wi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(mi);urlHandlingStrategy=N(kf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Kn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Kn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=$A(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>N(FU),providedIn:"root"})}return n})(),FU=(()=>{class n extends sR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ii?this.updateStateMemento():t instanceof Qn?this.commitTransition(r):t instanceof Mu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Pu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Wn&&t.code!==Ot.SupersededByNewNavigation&&t.code!==Ot.Redirect?this.restoreHistory(r):t instanceof sa?this.restoreHistory(r,!0):t instanceof pn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=k(k({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=k(k({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Lf(n,e){n.events.pipe(ht(t=>t instanceof pn||t instanceof Wn||t instanceof sa||t instanceof Qn),te(t=>t instanceof pn||t instanceof Qn?0:(t instanceof Wn?t.code===Ot.Redirect||t.code===Ot.SupersededByNewNavigation:!1)?2:1),ht(t=>t!==2),hr(1)).subscribe(()=>{e()})}var LU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},zt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(jv);stateManager=N(sR);options=N(wi,{optional:!0})||{};pendingTasks=N(Bn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(Ff);urlSerializer=N(Lo);location=N(mi);urlHandlingStrategy=N(kf);injector=N(Oe);_events=new Ke;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(oR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(jo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(Uu,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new je;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=st(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Wn&&r.code!==Ot.Redirect&&r.code!==Ot.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof pn)this.navigated=!0;else if(r instanceof ca){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||OU(i.source)},s);this.scheduleNavigation(a,ra,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Fj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ra,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(xt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return st(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(U_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=VA(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return jA(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ei(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ra,null,r)}navigate(t,r={skipLocationChange:!1}){return jU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(yr(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=k({},LU):r===!1?i=k({},VU):i=r,Ei(t))return _A(this.currentUrlTree,t,i);let o=this.parseUrl(t);return _A(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Lf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new j(4008,!1)}var Vf=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Bt(null);get href(){return st(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ke;applicationErrorHandler=N(xt);options=N(wi,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(N(new qh("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof pn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ei(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Ei(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(B(zt),B(Yn),ru("tabindex"),B(qn),B(Dn),B(Rn))};static \u0275dir=Fe({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Se("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&uu("href",i.reactiveHref(),Ev)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Mo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Mo],replaceUrl:[2,"replaceUrl","replaceUrl",Mo],routerLink:"routerLink"},features:[zn]})}return n})();var $u=class{};var aR=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ht(t=>t instanceof pn),Ln(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ws(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ne(i).pipe(Ns())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Q(null);let o=i.pipe(qe(s=>s===null?Q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return Ne([o,s]).pipe(Ns())}else return o})}static \u0275fac=function(r){return new(r||n)(q(zt),q(Oe),q($u),q(Of))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cR=new V(""),UU=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ra;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ii?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof pn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Qn&&t.code===oa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof aa))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>v(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new aa(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Lv()};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function G_(n,...e){return bt([{provide:jo,multi:!0,useValue:n},[],{provide:Yn,useFactory:uR,deps:[zt]},{provide:cu,multi:!0,useFactory:lR},e.map(t=>t.\u0275providers)])}function uR(n){return n.routerState.root}function Hu(n,e){return{\u0275kind:n,\u0275providers:e}}function lR(){let n=N(Ue);return e=>{let t=n.get(wr);if(e!==t.components[0])return;let r=n.get(zt),i=n.get(dR);n.get(W_)===1&&r.initialNavigation(),n.get(pR,null,{optional:!0})?.setUpPreloading(),n.get(cR,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var dR=new V("",{factory:()=>new Ke}),W_=new V("",{providedIn:"root",factory:()=>1});function hR(){let n=[{provide:yv,useValue:!0},{provide:W_,useValue:0},jh(()=>{let e=N(Ue);return e.get(r_,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(zt),o=e.get(dR);Lf(i,()=>{r(!0)}),e.get(Ff).afterPreactivation=()=>(r(!0),o.closed?Q(void 0):o),i.initialNavigation()}))})];return Hu(2,n)}function fR(){let n=[jh(()=>{N(zt).setUpLocationChangeListener()}),{provide:W_,useValue:2}];return Hu(3,n)}var pR=new V("");function gR(n){return Hu(0,[{provide:pR,useExisting:aR},{provide:$u,useExisting:n}])}function mR(){return Hu(8,[V_,{provide:Uu,useExisting:V_}])}function yR(n){So("NgRouterViewTransitions");let e=[{provide:$_,useValue:iR},{provide:H_,useValue:k({skipNextTransition:!!n?.skipInitialTransition},n)}];return Hu(9,e)}var vR=[mi,{provide:Lo,useClass:_i},zt,Vo,{provide:Yn,useFactory:uR,deps:[zt]},Of,[]],K_=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[vR,[],{provide:jo,multi:!0,useValue:t},[],r?.errorHandler?{provide:z_,useValue:r.errorHandler}:[],{provide:wi,useValue:r||{}},r?.useHash?$U():HU(),BU(),r?.preloadingStrategy?gR(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?zU(r):[],r?.bindToComponentInputs?mR().\u0275providers:[],r?.enableViewTransitions?yR().\u0275providers:[],qU()]}}static forChild(t){return{ngModule:n,providers:[{provide:jo,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=hn({type:n});static \u0275inj=Qt({})}return n})();function BU(){return{provide:cR,useFactory:()=>{let n=N(J0),e=N(Ie),t=N(wi),r=N(Ff),i=N(Lo);return t.scrollOffset&&n.setOffset(t.scrollOffset),new UU(i,r,n,e,t)}}}function $U(){return{provide:Rn,useClass:i_}}function HU(){return{provide:Rn,useClass:Qh}}function zU(n){return[n.initialNavigation==="disabled"?fR().\u0275providers:[],n.initialNavigation==="enabledBlocking"?hR().\u0275providers:[]]}var q_=new V("");function qU(){return[{provide:q_,useFactory:lR},{provide:cu,multi:!0,useExisting:q_}]}var qt=class n{http=N(uf);lang$=new Qe("es");data$=new Qe({});language$=this.lang$.asObservable();constructor(){let e=localStorage.getItem("lang")||"es";this.loadLanguage(e)}loadLanguage(e){let t=r=>this.http.get(r);t(`assets/i18n/${e}.json`).subscribe({next:r=>{this.data$.next(r||{}),this.lang$.next(e),localStorage.setItem("lang",e)},error:()=>{t(`/assets/i18n/${e}.json`).subscribe({next:r=>{this.data$.next(r||{}),this.lang$.next(e),localStorage.setItem("lang",e)},error:()=>{this.data$.next({}),this.lang$.next(e),localStorage.setItem("lang",e)}})}})}setLanguage(e){this.loadLanguage(e)}get currentLang(){return this.lang$.value}translate(e){return this.data$.value[e]??e}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var jf=class n{constructor(e){this.translate=e;this.lang=this.translate.currentLang||"es",this.translate.language$.subscribe(t=>this.lang=t)}lang="es";labels={title:{es:"Bienvenido a Proyecto Cine",en:"Welcome to Proyecto Cine"},subtitle:{es:"Gesti\xF3n de pel\xEDculas y cines con Firebase.",en:"Manage movies and cinemas with Firebase."}};static \u0275fac=function(t){return new(t||n)(B(qt))};static \u0275cmp=yt({type:n,selectors:[["app-home"]],decls:6,vars:2,consts:[[1,"home-wrap"],[1,"container"]],template:function(t,r){t&1&&(Tr(0,"section",0)(1,"div",1)(2,"h2"),W(3),br(),Tr(4,"p"),W(5),br()()()),t&2&&($(3),ee(r.labels.title[r.lang]),$(2),ee(r.labels.subtitle[r.lang]))},dependencies:[Ht],styles:[".home-wrap[_ngcontent-%COMP%]{padding:2rem 1rem;min-height:60vh;background:linear-gradient(90deg,var(--accent-1),#fff)}.container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto}"]})};var AR=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(B(qn),B(Dn))};static \u0275dir=Fe({type:n})}return n})(),Kf=(()=>{class n extends AR{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})();static \u0275dir=Fe({type:n,features:[Xt]})}return n})(),ya=new V("");var GU={provide:ya,useExisting:sn(()=>bi),multi:!0};function WU(){let n=fn()?fn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var KU=new V(""),bi=(()=>{class n extends AR{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!WU())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(B(qn),B(Dn),B(KU,8))};static \u0275dir=Fe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Se("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Dr([GU]),Xt]})}return n})();function tE(n){return n==null||nE(n)===0}function nE(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var rE=new V(""),iE=new V(""),QU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,at=class{static min(e){return YU(e)}static max(e){return JU(e)}static required(e){return ZU(e)}static requiredTrue(e){return XU(e)}static email(e){return eB(e)}static minLength(e){return tB(e)}static maxLength(e){return nB(e)}static pattern(e){return rB(e)}static nullValidator(e){return RR()}static compose(e){return kR(e)}static composeAsync(e){return LR(e)}};function YU(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function JU(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function ZU(n){return tE(n.value)?{required:!0}:null}function XU(n){return n.value===!0?null:{required:!0}}function eB(n){return tE(n.value)||QU.test(n.value)?null:{email:!0}}function tB(n){return e=>{let t=e.value?.length??nE(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function nB(n){return e=>{let t=e.value?.length??nE(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function rB(n){if(!n)return RR;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(tE(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function RR(n){return null}function NR(n){return n!=null}function MR(n){return pi(n)?Ne(n):n}function PR(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function xR(n,e){return e.map(t=>t(n))}function iB(n){return!n.validate}function OR(n){return n.map(e=>iB(e)?e:t=>e.validate(t))}function kR(n){if(!n)return null;let e=n.filter(NR);return e.length==0?null:function(t){return PR(xR(t,e))}}function FR(n){return n!=null?kR(OR(n)):null}function LR(n){if(!n)return null;let e=n.filter(NR);return e.length==0?null:function(t){let r=xR(t,e).map(MR);return xm(r).pipe(te(PR))}}function VR(n){return n!=null?LR(OR(n)):null}function _R(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function jR(n){return n._rawValidators}function UR(n){return n._rawAsyncValidators}function Y_(n){return n?Array.isArray(n)?n:[n]:[]}function Bf(n,e){return Array.isArray(n)?n.includes(e):n===e}function ER(n,e){let t=Y_(e);return Y_(n).forEach(i=>{Bf(t,i)||t.push(i)}),t}function IR(n,e){return Y_(e).filter(t=>!Bf(n,t))}var $f=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=FR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=VR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Uo=class extends $f{name;get formDirective(){return null}get path(){return null}},Bo=class extends $f{_parent=null;name=null;valueAccessor=null},Hf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},oB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Koe=le(k({},oB),{"[class.ng-submitted]":"isSubmitted"}),Di=(()=>{class n extends Hf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(B(Bo,2))};static \u0275dir=Fe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ro("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Xt]})}return n})(),va=(()=>{class n extends Hf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(B(Uo,10))};static \u0275dir=Fe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ro("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Xt]})}return n})();var zu="VALID",Uf="INVALID",pa="PENDING",qu="DISABLED",Ti=class{},zf=class extends Ti{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Gu=class extends Ti{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Wu=class extends Ti{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ga=class extends Ti{status;source;constructor(e,t){super(),this.status=e,this.source=t}},J_=class extends Ti{source;constructor(e){super(),this.source=e}},Qu=class extends Ti{source;constructor(e){super(),this.source=e}};function oE(n){return(Qf(n)?n.validators:n)||null}function sB(n){return Array.isArray(n)?FR(n):n||null}function sE(n,e){return(Qf(e)?e.asyncValidators:n)||null}function aB(n){return Array.isArray(n)?VR(n):n||null}function Qf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function BR(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new j(1e3,"");if(!r[t])throw new j(1001,"")}function $R(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new j(1002,"")})}var ma=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return st(this.statusReactive)}set status(e){st(()=>this.statusReactive.set(e))}_status=Ks(()=>this.statusReactive());statusReactive=Bt(void 0);get valid(){return this.status===zu}get invalid(){return this.status===Uf}get pending(){return this.status==pa}get disabled(){return this.status===qu}get enabled(){return this.status!==qu}errors;get pristine(){return st(this.pristineReactive)}set pristine(e){st(()=>this.pristineReactive.set(e))}_pristine=Ks(()=>this.pristineReactive());pristineReactive=Bt(!0);get dirty(){return!this.pristine}get touched(){return st(this.touchedReactive)}set touched(e){st(()=>this.touchedReactive.set(e))}_touched=Ks(()=>this.touchedReactive());touchedReactive=Bt(!1);get untouched(){return!this.touched}_events=new Ke;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ER(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ER(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(IR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(IR(e,this._rawAsyncValidators))}hasValidator(e){return Bf(this._rawValidators,e)}hasAsyncValidator(e){return Bf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Wu(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Wu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Gu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Gu(!0,r))}markAsPending(e={}){this.status=pa;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ga(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=qu,this.errors=null,this._forEachChild(i=>{i.disable(le(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zf(this.value,r)),this._events.next(new ga(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=zu,this._forEachChild(r=>{r.enable(le(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zu||this.status===pa)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zf(this.value,t)),this._events.next(new ga(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qu:zu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=pa,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=MR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ga(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?qu:this.errors?Uf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pa)?pa:this._anyControlsHaveStatus(Uf)?Uf:zu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Gu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Wu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=sB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=aB(this._rawAsyncValidators)}},qf=class extends ma{constructor(e,t,r){super(oE(t),sE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){$R(this,!0,e),Object.keys(e).forEach(r=>{BR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Qu(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Z_=class extends qf{};var Yf=new V("",{providedIn:"root",factory:()=>Jf}),Jf="always";function HR(n,e){return[...e.path,n]}function X_(n,e,t=Jf){aE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),uB(n,e),dB(n,e),lB(n,e),cB(n,e)}function wR(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Wf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Gf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cB(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function aE(n,e){let t=jR(n);e.validator!==null?n.setValidators(_R(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=UR(n);e.asyncValidator!==null?n.setAsyncValidators(_R(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Gf(e._rawValidators,i),Gf(e._rawAsyncValidators,i)}function Wf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=jR(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=UR(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Gf(e._rawValidators,r),Gf(e._rawAsyncValidators,r),t}function uB(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&zR(n,e)})}function lB(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&zR(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function zR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function dB(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function hB(n,e){n==null,aE(n,e)}function fB(n,e){return Wf(n,e)}function qR(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function pB(n){return Object.getPrototypeOf(n.constructor)===Kf}function gB(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function GR(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===bi?t=o:pB(o)?r=o:i=o}),i||r||t||null}function mB(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function TR(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function bR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ku=class extends ma{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(oE(t),sE(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(bR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Qu(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){TR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){TR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){bR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var yB=n=>n instanceof Ku;var vB={provide:Bo,useExisting:sn(()=>cE)},DR=Promise.resolve(),cE=(()=>{class n extends Bo{_changeDetectorRef;callSetDisabledState;control=new Ku;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ge;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=GR(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),qR(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){X_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){DR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Mo(r);DR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?HR(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(B(Uo,9),B(rE,10),B(iE,10),B(ya,10),B(gi,8),B(Yf,8))};static \u0275dir=Fe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Dr([vB]),Xt,zn]})}return n})();var _a=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Fe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),_B={provide:ya,useExisting:sn(()=>Yu),multi:!0},Yu=(()=>{class n extends Kf{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})();static \u0275dir=Fe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Se("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Dr([_B]),Xt]})}return n})();var WR=new V("");var EB={provide:Uo,useExisting:sn(()=>$o)},$o=(()=>{class n extends Uo{callSetDisabledState;get submitted(){return st(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Ks(()=>this._submittedReactive());_submittedReactive=Bt(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ge;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return X_(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){wR(t.control||null,t,!1),mB(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),gB(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new J_(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(wR(r||null,t),yB(i)&&(X_(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);hB(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&fB(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){aE(this.form,this),this._oldForm&&Wf(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(B(rE,10),B(iE,10),B(Yf,8))};static \u0275dir=Fe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Se("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Dr([EB]),Xt,zn]})}return n})();var IB={provide:Bo,useExisting:sn(()=>Ho)},Ho=(()=>{class n extends Bo{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Ge;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=GR(this,o)}ngOnChanges(t){this._added||this._setUpControl(),qR(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return HR(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(B(Uo,13),B(rE,10),B(iE,10),B(ya,10),B(WR,8))};static \u0275dir=Fe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Dr([IB]),Xt,zn]})}return n})();var wB={provide:ya,useExisting:sn(()=>Zf),multi:!0};function KR(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function TB(n){return n.split(":")[0]}var Zf=(()=>{class n extends Kf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=N(wr).injector;destroyRef=N(Jt);cdr=N(gi);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,ou({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=KR(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=TB(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})();static \u0275dir=Fe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Se("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Dr([wB]),Xt]})}return n})(),QR=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(KR(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(B(Dn),B(qn),B(Zf,9))};static \u0275dir=Fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),bB={provide:ya,useExisting:sn(()=>YR),multi:!0};function CR(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function DB(n){return n.split(":")[0]}var YR=(()=>{class n extends Kf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=DB(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})();static \u0275dir=Fe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Se("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Dr([bB]),Xt]})}return n})(),JR=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(CR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(CR(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(B(Dn),B(qn),B(YR,9))};static \u0275dir=Fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var ZR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=hn({type:n});static \u0275inj=Qt({})}return n})(),eE=class extends ma{constructor(e,t,r){super(oE(t),sE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){$R(this,!1,e),e.forEach((r,i)=>{BR(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Qu(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function SR(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Ea=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return SR(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new qf(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Z_(i,r)}control(t,r,i){let o={};return this.useNonNullable?(SR(r)?o=r:(o.validators=r,o.asyncValidators=i),new Ku(t,le(k({},o),{nonNullable:!0}))):new Ku(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new eE(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Ku)return t;if(t instanceof ma)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var XR=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Yf,useValue:t.callSetDisabledState??Jf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=hn({type:n});static \u0275inj=Qt({imports:[ZR]})}return n})(),Ia=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:WR,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Yf,useValue:t.callSetDisabledState??Jf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=hn({type:n});static \u0275inj=Qt({imports:[ZR]})}return n})();var eN=()=>{};var rN=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},CB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ep={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(rN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new lE;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},lE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},SB=function(n){let e=rN(n);return ep.encodeByteArray(e,!0)},Zu=function(n){return SB(n).replace(/\./g,"")},tp=function(n){try{return ep.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var AB=()=>hE().__FIREBASE_DEFAULTS__,RB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},NB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&tp(n[1]);return e&&JSON.parse(e)},np=()=>{try{return eN()||AB()||RB()||NB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fE=n=>{var e,t;return(t=(e=np())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},iN=n=>{let e=fE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},pE=()=>{var n;return(n=np())===null||n===void 0?void 0:n.config},gE=n=>{var e;return(e=np())===null||e===void 0?void 0:e[`_${n}`]};var zo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Ci(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function rp(n){return v(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function oN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Zu(JSON.stringify(t)),Zu(JSON.stringify(s)),""].join(".")}var Ju={};function MB(){let n={prod:[],emulator:[]};for(let e of Object.keys(Ju))Ju[e]?n.emulator.push(e):n.prod.push(e);return n}function PB(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var tN=!1;function ip(n,e){if(typeof window>"u"||typeof document>"u"||!Ci(window.location.host)||Ju[n]===e||Ju[n]||tN)return;Ju[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=MB().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{tN=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=PB(r),y=t("text"),S=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),A=document.getElementById(M)||document.createElement("a"),x=t("preprendIcon"),z=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let K=m.element;a(K),h(A,M);let ne=l();u(z,x),K.append(z,S,A,ne),document.body.appendChild(K)}o?(S.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function xB(){var n;let e=(n=np())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cN(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function uN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lN(){let n=ct();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function dN(){return!xB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xu(){try{return typeof indexedDB=="object"}catch{return!1}}function hN(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var OB="FirebaseError",nn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=OB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mn.prototype.create)}},Mn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?kB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new nn(i,a,r)}};function kB(n,e){return n.replace(FB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var FB=/\{\$([^}]+)}/g;function fN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(nN(o)&&nN(s)){if(!Jn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function nN(n){return n!==null&&typeof n=="object"}function wa(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ta(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ba(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function pN(n,e){let t=new dE(n,e);return t.subscribe.bind(t)}var dE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");LB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=uE),i.error===void 0&&(i.error=uE),i.complete===void 0&&(i.complete=uE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function LB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function uE(){}var Xoe=14400*1e3;function We(n){return n&&n._delegate?n._delegate:n}var kt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var qo="[DEFAULT]";var mE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new zo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jB(e))try{this.getOrInitializeService({instanceIdentifier:qo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=qo){return this.instances.has(e)}getOptions(e=qo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qo){return this.component?this.component.multipleInstances?e:qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function VB(n){return n===qo?void 0:n}function jB(n){return n.instantiationMode==="EAGER"}var op=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new mE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var UB=[],ge=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ge||{}),BB={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},$B=ge.INFO,HB={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},zB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=HB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Zn=class{constructor(e){this.name=e,this._logLevel=$B,this._logHandler=zB,this._userLogHandler=null,UB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}};var qB=(n,e)=>e.some(t=>n instanceof t),gN,mN;function GB(){return gN||(gN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WB(){return mN||(mN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var yN=new WeakMap,vE=new WeakMap,vN=new WeakMap,yE=new WeakMap,EE=new WeakMap;function KB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Xn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&yN.set(t,n)}).catch(()=>{}),EE.set(e,n),e}function QB(n){if(vE.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});vE.set(n,e)}var _E={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||vN.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _N(n){_E=n(_E)}function YB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(sp(this),e,...t);return vN.set(r,e.sort?e.sort():[e]),Xn(r)}:WB().includes(n)?function(...e){return n.apply(sp(this),e),Xn(yN.get(this))}:function(...e){return Xn(n.apply(sp(this),e))}}function JB(n){return typeof n=="function"?YB(n):(n instanceof IDBTransaction&&QB(n),qB(n,GB())?new Proxy(n,_E):n)}function Xn(n){if(n instanceof IDBRequest)return KB(n);if(yE.has(n))return yE.get(n);let e=JB(n);return e!==n&&(yE.set(n,e),EE.set(e,n)),e}var sp=n=>EE.get(n);function IN(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Xn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Xn(s.result),u.oldVersion,u.newVersion,Xn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var ZB=["get","getKey","getAll","getAllKeys","count"],XB=["put","add","delete","clear"],IE=new Map;function EN(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(IE.get(e))return IE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=XB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZB.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return IE.set(e,o),o}_N(n=>le(k({},n),{get:(e,t,r)=>EN(e,t)||n.get(e,t,r),has:(e,t)=>!!EN(e,t)||n.has(e,t)}));var TE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(e$(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function e$(n){let e=n.getComponent();return e?.type==="VERSION"}var bE="@firebase/app",wN="0.13.2";var Ar=new Zn("@firebase/app"),t$="@firebase/app-compat",n$="@firebase/analytics-compat",r$="@firebase/analytics",i$="@firebase/app-check-compat",o$="@firebase/app-check",s$="@firebase/auth",a$="@firebase/auth-compat",c$="@firebase/database",u$="@firebase/data-connect",l$="@firebase/database-compat",d$="@firebase/functions",h$="@firebase/functions-compat",f$="@firebase/installations",p$="@firebase/installations-compat",g$="@firebase/messaging",m$="@firebase/messaging-compat",y$="@firebase/performance",v$="@firebase/performance-compat",_$="@firebase/remote-config",E$="@firebase/remote-config-compat",I$="@firebase/storage",w$="@firebase/storage-compat",T$="@firebase/firestore",b$="@firebase/ai",D$="@firebase/firestore-compat",C$="firebase",S$="11.10.0";var DE="[DEFAULT]",A$={[bE]:"fire-core",[t$]:"fire-core-compat",[r$]:"fire-analytics",[n$]:"fire-analytics-compat",[o$]:"fire-app-check",[i$]:"fire-app-check-compat",[s$]:"fire-auth",[a$]:"fire-auth-compat",[c$]:"fire-rtdb",[u$]:"fire-data-connect",[l$]:"fire-rtdb-compat",[d$]:"fire-fn",[h$]:"fire-fn-compat",[f$]:"fire-iid",[p$]:"fire-iid-compat",[g$]:"fire-fcm",[m$]:"fire-fcm-compat",[y$]:"fire-perf",[v$]:"fire-perf-compat",[_$]:"fire-rc",[E$]:"fire-rc-compat",[I$]:"fire-gcs",[w$]:"fire-gcs-compat",[T$]:"fire-fst",[D$]:"fire-fst-compat",[b$]:"fire-vertex","fire-js":"fire-js",[C$]:"fire-js-all"};var el=new Map,R$=new Map,CE=new Map;function TN(n,e){try{n.container.addComponent(e)}catch(t){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Pn(n){let e=n.name;if(CE.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;CE.set(e,n);for(let t of el.values())TN(t,n);for(let t of R$.values())TN(t,n);return!0}function Da(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ft(n){return n==null?!1:n.settings!==void 0}var N$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new Mn("app","Firebase",N$);var SE=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}};var Ai=S$;function NE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:DE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Si.create("bad-app-name",{appName:String(i)});if(t||(t=pE()),!t)throw Si.create("no-options");let o=el.get(i);if(o){if(Jn(t,o.options)&&Jn(r,o.config))return o;throw Si.create("duplicate-app",{appName:i})}let s=new op(i);for(let u of CE.values())s.addComponent(u);let a=new SE(t,r,s);return el.set(i,a),a}function Go(n=DE){let e=el.get(n);if(!e&&n===DE&&pE())return NE();if(!e)throw Si.create("no-app",{appName:n});return e}function ap(){return Array.from(el.values())}function He(n,e,t){var r;let i=(r=A$[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(a.join(" "));return}Pn(new kt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var M$="firebase-heartbeat-database",P$=1,tl="firebase-heartbeat-store",wE=null;function SN(){return wE||(wE=IN(M$,P$,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(tl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Si.create("idb-open",{originalErrorMessage:n.message})})),wE}function x$(n){return v(this,null,function*(){try{let t=(yield SN()).transaction(tl),r=yield t.objectStore(tl).get(AN(n));return yield t.done,r}catch(e){if(e instanceof nn)Ar.warn(e.message);else{let t=Si.create("idb-get",{originalErrorMessage:e?.message});Ar.warn(t.message)}}})}function bN(n,e){return v(this,null,function*(){try{let r=(yield SN()).transaction(tl,"readwrite");yield r.objectStore(tl).put(e,AN(n)),yield r.done}catch(t){if(t instanceof nn)Ar.warn(t.message);else{let r=Si.create("idb-set",{originalErrorMessage:t?.message});Ar.warn(r.message)}}})}function AN(n){return`${n.name}!${n.options.appId}`}var O$=1024,k$=30,AE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new RE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=DN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>k$){let s=L$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ar.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=DN(),{heartbeatsToSend:r,unsentEntries:i}=F$(this._heartbeatsCache.heartbeats),o=Zu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ar.warn(t),""}})}};function DN(){return new Date().toISOString().substring(0,10)}function F$(n,e=O$){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),CN(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),CN(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var RE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Xu()?hN().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield x$(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return bN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return bN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function CN(n){return Zu(JSON.stringify({version:2,heartbeats:n})).length}function L$(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function V$(n){Pn(new kt("platform-logger",e=>new TE(e),"PRIVATE")),Pn(new kt("heartbeat",e=>new AE(e),"PRIVATE")),He(bE,wN,n),He(bE,wN,"esm2017"),He("fire-js","")}V$("");var j$="firebase",U$="11.10.0";He(j$,U$,"app");function RN(n){n===void 0&&(n=N(Ue));let e=n.get(li);return t=>new re(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ri=new Xr("ANGULARFIRE2_VERSION");function nl(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Sa=(n,e)=>{let t=e?[e]:ap(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ca=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Ca||{}),NN=e_()&&typeof Zone<"u"?Ca.WARN:Ca.SILENT;var cp=class{zone;delegate;constructor(e,t=Mm){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Ni=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=N(Ie);this.outsideAngular=t.runOutsideAngular(()=>new cp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new cp(typeof Zone>"u"?void 0:Zone.current,Nm))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MN=!1;function B$(n,e){!MN&&(NN>Ca.SILENT||e_())&&(MN=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),NN>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function $$(n){let e=N(Ie,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Wo(n){let e=N(Ie,{optional:!0});return e?e.run(()=>n()):n()}var H$=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Be(t,()=>Wo(()=>n.apply(void 0,r)))),rt=(n,e,t)=>(t||=e?Ca.WARN:Ca.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=N(Ni),s=N(li),a=N(Oe)}catch{return B$(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Wo(()=>s.add())),i[l]=H$(i[l],r,a));let u=$$(()=>n.apply(this,i));return e?u instanceof re?u.pipe(Jr(o.outsideAngular),Yr(o.insideAngular),RN(a)):u instanceof Promise?Wo(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>Be(a,()=>Wo(()=>h(m))),m=>Be(a,()=>Wo(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Wo(()=>u):u instanceof re?u.pipe(Jr(o.outsideAngular),Yr(o.insideAngular)):Wo(()=>u)});var Rr=class{constructor(e){return e}},Ko=class{constructor(){return ap()}};function z$(n){return n&&n.length===1?n[0]:new Rr(Go())}var ME=new V("angularfire2._apps"),q$={provide:Rr,useFactory:z$,deps:[[new Zt,ME]]},G$={provide:Ko,deps:[[new Zt,ME]]};function W$(n){return(e,t)=>{let r=t.get(Do);He("angularfire",Ri.full,"core"),He("angularfire",Ri.full,"app"),He("angular",Wm.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Rr(i)}}function PN(n,...e){return bt([q$,G$,{provide:ME,useFactory:W$(n),multi:!0,deps:[Ie,Ue,Ni,...e]}])}var xN=rt(NE,!0);var K$=new Map,Q$={activated:!1,tokenObservers:[]},Y$={initialized:!1,enabled:!1};function xn(n){return K$.get(n)||Object.assign({},Q$)}function LN(){return Y$}var J$="https://content-firebaseappcheck.googleapis.com/v1";var Z$="exchangeDebugToken",ON={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},nae=1440*60*1e3;var OE=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new zo,this.pending.promise.catch(t=>{}),yield X$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new zo,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function X$(n){return new Promise(e=>{setTimeout(e,n)})}var eH={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Mi=new Mn("appCheck","AppCheck",eH);function VN(n){if(!xn(n).activated)throw Mi.create("use-before-activation",{appName:n.name})}function jN(r,i){return v(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw Mi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Mi.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Mi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Mi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function UN(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${J$}/projects/${t}/apps/${r}:${Z$}?key=${i}`,body:{debug_token:e}}}var tH="firebase-app-check-database",nH=1,kE="firebase-app-check-store";var up=null;function rH(){return up||(up=new Promise((n,e)=>{try{let t=indexedDB.open(tH,nH);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Mi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(kE,{keyPath:"compositeKey"})}}}catch(t){e(Mi.create("storage-open",{originalErrorMessage:t?.message}))}}),up)}function iH(n,e){return oH(sH(n),e)}function oH(n,e){return v(this,null,function*(){let r=(yield rH()).transaction(kE,"readwrite"),o=r.objectStore(kE).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Mi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function sH(n){return`${n.options.appId}-${n.name}`}var rl=new Zn("@firebase/app-check");function PE(n,e){return Xu()?iH(n,e).catch(t=>{rl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function BN(){return LN().enabled}function $N(){return v(this,null,function*(){let n=LN();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var aH={error:"UNKNOWN_ERROR"};function cH(n){return ep.encodeString(JSON.stringify(n),!1)}function FE(n,e=!1,t=!1){return v(this,null,function*(){let r=n.app;VN(r);let i=xn(r),o=i.token,s;if(o&&!il(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(il(l)?o=l:yield PE(r,void 0))}if(!e&&o&&il(o))return{token:o.token};let a=!1;if(BN())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=jN(UN(r,yield $N()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield PE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?rl.warn(l.message):t&&rl.error(l),xE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield xn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?rl.warn(l.message):t&&rl.error(l),s=l}let u;return o?s?il(o)?u={token:o.token,internalError:s}:u=xE(s):(u={token:o.token},i.token=o,yield PE(r,o)):u=xE(s),a&&hH(r,u),u})}function uH(n){return v(this,null,function*(){let e=n.app;VN(e);let{provider:t}=xn(e);if(BN()){let r=yield $N(),{token:i}=yield jN(UN(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function lH(n,e,t,r){let{app:i}=n,o=xn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&il(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),kN(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>kN(n))}function HN(n,e){let t=xn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function kN(n){let{app:e}=n,t=xn(e),r=t.tokenRefresher;r||(r=dH(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function dH(n){let{app:e}=n;return new OE(()=>v(null,null,function*(){let t=xn(e),r;if(t.token?r=yield FE(n,!0):r=yield FE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=xn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},ON.RETRIAL_MIN_WAIT,ON.RETRIAL_MAX_WAIT)}function hH(n,e){let t=xn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function il(n){return n.expireTimeMillis-Date.now()>0}function xE(n){return{token:cH(aH),error:n}}var LE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=xn(this.app);for(let t of e)HN(this.app,t.next);return Promise.resolve()}};function fH(n,e){return new LE(n,e)}function pH(n){return{getToken:e=>FE(n,e),getLimitedUseToken:()=>uH(n),addTokenListener:e=>lH(n,"INTERNAL",e),removeTokenListener:e=>HN(n.app,e)}}var gH="@firebase/app-check",mH="0.10.1";var yH="app-check",FN="app-check-internal";function vH(){Pn(new kt(yH,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return fH(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(FN).initialize()})),Pn(new kt(FN,n=>{let e=n.getProvider("app-check").getImmediate();return pH(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),He(gH,mH)}vH();var _H="app-check";var Aa=class{constructor(){return Sa(_H)}};var EH=["localhost","0.0.0.0","127.0.0.1"],gae=typeof window<"u"&&EH.includes(window.location.hostname);function oM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var sM=oM,aM=new Mn("auth","Firebase",oM());var gp=new Zn("@firebase/auth");function IH(n,...e){gp.logLevel<=ge.WARN&&gp.warn(`Auth (${Ai}): ${n}`,...e)}function dp(n,...e){gp.logLevel<=ge.ERROR&&gp.error(`Auth (${Ai}): ${n}`,...e)}function gn(n,...e){throw sI(n,...e)}function On(n,...e){return sI(n,...e)}function oI(n,e,t){let r=Object.assign(Object.assign({},sM()),{[e]:t});return new Mn("auth","Firebase",r).create(e,{appName:n.name})}function Pr(n){return oI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wH(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&gn(n,"argument-error"),oI(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return aM.create(n,...e)}function X(n,e,...t){if(!n)throw sI(e,...t)}function Nr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw dp(e),new Error(e)}function xr(n,e){n||Nr(e)}function UE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function TH(){return zN()==="http:"||zN()==="https:"}function zN(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function bH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TH()||cN()||"connection"in navigator)?navigator.onLine:!0}function DH(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Qo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,xr(t>e,"Short delay should be less than long delay!"),this.isMobile=sN()||uN()}get(){return bH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function aI(n,e){xr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var mp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var CH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var SH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AH=new Qo(3e4,6e4);function Oi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ki(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){return cM(n,i,()=>v(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=wa(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return aN()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Ci(n.emulatorConfig.host)&&(y.credentials="include"),mp.fetch()(yield uM(n,n.config.apiHost,t,p),y)}))})}function cM(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},CH),e);try{let i=new BE(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw lp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw lp(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw lp(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw lp(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw oI(n,h,l);gn(n,h)}}catch(i){if(i instanceof nn)throw i;gn(n,"network-request-failed",{message:String(i)})}})}function fl(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield ki(n,e,t,r,i);return"mfaPendingCredential"in l&&gn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function uM(n,e,t,r){return v(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?aI(n.config,i):`${n.config.apiScheme}://${i}`;return SH.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function RH(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var BE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(On(this.auth,"network-request-failed")),AH.get())})}};function lp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=On(n,e,r);return i.customData._tokenResponse=t,i}function qN(n){return n!==void 0&&n.enterprise!==void 0}var $E=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return RH(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function NH(n,e){return v(this,null,function*(){return ki(n,"GET","/v2/recaptchaConfig",Oi(n,e))})}function MH(n,e){return v(this,null,function*(){return ki(n,"POST","/v1/accounts:delete",e)})}function yp(n,e){return v(this,null,function*(){return ki(n,"POST","/v1/accounts:lookup",e)})}function sl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function cI(n,e=!1){return v(this,null,function*(){let t=We(n),r=yield t.getIdToken(e),i=uI(r);X(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:sl(VE(i.auth_time)),issuedAtTime:sl(VE(i.iat)),expirationTime:sl(VE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function VE(n){return Number(n)*1e3}function uI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return dp("JWT malformed, contained fewer than 3 sections"),null;try{let i=tp(t);return i?JSON.parse(i):(dp("Failed to decode base64 JWT payload"),null)}catch(i){return dp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function GN(n){let e=uI(n);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function cl(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof nn&&PH(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function PH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var HE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ul=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sl(this.lastLoginAt),this.creationTime=sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function vp(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield cl(n,yp(t,{idToken:r}));X(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?lM(o.providerUserInfo):[],a=xH(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ul(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function lI(n){return v(this,null,function*(){let e=We(n);yield vp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function xH(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lM(n){return n.map(e=>{var{providerId:t}=e,r=Ed(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function OH(n,e){return v(this,null,function*(){let t=yield cM(n,{},()=>v(null,null,function*(){let r=wa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield uM(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Ci(n.emulatorConfig.host)&&(u.credentials="include"),mp.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function kH(n,e){return v(this,null,function*(){return ki(n,"POST","/v2/accounts:revokeToken",Oi(n,e))})}var al=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){X(e.length!==0,"internal-error");let t=GN(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield OH(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(X(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(X(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Nr("not implemented")}};function Pi(n,e){X(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var xi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Ed(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ul(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield cl(this,this.stsTokenManager.getToken(this.auth,e));return X(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return cI(this,e)}reload(){return lI(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield vp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Ft(this.auth.app))return Promise.reject(Pr(this.auth));let e=yield this.getIdToken();return yield cl(this,MH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,A=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,x=(l=t.createdAt)!==null&&l!==void 0?l:void 0,z=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:K,emailVerified:ne,isAnonymous:xe,providerData:pe,stsTokenManager:T}=t;X(K&&T,e,"internal-error");let _=al.fromJSON(this.name,T);X(typeof K=="string",e,"internal-error"),Pi(p,e.name),Pi(m,e.name),X(typeof ne=="boolean",e,"internal-error"),X(typeof xe=="boolean",e,"internal-error"),Pi(y,e.name),Pi(S,e.name),Pi(M,e.name),Pi(A,e.name),Pi(x,e.name),Pi(z,e.name);let I=new n({uid:K,auth:e,email:m,emailVerified:ne,displayName:p,isAnonymous:xe,photoURL:S,phoneNumber:y,tenantId:M,stsTokenManager:_,createdAt:x,lastLoginAt:z});return pe&&Array.isArray(pe)&&(I.providerData=pe.map(w=>Object.assign({},w))),A&&(I._redirectEventId=A),I}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new al;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield vp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];X(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?lM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new al;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ul(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var WN=new Map;function Mr(n){xr(n instanceof Function,"Expected a class definition");let e=WN.get(n);return e?(xr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,WN.set(n,e),e)}var FH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),zE=FH;function hp(n,e,t){return`firebase:${n}:${e}:${t}`}var _p=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=hp(this.userKey,i.apiKey,o),this.fullPersistenceKey=hp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield yp(this.auth,{idToken:e}).catch(()=>{});return t?xi._fromGetAccountInfoResponse(this.auth,t,e):null}return xi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(Mr(zE),e,r);let i=(yield Promise.all(t.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Mr(zE),s=hp(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield yp(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield xi._fromGetAccountInfoResponse(e,m,h)}else p=xi._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function KN(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mM(e))return"Blackberry";if(yM(e))return"Webos";if(hM(e))return"Safari";if((e.includes("chrome/")||fM(e))&&!e.includes("edge/"))return"Chrome";if(gM(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function dM(n=ct()){return/firefox\//i.test(n)}function hM(n=ct()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fM(n=ct()){return/crios\//i.test(n)}function pM(n=ct()){return/iemobile/i.test(n)}function gM(n=ct()){return/android/i.test(n)}function mM(n=ct()){return/blackberry/i.test(n)}function yM(n=ct()){return/webos/i.test(n)}function dI(n=ct()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function LH(n=ct()){var e;return dI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function VH(){return lN()&&document.documentMode===10}function vM(n=ct()){return dI(n)||gM(n)||yM(n)||mM(n)||/windows phone/i.test(n)||pM(n)}function _M(n,e=[]){let t;switch(n){case"Browser":t=KN(ct());break;case"Worker":t=`${KN(ct())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ai}/${r}`}var qE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function jH(t){return v(this,arguments,function*(n,e={}){return ki(n,"GET","/v2/passwordPolicy",Oi(n,e))})}var UH=6,GE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:UH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var WE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ep(this),this.idTokenSubscription=new Ep(this),this.beforeStateQueue=new qE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mr(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield _p.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield yp(this,{idToken:e}),r=yield xi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(Ft(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield vp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=DH()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Ft(this.app))return Promise.reject(Pr(this));let t=e?We(e):null;return t&&X(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Ft(this.app)?Promise.reject(Pr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ft(this.app)?Promise.reject(Pr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Mr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield jH(this),t=new GE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield kH(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Mr(e)||this._popupRedirectResolver;X(t,this,"argument-error"),this.redirectPersistenceManager=yield _p.create(this,[Mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_M(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(Ft(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&IH(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Fi(n){return We(n)}var Ep=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=pN(t=>this.observer=t)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Rp={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BH(n){Rp=n}function EM(n){return Rp.loadJS(n)}function $H(){return Rp.recaptchaEnterpriseScript}function HH(){return Rp.gapiScript}function IM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var KE=class{constructor(){this.enterprise=new QE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},QE=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var zH="recaptcha-enterprise",wM="NO_RECAPTCHA",YE=class{constructor(e){this.type=zH,this.auth=Fi(e)}verify(e="verify",t=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(null,null,function*(){NH(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new $E(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;qN(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(wM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&qN(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=$H();u.length!==0&&(u+=a),EM(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function ol(n,e,t,r=!1,i=!1){return v(this,null,function*(){let o=new YE(n),s;if(i)s=wM;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function JE(n,e,t,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield ol(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>v(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield ol(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield ol(n,e,t);return r(n,a).catch(u=>v(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield ol(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield ol(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function hI(n,e){let t=Da(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Jn(o,e??{}))return i;gn(i,"already-initialized")}return t.initialize({options:e})}function qH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Mr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function fI(n,e,t){let r=Fi(n);X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=TM(e),{host:s,port:a}=GH(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){X(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),X(Jn(l,r.config.emulator)&&Jn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ci(s)?(rp(`${o}//${s}${u}`),ip("Auth",!0)):i||WH()}function TM(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function GH(n){let e=TM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:QN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:QN(s)}}}function QN(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function WH(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Na=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,t){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}};function KH(n,e){return v(this,null,function*(){return ki(n,"POST","/v1/accounts:signUp",e)})}function QH(n,e){return v(this,null,function*(){return fl(n,"POST","/v1/accounts:signInWithPassword",Oi(n,e))})}function YH(n,e){return v(this,null,function*(){return fl(n,"POST","/v1/accounts:signInWithEmailLink",Oi(n,e))})}function JH(n,e){return v(this,null,function*(){return fl(n,"POST","/v1/accounts:signInWithEmailLink",Oi(n,e))})}var ll=class n extends Na{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return JE(e,t,"signInWithPassword",QH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return YH(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return JE(e,r,"signUpPassword",KH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return JH(e,{idToken:t,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ra(n,e){return v(this,null,function*(){return fl(n,"POST","/v1/accounts:signInWithIdp",Oi(n,e))})}var ZH="http://localhost",Ip=class n extends Na{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Ed(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return Ra(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,Ra(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Ra(e,t)}buildRequest(){let e={requestUri:ZH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wa(t)}return e}};function XH(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function e4(n){let e=Ta(ba(n)).link,t=e?Ta(ba(e)).deep_link_id:null,r=Ta(ba(n)).deep_link_id;return(r?Ta(ba(r)).link:null)||r||t||e||n}var wp=class n{constructor(e){var t,r,i,o,s,a;let u=Ta(ba(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=XH((i=u.mode)!==null&&i!==void 0?i:null);X(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=e4(e);try{return new n(t)}catch{return null}}};var bM=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return ll._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=wp.parseLink(r);return X(i,"argument-error"),ll._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),dl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Tp=class extends dl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var pI=(()=>{class n extends Tp{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Ip._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();function t4(n,e){return v(this,null,function*(){return fl(n,"POST","/v1/accounts:signUp",Oi(n,e))})}var Ma=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield xi._fromIdTokenResponse(e,r,i),s=YN(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=YN(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function YN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var ZE=class n extends nn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function DM(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ZE._fromErrorAndOperation(n,o,e,r):o})}function n4(n,e,t=!1){return v(this,null,function*(){let r=yield cl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ma._forOperation(n,"link",r)})}function r4(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(Ft(r.app))return Promise.reject(Pr(r));let i="reauthenticate";try{let o=yield cl(n,DM(r,i,e,n),t);X(o.idToken,r,"internal-error");let s=uI(o.idToken);X(s,r,"internal-error");let{sub:a}=s;return X(n.uid===a,r,"user-mismatch"),Ma._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&gn(r,"user-mismatch"),o}})}function CM(n,e,t=!1){return v(this,null,function*(){if(Ft(n.app))return Promise.reject(Pr(n));let r="signIn",i=yield DM(n,r,e),o=yield Ma._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function gI(n,e){return v(this,null,function*(){return CM(Fi(n),e)})}function SM(n){return v(this,null,function*(){let e=Fi(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function mI(n,e,t){return v(this,null,function*(){if(Ft(n.app))return Promise.reject(Pr(n));let r=Fi(n),s=yield JE(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",t4,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&SM(n),u}),a=yield Ma._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function yI(n,e,t){return Ft(n.app)?Promise.reject(Pr(n)):gI(We(n),bM.credential(e,t)).catch(r=>v(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&SM(n),r}))}function vI(n,e,t,r){return We(n).onIdTokenChanged(e,t,r)}function _I(n,e,t){return We(n).beforeAuthStateChanged(e,t)}function EI(n,e,t,r){return We(n).onAuthStateChanged(e,t,r)}function II(n){return We(n).signOut()}var bp="__sak";var Dp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bp,"1"),this.storage.removeItem(bp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var i4=1e3,o4=10,s4=(()=>{class n extends Dp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);VH()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,o4):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},i4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield Kr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield Kr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield Kr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),AM=s4;var a4=(()=>{class n extends Dp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),wI=a4;function c4(n){return Promise.all(n.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var u4=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield c4(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function TI(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var XE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=TI("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function er(){return window}function l4(n){er().location.href=n}function RM(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}function d4(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function h4(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function f4(){return RM()?self:null}var NM="firebaseLocalStorageDb",p4=1,Cp="firebaseLocalStorage",MM="fbase_key",Yo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Np(n,e){return n.transaction([Cp],e?"readwrite":"readonly").objectStore(Cp)}function g4(){let n=indexedDB.deleteDatabase(NM);return new Yo(n).toPromise()}function eI(){let n=indexedDB.open(NM,p4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Cp,{keyPath:MM})}catch(i){t(i)}}),n.addEventListener("success",()=>v(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Cp)?e(r):(r.close(),yield g4(),e(yield eI()))}))})}function JN(n,e,t){return v(this,null,function*(){let r=Np(n,!0).put({[MM]:e,value:t});return new Yo(r).toPromise()})}function m4(n,e){return v(this,null,function*(){let t=Np(n,!1).get(e),r=yield new Yo(t).toPromise();return r===void 0?null:r.value})}function ZN(n,e){let t=Np(n,!0).delete(e);return new Yo(t).toPromise()}var y4=800,v4=3,_4=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield eI(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>v4)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return RM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=u4._getInstance(f4()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield d4(),!this.activeServiceWorker)return;this.sender=new XE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||h4()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield eI();return yield JN(t,bp,"1"),yield ZN(t,bp),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>JN(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>m4(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>ZN(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=Np(o,!1).getAll();return new Yo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),y4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),PM=_4;var Tae=IM("rcb"),bae=new Qo(3e4,6e4);function xM(n,e){return e?Mr(e):(X(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var hl=class extends Na{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ra(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ra(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ra(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function E4(n){return CM(n.auth,new hl(n),n.bypassAuthState)}function I4(n){let{auth:e,user:t}=n;return X(t,e,"internal-error"),r4(t,new hl(n),n.bypassAuthState)}function w4(n){return v(this,null,function*(){let{auth:e,user:t}=n;return X(t,e,"internal-error"),n4(t,new hl(n),n.bypassAuthState)})}var Sp=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E4;case"linkViaPopup":case"linkViaRedirect":return w4;case"reauthViaPopup":case"reauthViaRedirect":return I4;default:gn(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var T4=new Qo(2e3,1e4);function bI(n,e,t){return v(this,null,function*(){if(Ft(n.app))return Promise.reject(On(n,"operation-not-supported-in-this-environment"));let r=Fi(n);wH(n,e,dl);let i=xM(r,t);return new b4(r,"signInViaPopup",e,i).executeNotNull()})}var b4=(()=>{class n extends Sp{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return v(this,null,function*(){let t=yield this.execute();return X(t,this.auth,"internal-error"),t})}onExecution(){return v(this,null,function*(){xr(this.filter.length===1,"Popup operations only handle one event");let t=TI();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(On(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(On(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(On(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,T4.get())};t()}}n.currentPopupAction=null;return n})(),D4="pendingRedirect",fp=new Map,tI=class n extends Sp{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=fp.get(this.auth._key());if(!e){try{let r=(yield C4(this.resolver,this.auth))?yield Kr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}fp.set(this.auth._key(),e)}return this.bypassAuthState||fp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Kr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Kr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function C4(n,e){return v(this,null,function*(){let t=R4(e),r=A4(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function S4(n,e){fp.set(n._key(),e)}function A4(n){return Mr(n._redirectPersistence)}function R4(n){return hp(D4,n.config.apiKey,n.name)}function N4(n,e,t=!1){return v(this,null,function*(){if(Ft(n.app))return Promise.reject(Pr(n));let r=Fi(n),i=xM(r,e),s=yield new tI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var M4=600*1e3,nI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!OM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(On(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M4&&this.cachedEventUids.clear(),this.cachedEventUids.has(XN(e))}saveEventToCache(e){this.cachedEventUids.add(XN(e)),this.lastProcessedEventTime=Date.now()}};function XN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function OM({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function P4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OM(n);default:return!1}}function x4(t){return v(this,arguments,function*(n,e={}){return ki(n,"GET","/v1/projects",e)})}var O4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k4=/^https?/;function F4(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield x4(n);for(let t of e)try{if(L4(t))return}catch{}gn(n,"unauthorized-domain")})}function L4(n){let e=UE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!k4.test(t))return!1;if(O4.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var V4=new Qo(3e4,6e4);function eM(){let n=er().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function j4(n){return new Promise((e,t)=>{var r,i,o;function s(){eM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eM(),t(On(n,"network-request-failed"))},timeout:V4.get()})}if(!((i=(r=er().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=er().gapi)===null||o===void 0)&&o.load)s();else{let a=IM("iframefcb");return er()[a]=()=>{gapi.load?s():t(On(n,"network-request-failed"))},EM(`${HH()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw pp=null,e})}var pp=null;function U4(n){return pp=pp||j4(n),pp}var B4=new Qo(5e3,15e3),$4="__/auth/iframe",H4="emulator/auth/iframe",z4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function G4(n){let e=n.config;X(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?aI(e,H4):`https://${n.config.authDomain}/${$4}`,r={apiKey:e.apiKey,appName:n.name,v:Ai},i=q4.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${wa(r).slice(1)}`}function W4(n){return v(this,null,function*(){let e=yield U4(n),t=er().gapi;return X(t,n,"internal-error"),e.open({where:document.body,url:G4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z4,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=On(n,"network-request-failed"),a=er().setTimeout(()=>{o(s)},B4.get());function u(){er().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var K4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q4=500,Y4=600,J4="_blank",Z4="http://localhost",Ap=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function X4(n,e,t,r=Q4,i=Y4){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},K4),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ct().toLowerCase();t&&(a=fM(l)?J4:t),dM(l)&&(e=e||Z4,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(LH(l)&&a!=="_self")return ez(e||"",a),new Ap(null);let p=window.open(e||"",a,h);X(p,n,"popup-blocked");try{p.focus()}catch{}return new Ap(p)}function ez(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var tz="__/auth/handler",nz="emulator/auth/handler",rz=encodeURIComponent("fac");function tM(n,e,t,r,i,o){return v(this,null,function*(){X(n.config.authDomain,n,"auth-domain-config-required"),X(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ai,eventId:i};if(e instanceof dl){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",fN(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Tp){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${rz}=${encodeURIComponent(u)}`:"";return`${iz(n)}?${wa(a).slice(1)}${l}`})}function iz({config:n}){return n.emulator?aI(n,nz):`https://${n.authDomain}/${tz}`}var jE="webStorageSupport",rI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wI,this._completeRedirectFn=N4,this._overrideRedirectResult=S4}_openPopup(e,t,r,i){return v(this,null,function*(){var o;xr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield tM(e,t,r,UE(),i);return X4(e,s,TI())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield tM(e,t,r,UE(),i);return l4(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(xr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield W4(e),r=new nI(e);return t.register("authEvent",i=>(X(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jE,{type:jE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[jE];s!==void 0&&t(!!s),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=F4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vM()||hM()||dI()}},kM=rI;var nM="@firebase/auth",rM="1.10.8";var iI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function oz(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sz(n){Pn(new kt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;X(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_M(n)},l=new WE(r,i,o,u);return qH(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Pn(new kt("auth-internal",e=>{let t=Fi(e.getProvider("auth").getImmediate());return(r=>new iI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(nM,rM,oz(n)),He(nM,rM,"esm2017")}var az=300,cz=gE("authIdTokenMaxAge")||az,iM=null,uz=n=>e=>v(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>cz)return;let i=t?.token;iM!==i&&(iM=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function DI(n=Go()){let e=Da(n,"auth");if(e.isInitialized())return e.getImmediate();let t=hI(n,{popupRedirectResolver:kM,persistence:[PM,AM,wI]}),r=gE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=uz(o.toString());_I(t,s,()=>s(t.currentUser)),vI(t,a=>s(a))}}let i=fE("auth");return i&&fI(t,`http://${i}`),t}function lz(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}BH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=On("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",lz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sz("Browser");var FM="auth",Jo=class{constructor(e){return e}},pl=class{constructor(){return Sa(FM)}};var CI=new V("angularfire2.auth-instances");function Jz(n,e){let t=nl(FM,n,e);return t&&new Jo(t)}function Zz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Jo(r)}}var Xz={provide:pl,deps:[[new Zt,CI]]},eq={provide:Jo,useFactory:Jz,deps:[[new Zt,CI],Rr]};function LM(n,...e){return He("angularfire",Ri.full,"auth"),bt([eq,Xz,{provide:CI,useFactory:Zz(n),multi:!0,deps:[Ie,Ue,Ni,Ko,[new Zt,Aa],...e]}])}var VM=rt(mI,!0,2);var jM=rt(DI,!0);var UM=rt(EI,!0);var BM=rt(yI,!0,2);var $M=rt(bI,!0,2);var HM=rt(II,!0,2);var zM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qM={};var Or,SI;(function(){var n;function e(T,_){function I(){}I.prototype=_.prototype,T.D=_.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(w,b,C){for(var E=Array(arguments.length-2),ar=2;ar<arguments.length;ar++)E[ar-2]=arguments[ar];return _.prototype[b].apply(w,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,I){I||(I=0);var w=Array(16);if(typeof _=="string")for(var b=0;16>b;++b)w[b]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(b=0;16>b;++b)w[b]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=T.g[0],I=T.g[1],b=T.g[2];var C=T.g[3],E=_+(C^I&(b^C))+w[0]+3614090360&4294967295;_=I+(E<<7&4294967295|E>>>25),E=C+(b^_&(I^b))+w[1]+3905402710&4294967295,C=_+(E<<12&4294967295|E>>>20),E=b+(I^C&(_^I))+w[2]+606105819&4294967295,b=C+(E<<17&4294967295|E>>>15),E=I+(_^b&(C^_))+w[3]+3250441966&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(C^I&(b^C))+w[4]+4118548399&4294967295,_=I+(E<<7&4294967295|E>>>25),E=C+(b^_&(I^b))+w[5]+1200080426&4294967295,C=_+(E<<12&4294967295|E>>>20),E=b+(I^C&(_^I))+w[6]+2821735955&4294967295,b=C+(E<<17&4294967295|E>>>15),E=I+(_^b&(C^_))+w[7]+4249261313&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(C^I&(b^C))+w[8]+1770035416&4294967295,_=I+(E<<7&4294967295|E>>>25),E=C+(b^_&(I^b))+w[9]+2336552879&4294967295,C=_+(E<<12&4294967295|E>>>20),E=b+(I^C&(_^I))+w[10]+4294925233&4294967295,b=C+(E<<17&4294967295|E>>>15),E=I+(_^b&(C^_))+w[11]+2304563134&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(C^I&(b^C))+w[12]+1804603682&4294967295,_=I+(E<<7&4294967295|E>>>25),E=C+(b^_&(I^b))+w[13]+4254626195&4294967295,C=_+(E<<12&4294967295|E>>>20),E=b+(I^C&(_^I))+w[14]+2792965006&4294967295,b=C+(E<<17&4294967295|E>>>15),E=I+(_^b&(C^_))+w[15]+1236535329&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(b^C&(I^b))+w[1]+4129170786&4294967295,_=I+(E<<5&4294967295|E>>>27),E=C+(I^b&(_^I))+w[6]+3225465664&4294967295,C=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(C^_))+w[11]+643717713&4294967295,b=C+(E<<14&4294967295|E>>>18),E=I+(C^_&(b^C))+w[0]+3921069994&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(b^C&(I^b))+w[5]+3593408605&4294967295,_=I+(E<<5&4294967295|E>>>27),E=C+(I^b&(_^I))+w[10]+38016083&4294967295,C=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(C^_))+w[15]+3634488961&4294967295,b=C+(E<<14&4294967295|E>>>18),E=I+(C^_&(b^C))+w[4]+3889429448&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(b^C&(I^b))+w[9]+568446438&4294967295,_=I+(E<<5&4294967295|E>>>27),E=C+(I^b&(_^I))+w[14]+3275163606&4294967295,C=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(C^_))+w[3]+4107603335&4294967295,b=C+(E<<14&4294967295|E>>>18),E=I+(C^_&(b^C))+w[8]+1163531501&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(b^C&(I^b))+w[13]+2850285829&4294967295,_=I+(E<<5&4294967295|E>>>27),E=C+(I^b&(_^I))+w[2]+4243563512&4294967295,C=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(C^_))+w[7]+1735328473&4294967295,b=C+(E<<14&4294967295|E>>>18),E=I+(C^_&(b^C))+w[12]+2368359562&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(I^b^C)+w[5]+4294588738&4294967295,_=I+(E<<4&4294967295|E>>>28),E=C+(_^I^b)+w[8]+2272392833&4294967295,C=_+(E<<11&4294967295|E>>>21),E=b+(C^_^I)+w[11]+1839030562&4294967295,b=C+(E<<16&4294967295|E>>>16),E=I+(b^C^_)+w[14]+4259657740&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(I^b^C)+w[1]+2763975236&4294967295,_=I+(E<<4&4294967295|E>>>28),E=C+(_^I^b)+w[4]+1272893353&4294967295,C=_+(E<<11&4294967295|E>>>21),E=b+(C^_^I)+w[7]+4139469664&4294967295,b=C+(E<<16&4294967295|E>>>16),E=I+(b^C^_)+w[10]+3200236656&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(I^b^C)+w[13]+681279174&4294967295,_=I+(E<<4&4294967295|E>>>28),E=C+(_^I^b)+w[0]+3936430074&4294967295,C=_+(E<<11&4294967295|E>>>21),E=b+(C^_^I)+w[3]+3572445317&4294967295,b=C+(E<<16&4294967295|E>>>16),E=I+(b^C^_)+w[6]+76029189&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(I^b^C)+w[9]+3654602809&4294967295,_=I+(E<<4&4294967295|E>>>28),E=C+(_^I^b)+w[12]+3873151461&4294967295,C=_+(E<<11&4294967295|E>>>21),E=b+(C^_^I)+w[15]+530742520&4294967295,b=C+(E<<16&4294967295|E>>>16),E=I+(b^C^_)+w[2]+3299628645&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(b^(I|~C))+w[0]+4096336452&4294967295,_=I+(E<<6&4294967295|E>>>26),E=C+(I^(_|~b))+w[7]+1126891415&4294967295,C=_+(E<<10&4294967295|E>>>22),E=b+(_^(C|~I))+w[14]+2878612391&4294967295,b=C+(E<<15&4294967295|E>>>17),E=I+(C^(b|~_))+w[5]+4237533241&4294967295,I=b+(E<<21&4294967295|E>>>11),E=_+(b^(I|~C))+w[12]+1700485571&4294967295,_=I+(E<<6&4294967295|E>>>26),E=C+(I^(_|~b))+w[3]+2399980690&4294967295,C=_+(E<<10&4294967295|E>>>22),E=b+(_^(C|~I))+w[10]+4293915773&4294967295,b=C+(E<<15&4294967295|E>>>17),E=I+(C^(b|~_))+w[1]+2240044497&4294967295,I=b+(E<<21&4294967295|E>>>11),E=_+(b^(I|~C))+w[8]+1873313359&4294967295,_=I+(E<<6&4294967295|E>>>26),E=C+(I^(_|~b))+w[15]+4264355552&4294967295,C=_+(E<<10&4294967295|E>>>22),E=b+(_^(C|~I))+w[6]+2734768916&4294967295,b=C+(E<<15&4294967295|E>>>17),E=I+(C^(b|~_))+w[13]+1309151649&4294967295,I=b+(E<<21&4294967295|E>>>11),E=_+(b^(I|~C))+w[4]+4149444226&4294967295,_=I+(E<<6&4294967295|E>>>26),E=C+(I^(_|~b))+w[11]+3174756917&4294967295,C=_+(E<<10&4294967295|E>>>22),E=b+(_^(C|~I))+w[2]+718787259&4294967295,b=C+(E<<15&4294967295|E>>>17),E=I+(C^(b|~_))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(b+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+b&4294967295,T.g[3]=T.g[3]+C&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var I=_-this.blockSize,w=this.B,b=this.h,C=0;C<_;){if(b==0)for(;C<=I;)i(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<_;)if(w[b++]=T.charCodeAt(C++),b==this.blockSize){i(this,w),b=0;break}}else for(;C<_;)if(w[b++]=T[C++],b==this.blockSize){i(this,w),b=0;break}}this.h=b,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var I=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=I&255,I/=256;for(this.u(T),T=Array(16),_=I=0;4>_;++_)for(var w=0;32>w;w+=8)T[I++]=this.g[_]>>>w&255;return T};function o(T,_){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=_(T)}function s(T,_){this.h=_;for(var I=[],w=!0,b=T.length-1;0<=b;b--){var C=T[b]|0;w&&C==_||(I[b]=C,w=!1)}this.g=I}var a={};function u(T){return-128<=T&&128>T?o(T,function(_){return new s([_|0],0>_?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return A(l(-T));for(var _=[],I=1,w=0;T>=I;w++)_[w]=T/I|0,I*=4294967296;return new s(_,0)}function h(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return A(h(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(_,8)),w=p,b=0;b<T.length;b+=8){var C=Math.min(8,T.length-b),E=parseInt(T.substring(b,b+C),_);8>C?(C=l(Math.pow(_,C)),w=w.j(C).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-A(this).m();for(var T=0,_=1,I=0;I<this.g.length;I++){var w=this.i(I);T+=(0<=w?w:4294967296+w)*_,_*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(M(this))return"-"+A(this).toString(T);for(var _=l(Math.pow(T,6)),I=this,w="";;){var b=ne(I,_).g;I=x(I,b.j(_));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=b,S(I))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function M(T){return T.h==-1}n.l=function(T){return T=x(this,T),M(T)?-1:S(T)?0:1};function A(T){for(var _=T.g.length,I=[],w=0;w<_;w++)I[w]=~T.g[w];return new s(I,~T.h).add(m)}n.abs=function(){return M(this)?A(this):this},n.add=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],w=0,b=0;b<=_;b++){var C=w+(this.i(b)&65535)+(T.i(b)&65535),E=(C>>>16)+(this.i(b)>>>16)+(T.i(b)>>>16);w=E>>>16,C&=65535,E&=65535,I[b]=E<<16|C}return new s(I,I[I.length-1]&-2147483648?-1:0)};function x(T,_){return T.add(A(_))}n.j=function(T){if(S(this)||S(T))return p;if(M(this))return M(T)?A(this).j(A(T)):A(A(this).j(T));if(M(T))return A(this.j(A(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var _=this.g.length+T.g.length,I=[],w=0;w<2*_;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var b=0;b<T.g.length;b++){var C=this.i(w)>>>16,E=this.i(w)&65535,ar=T.i(b)>>>16,sc=T.i(b)&65535;I[2*w+2*b]+=E*sc,z(I,2*w+2*b),I[2*w+2*b+1]+=C*sc,z(I,2*w+2*b+1),I[2*w+2*b+1]+=E*ar,z(I,2*w+2*b+1),I[2*w+2*b+2]+=C*ar,z(I,2*w+2*b+2)}for(w=0;w<_;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=_;w<2*_;w++)I[w]=0;return new s(I,0)};function z(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function K(T,_){this.g=T,this.h=_}function ne(T,_){if(S(_))throw Error("division by zero");if(S(T))return new K(p,p);if(M(T))return _=ne(A(T),_),new K(A(_.g),A(_.h));if(M(_))return _=ne(T,A(_)),new K(A(_.g),_.h);if(30<T.g.length){if(M(T)||M(_))throw Error("slowDivide_ only works with positive integers.");for(var I=m,w=_;0>=w.l(T);)I=xe(I),w=xe(w);var b=pe(I,1),C=pe(w,1);for(w=pe(w,2),I=pe(I,2);!S(w);){var E=C.add(w);0>=E.l(T)&&(b=b.add(I),C=E),w=pe(w,1),I=pe(I,1)}return _=x(T,b.j(_)),new K(b,_)}for(b=p;0<=T.l(_);){for(I=Math.max(1,Math.floor(T.m()/_.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=l(I),E=C.j(_);M(E)||0<E.l(T);)I-=w,C=l(I),E=C.j(_);S(C)&&(C=m),b=b.add(C),T=x(T,E)}return new K(b,T)}n.A=function(T){return ne(this,T).h},n.and=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)&T.i(w);return new s(I,this.h&T.h)},n.or=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)|T.i(w);return new s(I,this.h|T.h)},n.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)^T.i(w);return new s(I,this.h^T.h)};function xe(T){for(var _=T.g.length+1,I=[],w=0;w<_;w++)I[w]=T.i(w)<<1|T.i(w-1)>>>31;return new s(I,T.h)}function pe(T,_){var I=_>>5;_%=32;for(var w=T.g.length-I,b=[],C=0;C<w;C++)b[C]=0<_?T.i(C+I)>>>_|T.i(C+I+1)<<32-_:T.i(C+I);return new s(b,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,SI=qM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Or=qM.Integer=s}).apply(typeof zM<"u"?zM:typeof self<"u"?self:typeof window<"u"?window:{});var Mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kr={};var AI,tq,Pa,RI,gl,Pp,NI,MI,PI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mp=="object"&&Mp];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,D={next:function(){if(!g&&f<c.length){var R=f++;return{value:d(R,c[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,D,R){for(var F=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)F[Ae-2]=arguments[Ae];return d.prototype[D].apply(g,F)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function A(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=c.length||0,R=g.length||0;c.length=D+R;for(let F=0;F<R;F++)c[D+F]=g[F]}else c.push(g)}}class x{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function z(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var xe=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function pe(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let R=0;R<I.length;R++)f=I[R],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function C(c){a.setTimeout(()=>{throw c},0)}function E(){var c=$g;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class ar{constructor(){this.h=this.g=null}add(d,f){let g=sc.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var sc=new x(()=>new wO,c=>c.reset());class wO{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ac,cc=!1,$g=new ar,JT=()=>{let c=a.Promise.resolve(void 0);ac=()=>{c.then(TO)}};var TO=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){C(f)}var d=sc;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}cc=!1};function zr(){this.s=this.s,this.C=this.C}zr.prototype.s=!1,zr.prototype.ma=function(){this.s||(this.s=!0,this.N())},zr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function vt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var bO=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function uc(c,d){if(vt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(xe){e:{try{ne(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:DO[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&uc.aa.h.call(this)}}S(uc,vt);var DO={2:"touch",3:"pen",4:"mouse"};uc.prototype.h=function(){uc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var lc="closure_listenable_"+(1e6*Math.random()|0),CO=0;function SO(c,d,f,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++CO,this.da=this.fa=!1}function Fl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ll(c){this.src=c,this.g={},this.h=0}Ll.prototype.add=function(c,d,f,g,D){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var F=zg(c,d,g,D);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new SO(d,this.src,R,!!g,D),d.fa=f,c.push(d)),d};function Hg(c,d){var f=d.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,d,void 0),R;(R=0<=D)&&Array.prototype.splice.call(g,D,1),R&&(Fl(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function zg(c,d,f,g){for(var D=0;D<c.length;++D){var R=c[D];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==g)return D}return-1}var qg="closure_lm_"+(1e6*Math.random()|0),Gg={};function ZT(c,d,f,g,D){if(g&&g.once)return eb(c,d,f,g,D);if(Array.isArray(d)){for(var R=0;R<d.length;R++)ZT(c,d[R],f,g,D);return null}return f=Yg(f),c&&c[lc]?c.K(d,f,l(g)?!!g.capture:!!g,D):XT(c,d,f,!1,g,D)}function XT(c,d,f,g,D,R){if(!d)throw Error("Invalid event type");var F=l(D)?!!D.capture:!!D,Ae=Kg(c);if(Ae||(c[qg]=Ae=new Ll(c)),f=Ae.add(d,f,g,F,R),f.proxy)return f;if(g=AO(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)bO||(D=F),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(nb(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function AO(){function c(f){return d.call(c.src,c.listener,f)}let d=RO;return c}function eb(c,d,f,g,D){if(Array.isArray(d)){for(var R=0;R<d.length;R++)eb(c,d[R],f,g,D);return null}return f=Yg(f),c&&c[lc]?c.L(d,f,l(g)?!!g.capture:!!g,D):XT(c,d,f,!0,g,D)}function tb(c,d,f,g,D){if(Array.isArray(d))for(var R=0;R<d.length;R++)tb(c,d[R],f,g,D);else g=l(g)?!!g.capture:!!g,f=Yg(f),c&&c[lc]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],f=zg(R,f,g,D),-1<f&&(Fl(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=Kg(c))&&(d=c.g[d.toString()],c=-1,d&&(c=zg(d,f,g,D)),(f=-1<c?d[c]:null)&&Wg(f))}function Wg(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[lc])Hg(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(nb(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Kg(d))?(Hg(f,c),f.h==0&&(f.src=null,d[qg]=null)):Fl(c)}}}function nb(c){return c in Gg?Gg[c]:Gg[c]="on"+c}function RO(c,d){if(c.da)c=!0;else{d=new uc(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Wg(c),c=f.call(g,d)}return c}function Kg(c){return c=c[qg],c instanceof Ll?c:null}var Qg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yg(c){return typeof c=="function"?c:(c[Qg]||(c[Qg]=function(d){return c.handleEvent(d)}),c[Qg])}function _t(){zr.call(this),this.i=new Ll(this),this.M=this,this.F=null}S(_t,zr),_t.prototype[lc]=!0,_t.prototype.removeEventListener=function(c,d,f,g){tb(this,c,d,f,g)};function Nt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new vt(d,c);else if(d instanceof vt)d.target=d.target||c;else{var D=d;d=new vt(g,c),w(d,D)}if(D=!0,f)for(var R=f.length-1;0<=R;R--){var F=d.g=f[R];D=Vl(F,g,!0,d)&&D}if(F=d.g=c,D=Vl(F,g,!0,d)&&D,D=Vl(F,g,!1,d)&&D,f)for(R=0;R<f.length;R++)F=d.g=f[R],D=Vl(F,g,!1,d)&&D}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Fl(f[g]);delete c.g[d],c.h--}}this.F=null},_t.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},_t.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Vl(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,R=0;R<d.length;++R){var F=d[R];if(F&&!F.da&&F.capture==f){var Ae=F.listener,dt=F.ha||F.src;F.fa&&Hg(c.i,F),D=Ae.call(dt,g)!==!1&&D}}return D&&!g.defaultPrevented}function rb(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function ib(c){c.g=rb(()=>{c.g=null,c.i&&(c.i=!1,ib(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class NO extends zr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:ib(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dc(c){zr.call(this),this.h=c,this.g={}}S(dc,zr);var ob=[];function sb(c){pe(c.g,function(d,f){this.g.hasOwnProperty(f)&&Wg(d)},c),c.g={}}dc.prototype.N=function(){dc.aa.N.call(this),sb(this)},dc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jg=a.JSON.stringify,MO=a.JSON.parse,PO=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Zg(){}Zg.prototype.h=null;function ab(c){return c.h||(c.h=c.i())}function cb(){}var hc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xg(){vt.call(this,"d")}S(Xg,vt);function em(){vt.call(this,"c")}S(em,vt);var Yi={},ub=null;function jl(){return ub=ub||new _t}Yi.La="serverreachability";function lb(c){vt.call(this,Yi.La,c)}S(lb,vt);function fc(c){let d=jl();Nt(d,new lb(d))}Yi.STAT_EVENT="statevent";function db(c,d){vt.call(this,Yi.STAT_EVENT,c),this.stat=d}S(db,vt);function Mt(c){let d=jl();Nt(d,new db(d,c))}Yi.Ma="timingevent";function hb(c,d){vt.call(this,Yi.Ma,c),this.size=d}S(hb,vt);function pc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function gc(){this.g=!0}gc.prototype.xa=function(){this.g=!1};function xO(c,d,f,g,D,R){c.info(function(){if(c.g)if(R)for(var F="",Ae=R.split("&"),dt=0;dt<Ae.length;dt++){var Ee=Ae[dt].split("=");if(1<Ee.length){var Et=Ee[0];Ee=Ee[1];var It=Et.split("_");F=2<=It.length&&It[1]=="type"?F+(Et+"="+Ee+"&"):F+(Et+"=redacted&")}}else F=null;else F=R;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+F})}function OO(c,d,f,g,D,R,F){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+R+" "+F})}function us(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+FO(c,f)+(g?" "+g:"")})}function kO(c,d){c.info(function(){return"TIMEOUT: "+d})}gc.prototype.info=function(){};function FO(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var R=D[0];if(R!="noop"&&R!="stop"&&R!="close")for(var F=1;F<D.length;F++)D[F]=""}}}}return Jg(f)}catch{return d}}var Ul={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tm;function Bl(){}S(Bl,Zg),Bl.prototype.g=function(){return new XMLHttpRequest},Bl.prototype.i=function(){return{}},tm=new Bl;function qr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new dc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pb}function pb(){this.i=null,this.g="",this.h=!1}var gb={},nm={};function rm(c,d,f){c.L=1,c.v=ql(cr(d)),c.m=f,c.P=!0,mb(c,null)}function mb(c,d){c.F=Date.now(),$l(c),c.A=cr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),Nb(f.i,"t",g),c.C=0,f=c.j.J,c.h=new pb,c.g=Kb(c.j,f?d:null,!c.m),0<c.O&&(c.M=new NO(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(ob[0]=D.toString()),D=ob);for(var R=0;R<D.length;R++){var F=ZT(f,D[R],g||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),fc(),xO(c.i,c.u,c.A,c.l,c.R,c.m)}qr.prototype.ca=function(c){c=c.target;let d=this.M;d&&ur(c)==3?d.j():this.Y(c)},qr.prototype.Y=function(c){try{if(c==this.g)e:{let It=ur(this.g);var d=this.g.Ba();let hs=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Lb(this.g)))){this.J||It!=4||d==7||(d==8||0>=hs?fc(3):fc(2)),im(this);var f=this.g.Z();this.X=f;t:if(yb(this)){var g=Lb(this.g);c="";var D=g.length,R=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ji(this),mc(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(R&&d==D-1)});g.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,OO(this.i,this.u,this.A,this.l,this.R,It,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,dt=this.g;if((Ae=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ae)){var Ee=Ae;break t}}Ee=null}if(f=Ee)us(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,om(this,f);else{this.o=!1,this.s=3,Mt(12),Ji(this),mc(this);break e}}if(this.P){f=!0;let vn;for(;!this.J&&this.C<F.length;)if(vn=LO(this,F),vn==nm){It==4&&(this.s=4,Mt(14),f=!1),us(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==gb){this.s=4,Mt(15),us(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else us(this.i,this.l,vn,null),om(this,vn);if(yb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||F.length!=0||this.h.h||(this.s=1,Mt(16),f=!1),this.o=this.o&&f,!f)us(this.i,this.l,F,"[Invalid Chunked Response]"),Ji(this),mc(this);else if(0<F.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),dm(Et),Et.M=!0,Mt(11))}}else us(this.i,this.l,F,null),om(this,F);It==4&&Ji(this),this.o&&!this.J&&(It==4?zb(this.j,this):(this.o=!1,$l(this)))}else ek(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Ji(this),mc(this)}}}catch{}finally{}};function yb(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function LO(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?nm:(f=Number(d.substring(f,g)),isNaN(f)?gb:(g+=1,g+f>d.length?nm:(d=d.slice(g,g+f),c.C=g+f,d)))}qr.prototype.cancel=function(){this.J=!0,Ji(this)};function $l(c){c.S=Date.now()+c.I,vb(c,c.I)}function vb(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pc(m(c.ba,c),d)}function im(c){c.B&&(a.clearTimeout(c.B),c.B=null)}qr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(kO(this.i,this.A),this.L!=2&&(fc(),Mt(17)),Ji(this),this.s=2,mc(this)):vb(this,this.S-c)};function mc(c){c.j.G==0||c.J||zb(c.j,c)}function Ji(c){im(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,sb(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function om(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||sm(f.h,c))){if(!c.K&&sm(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Yl(f),Kl(f);else break e;lm(f),Mt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=pc(m(f.Za,f),6e3));if(1>=Ib(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Xi(f,11)}else if((c.K||f.g==c)&&Yl(f),!z(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let Ee=D[d];if(f.T=Ee[0],Ee=Ee[1],f.G==2)if(Ee[0]=="c"){f.K=Ee[1],f.ia=Ee[2];let Et=Ee[3];Et!=null&&(f.la=Et,f.j.info("VER="+f.la));let It=Ee[4];It!=null&&(f.Aa=It,f.j.info("SVER="+f.Aa));let hs=Ee[5];hs!=null&&typeof hs=="number"&&0<hs&&(g=1.5*hs,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let vn=c.g;if(vn){let Zl=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zl){var R=g.h;R.g||Zl.indexOf("spdy")==-1&&Zl.indexOf("quic")==-1&&Zl.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(am(R,R.h),R.h=null))}if(g.D){let hm=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;hm&&(g.ya=hm,Re(g.I,g.D,hm))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var F=c;if(g.qa=Wb(g,g.J?g.ia:null,g.W),F.K){wb(g.h,F);var Ae=F,dt=g.L;dt&&(Ae.I=dt),Ae.B&&(im(Ae),$l(Ae)),g.g=F}else $b(g);0<f.i.length&&Ql(f)}else Ee[0]!="stop"&&Ee[0]!="close"||Xi(f,7);else f.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Xi(f,7):um(f):Ee[0]!="noop"&&f.l&&f.l.ta(Ee),f.v=0)}}fc(4)}catch{}}var VO=class{constructor(c,d){this.g=c,this.map=d}};function _b(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Eb(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ib(c){return c.h?1:c.g?c.g.size:0}function sm(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function am(c,d){c.g?c.g.add(d):c.h=d}function wb(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}_b.prototype.cancel=function(){if(this.i=Tb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Tb(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function jO(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function UO(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function bb(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=UO(c),g=jO(c),D=g.length,R=0;R<D;R++)d.call(void 0,g[R],f&&f[R],c)}var Db=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BO(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),D=null;if(0<=g){var R=c[f].substring(0,g);D=c[f].substring(g+1)}else R=c[f];d(R,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Zi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Zi){this.h=c.h,Hl(this,c.j),this.o=c.o,this.g=c.g,zl(this,c.s),this.l=c.l;var d=c.i,f=new _c;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Cb(this,f),this.m=c.m}else c&&(d=String(c).match(Db))?(this.h=!1,Hl(this,d[1]||"",!0),this.o=yc(d[2]||""),this.g=yc(d[3]||"",!0),zl(this,d[4]),this.l=yc(d[5]||"",!0),Cb(this,d[6]||"",!0),this.m=yc(d[7]||"")):(this.h=!1,this.i=new _c(null,this.h))}Zi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(vc(d,Sb,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(vc(d,Sb,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(vc(f,f.charAt(0)=="/"?zO:HO,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",vc(f,GO)),c.join("")};function cr(c){return new Zi(c)}function Hl(c,d,f){c.j=f?yc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function zl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Cb(c,d,f){d instanceof _c?(c.i=d,WO(c.i,c.h)):(f||(d=vc(d,qO)),c.i=new _c(d,c.h))}function Re(c,d,f){c.i.set(d,f)}function ql(c){return Re(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function yc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,$O),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function $O(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Sb=/[#\/\?@]/g,HO=/[#\?:]/g,zO=/[#\?]/g,qO=/[#\?@]/g,GO=/#/g;function _c(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Gr(c){c.g||(c.g=new Map,c.h=0,c.i&&BO(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=_c.prototype,n.add=function(c,d){Gr(this),this.i=null,c=ls(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Ab(c,d){Gr(c),d=ls(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Rb(c,d){return Gr(c),d=ls(c,d),c.g.has(d)}n.forEach=function(c,d){Gr(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(d,D,g,this)},this)},this)},n.na=function(){Gr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=c[g];for(let R=0;R<D.length;R++)f.push(d[g])}return f},n.V=function(c){Gr(this);let d=[];if(typeof c=="string")Rb(this,c)&&(d=d.concat(this.g.get(ls(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Gr(this),this.i=null,c=ls(this,c),Rb(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Nb(c,d,f){Ab(c,d),0<f.length&&(c.i=null,c.g.set(ls(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let R=encodeURIComponent(String(g)),F=this.V(g);for(g=0;g<F.length;g++){var D=R;F[g]!==""&&(D+="="+encodeURIComponent(String(F[g]))),c.push(D)}}return this.i=c.join("&")};function ls(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function WO(c,d){d&&!c.j&&(Gr(c),c.i=null,c.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(Ab(this,g),Nb(this,D,f))},c)),c.j=d}function KO(c,d){let f=new gc;if(a.Image){let g=new Image;g.onload=y(Wr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Wr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Wr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Wr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function QO(c,d){let f=new gc,g=new AbortController,D=setTimeout(()=>{g.abort(),Wr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(R=>{clearTimeout(D),R.ok?Wr(f,"TestPingServer: ok",!0,d):Wr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Wr(f,"TestPingServer: error",!1,d)})}function Wr(c,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function YO(){this.g=new PO}function JO(c,d,f){let g=f||"";try{bb(c,function(D,R){let F=D;l(D)&&(F=Jg(D)),d.push(g+R+"="+encodeURIComponent(F))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function Ec(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Ec,Zg),Ec.prototype.g=function(){return new Gl(this.l,this.j)},Ec.prototype.i=(function(c){return function(){return c}})({});function Gl(c,d){_t.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Gl,_t),n=Gl.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,wc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ic(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,wc(this)),this.g&&(this.readyState=3,wc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mb(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mb(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ic(this):wc(this),this.readyState==3&&Mb(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Ic(this))},n.Qa=function(c){this.g&&(this.response=c,Ic(this))},n.ga=function(){this.g&&Ic(this)};function Ic(c){c.readyState=4,c.l=null,c.j=null,c.v=null,wc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function wc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Pb(c){let d="";return pe(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function cm(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Pb(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Re(c,d,f))}function Ve(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ve,_t);var ZO=/^https?$/i,XO=["POST","PUT"];n=Ve.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tm.g(),this.v=this.o?ab(this.o):ab(tm),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){xb(this,R);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())f.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(XO,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,F]of f)this.g.setRequestHeader(R,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fb(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){xb(this,R)}};function xb(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Ob(c),Wl(c)}function Ob(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Nt(this,"complete"),Nt(this,"abort"),Wl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wl(this,!0)),Ve.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?kb(this):this.bb())},n.bb=function(){kb(this)};function kb(c){if(c.h&&typeof s<"u"&&(!c.v[1]||ur(c)!=4||c.Z()!=2)){if(c.u&&ur(c)==4)rb(c.Ea,0,c);else if(Nt(c,"readystatechange"),ur(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=F===0){var D=String(c.D).match(Db)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!ZO.test(D?D.toLowerCase():"")}f=g}if(f)Nt(c,"complete"),Nt(c,"success");else{c.m=6;try{var R=2<ur(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",Ob(c)}}finally{Wl(c)}}}}function Wl(c,d){if(c.g){Fb(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Nt(c,"ready");try{f.onreadystatechange=g}catch{}}}function Fb(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function ur(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),MO(d)}};function Lb(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ek(c){let d={};c=(c.g&&2<=ur(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(z(c[g]))continue;var f=b(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[D]||[];d[D]=R,R.push(f)}T(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tc(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Vb(c){this.Aa=0,this.i=[],this.j=new gc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tc("baseRetryDelayMs",5e3,c),this.cb=Tc("retryDelaySeedMs",1e4,c),this.Wa=Tc("forwardChannelMaxRetries",2,c),this.wa=Tc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new _b(c&&c.concurrentRequestLimit),this.Da=new YO,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Vb.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){Mt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Wb(this,null,this.W),Ql(this)};function um(c){if(jb(c),c.G==3){var d=c.U++,f=cr(c.I);if(Re(f,"SID",c.K),Re(f,"RID",d),Re(f,"TYPE","terminate"),bc(c,f),d=new qr(c,c.j,d),d.L=2,d.v=ql(cr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Kb(d.j,null),d.g.ea(d.v)),d.F=Date.now(),$l(d)}Gb(c)}function Kl(c){c.g&&(dm(c),c.g.cancel(),c.g=null)}function jb(c){Kl(c),c.u&&(a.clearTimeout(c.u),c.u=null),Yl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ql(c){if(!Eb(c.h)&&!c.s){c.s=!0;var d=c.Ga;ac||JT(),cc||(ac(),cc=!0),$g.add(d,c),c.B=0}}function tk(c,d){return Ib(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pc(m(c.Ga,c,d),qb(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new qr(this,this.j,c),R=this.o;if(this.S&&(R?(R=_(R),w(R,this.S)):R=this.S),this.m!==null||this.O||(D.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Bb(this,D,d),f=cr(this.I),Re(f,"RID",c),Re(f,"CVER",22),this.D&&Re(f,"X-HTTP-Session-Id",this.D),bc(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(Pb(R)))+"&"+d:this.m&&cm(f,this.m,R)),am(this.h,D),this.Ua&&Re(f,"TYPE","init"),this.P?(Re(f,"$req",d),Re(f,"SID","null"),D.T=!0,rm(D,f,null)):rm(D,f,d),this.G=2}}else this.G==3&&(c?Ub(this,c):this.i.length==0||Eb(this.h)||Ub(this))};function Ub(c,d){var f;d?f=d.l:f=c.U++;let g=cr(c.I);Re(g,"SID",c.K),Re(g,"RID",f),Re(g,"AID",c.T),bc(c,g),c.m&&c.o&&cm(g,c.m,c.o),f=new qr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Bb(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),am(c.h,f),rm(f,g,d)}function bc(c,d){c.H&&pe(c.H,function(f,g){Re(d,g,f)}),c.l&&bb({},function(f,g){Re(d,g,f)})}function Bb(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let R=-1;for(;;){let F=["count="+f];R==-1?0<f?(R=D[0].g,F.push("ofs="+R)):R=0:F.push("ofs="+R);let Ae=!0;for(let dt=0;dt<f;dt++){let Ee=D[dt].g,Et=D[dt].map;if(Ee-=R,0>Ee)R=Math.max(0,D[dt].g-100),Ae=!1;else try{JO(Et,F,"req"+Ee+"_")}catch{g&&g(Et)}}if(Ae){g=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function $b(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ac||JT(),cc||(ac(),cc=!0),$g.add(d,c),c.v=0}}function lm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pc(m(c.Fa,c),qb(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Hb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pc(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Kl(this),Hb(this))};function dm(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Hb(c){c.g=new qr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=cr(c.qa);Re(d,"RID","rpc"),Re(d,"SID",c.K),Re(d,"AID",c.T),Re(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Re(d,"TO",c.ja),Re(d,"TYPE","xmlhttp"),bc(c,d),c.m&&c.o&&cm(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ql(cr(d)),f.m=null,f.P=!0,mb(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Kl(this),lm(this),Mt(19))};function Yl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function zb(c,d){var f=null;if(c.g==d){Yl(c),dm(c),c.g=null;var g=2}else if(sm(c.h,d))f=d.D,wb(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;g=jl(),Nt(g,new hb(g,f)),Ql(c)}else $b(c);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&tk(c,d)||g==2&&lm(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:Xi(c,5);break;case 4:Xi(c,10);break;case 3:Xi(c,6);break;default:Xi(c,2)}}}function qb(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Xi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let D=!g;g=new Zi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Hl(g,"https"),ql(g),D?KO(g.toString(),f):QO(g.toString(),f)}else Mt(2);c.G=0,c.l&&c.l.sa(d),Gb(c),jb(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Gb(c){if(c.G=0,c.ka=[],c.l){let d=Tb(c.h);(d.length!=0||c.i.length!=0)&&(A(c.ka,d),A(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Wb(c,d,f){var g=f instanceof Zi?cr(f):new Zi(f);if(g.g!="")d&&(g.g=d+"."+g.g),zl(g,g.s);else{var D=a.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var R=new Zi(null);g&&Hl(R,g),d&&(R.g=d),D&&zl(R,D),f&&(R.l=f),g=R}return f=c.D,d=c.ya,f&&d&&Re(g,f,d),Re(g,"VER",c.la),bc(c,g),g}function Kb(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ve(new Ec({eb:f})):new Ve(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qb(){}n=Qb.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Jl(){}Jl.prototype.g=function(c,d){return new Gt(c,d)};function Gt(c,d){_t.call(this),this.g=new Vb(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!z(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!z(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ds(this)}S(Gt,_t),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){um(this.g)},Gt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Jg(c),c=f);d.i.push(new VO(d.Ya++,c)),d.G==3&&Ql(d)},Gt.prototype.N=function(){this.g.l=null,delete this.j,um(this.g),delete this.g,Gt.aa.N.call(this)};function Yb(c){Xg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(Yb,Xg);function Jb(){em.call(this),this.status=1}S(Jb,em);function ds(c){this.g=c}S(ds,Qb),ds.prototype.ua=function(){Nt(this.g,"a")},ds.prototype.ta=function(c){Nt(this.g,new Yb(c))},ds.prototype.sa=function(c){Nt(this.g,new Jb)},ds.prototype.ra=function(){Nt(this.g,"b")},Jl.prototype.createWebChannel=Jl.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,PI=kr.createWebChannelTransport=function(){return new Jl},MI=kr.getStatEventTarget=function(){return jl()},NI=kr.Event=Yi,Pp=kr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ul.NO_ERROR=0,Ul.TIMEOUT=8,Ul.HTTP_ERROR=6,gl=kr.ErrorCode=Ul,fb.COMPLETE="complete",RI=kr.EventType=fb,cb.EventType=hc,hc.OPEN="a",hc.CLOSE="b",hc.ERROR="c",hc.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Pa=kr.WebChannel=cb,tq=kr.FetchXmlHttpFactory=Ec,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,AI=kr.XhrIo=Ve}).apply(typeof Mp<"u"?Mp:typeof self<"u"?self:typeof window<"u"?window:{});var GM="@firebase/firestore",WM="4.8.0";var ut=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");var tc="11.10.0";var ns=new Zn("@firebase/firestore");function xa(){return ns.logLevel}function U(n,...e){if(ns.logLevel<=ge.DEBUG){let t=e.map(_T);ns.debug(`Firestore (${tc}): ${n}`,...t)}}function Vr(n,...e){if(ns.logLevel<=ge.ERROR){let t=e.map(_T);ns.error(`Firestore (${tc}): ${n}`,...t)}}function $i(n,...e){if(ns.logLevel<=ge.WARN){let t=e.map(_T);ns.warn(`Firestore (${tc}): ${n}`,...t)}}function _T(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Z(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,LP(n,r,t)}function LP(n,e,t){let r=`FIRESTORE (${tc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Vr(r),new Error(r)}function De(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||LP(e,i,r)}function se(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends nn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Fr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var jp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},LI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ut.UNAUTHENTICATED))}shutdown(){}},VI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},jI=class{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){De(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string",31837,{l:r}),new jp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string",2055,{h:e}),new ut(e)}},UI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},BI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new UI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Up=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},$I=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ft(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){De(this.o===void 0,3512);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Up(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(De(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Up(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function nq(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function VP(){return new TextEncoder}var Il=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=nq(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function he(n,e){return n<e?-1:n>e?1:0}function HI(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return he(r,i);{let o=VP(),s=rq(o.encode(KM(n,t)),o.encode(KM(e,t)));return s!==0?s:he(r,i)}}t+=r>65535?2:1}return he(n.length,e.length)}function KM(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function rq(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return he(n[t],e[t]);return he(n.length,e.length)}function Ba(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var QM="__name__",Bp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Z(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Z(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return he(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):HI(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Or.fromString(e.substring(4,e.length-2))}},Le=class n extends Bp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},iq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,on=class n extends Bp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return iq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QM}static keyField(){return new n([QM])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new H(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var J=class n{constructor(e){this.path=e}static fromPath(e){return new n(Le.fromString(e))}static fromName(e){return new n(Le.fromString(e).popFirst(5))}static empty(){return new n(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Le.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Le(e.slice()))}};function jP(n,e,t){if(!t)throw new H(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function oq(n,e,t,r){if(e===!0&&r===!0)throw new H(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function YM(n){if(!J.isDocumentKey(n))throw new H(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function JM(n){if(J.isDocumentKey(n))throw new H(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function UP(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ET(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Z(12329,{type:typeof n})}function Li(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=ET(n);throw new H(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function et(n,e){let t={typeString:n};return e&&(t.value=e),t}function Pl(n,e){if(!UP(n))throw new H(P.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new H(P.INVALID_ARGUMENT,t);return!0}var ZM=-62135596800,XM=1e6,tt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*XM);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ZM)throw new H(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XM}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pl(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-ZM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:et("string",tt._jsonSchemaVersion),seconds:et("number"),nanoseconds:et("number")};var ue=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new tt(0,0))}static max(){return new n(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var wl=-1,zI=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};zI.UNKNOWN_ID=-1;function sq(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new tt(t+1,0):new tt(t,r));return new rs(i,J.empty(),e)}function aq(n){return new rs(n.readTime,n.key,wl)}var rs=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ue.min(),J.empty(),wl)}static max(){return new n(ue.max(),J.empty(),wl)}};function cq(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=J.comparator(n.documentKey,e.documentKey),t!==0?t:he(n.largestBatchId,e.largestBatchId))}var uq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",qI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function nc(n){return v(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==uq)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var O=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function lq(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function rc(n){return n.name==="IndexedDbTransactionError"}var IT=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),wT=-1;function vg(n){return n==null}function Tl(n){return n===0&&1/n==-1/0}function dq(n){return typeof n=="number"&&Number.isInteger(n)&&!Tl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var BP="";function hq(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=eP(e)),e=fq(n.get(t),e);return eP(e)}function fq(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case BP:t+="";break;default:t+=o}}return t}function eP(n){return n+BP+""}var pq="remoteDocuments",$P="owner";var HP="mutationQueues";var zP="mutations";var qP="documentMutations",gq="remoteDocumentsV14";var GP="remoteDocumentGlobal";var WP="targets";var KP="targetDocuments";var QP="targetGlobal",YP="collectionParents";var JP="clientMetadata";var ZP="bundles";var XP="namedQueries";var mq="indexConfiguration";var yq="indexState";var vq="indexEntries";var ex="documentOverlays";var _q="globals";var Eq=[HP,zP,qP,pq,WP,$P,QP,KP,JP,GP,YP,ZP,XP],wce=[...Eq,ex],Iq=[HP,zP,qP,gq,WP,$P,QP,KP,JP,GP,YP,ZP,XP,ex],wq=Iq,Tq=[...wq,mq,yq,vq];var Tce=[...Tq,_q];function tP(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tx(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ze=class n{constructor(e,t){this.comparator=e,this.root=t||tr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new La(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new La(this.root,e,this.comparator,!1)}getReverseIterator(){return new La(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new La(this.root,e,this.comparator,!0)}},La=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},tr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Z(27949);return e+(this.isRed()?0:1)}};tr.EMPTY=null,tr.RED=!0,tr.BLACK=!1;tr.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new tr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var lt=class n{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $p(this.data.getIterator())}getIteratorFrom(e){return new $p(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},$p=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var yn=class n{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new n([])}unionWith(e){let t=new lt(on.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ba(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Hp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Rt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Hp("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Rt.EMPTY_BYTE_STRING=new Rt("");var bq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(n){if(De(!!n,39018),typeof n=="string"){let e=0,t=bq.exec(n);if(De(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(n.seconds),nanos:Pe(n.nanos)}}function Pe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ur(n){return typeof n=="string"?Rt.fromBase64String(n):Rt.fromUint8Array(n)}var nx="server_timestamp",rx="__type__",ix="__previous_value__",ox="__local_write_time__";function TT(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[rx])===null||t===void 0?void 0:t.stringValue)===nx}function _g(n){let e=n.mapValue.fields[ix];return TT(e)?_g(e):e}function bl(n){let e=jr(n.mapValue.fields[ox].timestampValue);return new tt(e.seconds,e.nanos)}var GI=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},zp="(default)",qp=class n{constructor(e,t){this.projectId=e,this.database=t||zp}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===zp}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var bT="__type__",sx="__max__",xp={mapValue:{fields:{__type__:{stringValue:sx}}}},DT="__vector__",$a="value";function Hi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?TT(n)?4:cx(n)?9007199254740991:ax(n)?10:11:Z(28295,{value:n})}function ir(n,e){if(n===e)return!0;let t=Hi(n);if(t!==Hi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bl(n).isEqual(bl(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=jr(i.timestampValue),a=jr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Ur(i.bytesValue).isEqual(Ur(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Pe(i.geoPointValue.latitude)===Pe(o.geoPointValue.latitude)&&Pe(i.geoPointValue.longitude)===Pe(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Pe(i.integerValue)===Pe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Pe(i.doubleValue),a=Pe(o.doubleValue);return s===a?Tl(s)===Tl(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Ba(n.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(tP(s)!==tP(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!ir(s[u],a[u])))return!1;return!0})(n,e);default:return Z(52216,{left:n})}}function Dl(n,e){return(n.values||[]).find(t=>ir(t,e))!==void 0}function Ha(n,e){if(n===e)return 0;let t=Hi(n),r=Hi(e);if(t!==r)return he(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return he(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Pe(o.integerValue||o.doubleValue),u=Pe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return nP(n.timestampValue,e.timestampValue);case 4:return nP(bl(n),bl(e));case 5:return HI(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Ur(o),u=Ur(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=he(a[l],u[l]);if(h!==0)return h}return he(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=he(Pe(o.latitude),Pe(s.latitude));return a!==0?a:he(Pe(o.longitude),Pe(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return rP(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[$a])===null||a===void 0?void 0:a.arrayValue,S=(u=m[$a])===null||u===void 0?void 0:u.arrayValue,M=he(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:rP(y,S)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===xp.mapValue&&s===xp.mapValue)return 0;if(o===xp.mapValue)return 1;if(s===xp.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=HI(u[p],h[p]);if(m!==0)return m;let y=Ha(a[u[p]],l[h[p]]);if(y!==0)return y}return he(u.length,h.length)})(n.mapValue,e.mapValue);default:throw Z(23264,{le:t})}}function nP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return he(n,e);let t=jr(n),r=jr(e),i=he(t.seconds,r.seconds);return i!==0?i:he(t.nanos,r.nanos)}function rP(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ha(t[i],r[i]);if(o)return o}return he(t.length,r.length)}function za(n){return WI(n)}function WI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=jr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ur(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return J.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=WI(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${WI(t.fields[s])}`;return i+"}"})(n.mapValue):Z(61005,{value:n})}function Fp(n){switch(Hi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=_g(n);return e?16+Fp(e):16;case 5:return 2*n.stringValue.length;case 6:return Ur(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Fp(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Wi(r.fields,(o,s)=>{i+=o.length+Fp(s)}),i})(n.mapValue);default:throw Z(13486,{value:n})}}function KI(n){return!!n&&"integerValue"in n}function CT(n){return!!n&&"arrayValue"in n}function iP(n){return!!n&&"nullValue"in n}function oP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lp(n){return!!n&&"mapValue"in n}function ax(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[bT])===null||t===void 0?void 0:t.stringValue)===DT}function yl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Wi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===sx}var Dce={mapValue:{fields:{[bT]:{stringValue:DT},[$a]:{arrayValue:{}}}}};var rn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Lp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yl(t)}setAll(e){let t=on.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=yl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Lp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Lp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Wi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(yl(this.value))}};function ux(n){let e=[];return Wi(n.fields,(t,r)=>{let i=new on([t]);if(Lp(r)){let o=ux(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new yn(e)}var kn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ue.min(),ue.min(),ue.min(),rn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ue.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ue.min(),ue.min(),rn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ue.min(),ue.min(),rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var qa=class{constructor(e,t){this.position=e,this.inclusive=t}};function sP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),t.key):r=Ha(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function aP(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ir(n.position[t],e.position[t]))return!1;return!0}var Ga=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Dq(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Gp=class{},it=class n extends Gp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new YI(e,t,r):t==="array-contains"?new XI(e,r):t==="in"?new ew(e,r):t==="not-in"?new tw(e,r):t==="array-contains-any"?new nw(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new JI(e,r):new ZI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ha(t,this.value)):t!==null&&Hi(this.value)===Hi(t)&&this.matchesComparison(Ha(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},or=class n extends Gp{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return lx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function lx(n){return n.op==="and"}function dx(n){return Cq(n)&&lx(n)}function Cq(n){for(let e of n.filters)if(e instanceof or)return!1;return!0}function QI(n){if(n instanceof it)return n.field.canonicalString()+n.op.toString()+za(n.value);if(dx(n))return n.filters.map(e=>QI(e)).join(",");{let e=n.filters.map(t=>QI(t)).join(",");return`${n.op}(${e})`}}function hx(n,e){return n instanceof it?(function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&ir(r.value,i.value)})(n,e):n instanceof or?(function(r,i){return i instanceof or&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&hx(s,i.filters[a]),!0):!1})(n,e):void Z(19439)}function fx(n){return n instanceof it?(function(t){return`${t.field.canonicalString()} ${t.op} ${za(t.value)}`})(n):n instanceof or?(function(t){return t.op.toString()+" {"+t.getFilters().map(fx).join(" ,")+"}"})(n):"Filter"}var YI=class extends it{constructor(e,t,r){super(e,t,r),this.key=J.fromName(r.referenceValue)}matches(e){let t=J.comparator(e.key,this.key);return this.matchesComparison(t)}},JI=class extends it{constructor(e,t){super(e,"in",t),this.keys=px("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},ZI=class extends it{constructor(e,t){super(e,"not-in",t),this.keys=px("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function px(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>J.fromName(r.referenceValue))}var XI=class extends it{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return CT(t)&&Dl(t.arrayValue,this.value)}},ew=class extends it{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Dl(this.value.arrayValue,t)}},tw=class extends it{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Dl(this.value.arrayValue,t)}},nw=class extends it{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!CT(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Dl(this.value.arrayValue,r))}};var rw=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function cP(n,e=null,t=[],r=[],i=null,o=null,s=null){return new rw(n,e,t,r,i,o,s)}function ST(n){let e=se(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>QI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),vg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>za(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>za(r)).join(",")),e.Pe=t}return e.Pe}function AT(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Dq(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!aP(n.startAt,e.startAt)&&aP(n.endAt,e.endAt)}function iw(n){return J.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Wa=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Sq(n,e,t,r,i,o,s,a){return new Wa(n,e,t,r,i,o,s,a)}function RT(n){return new Wa(n)}function uP(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Aq(n){return n.collectionGroup!==null}function vl(n){let e=se(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new lt(on.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Ga(o,r))}),t.has(on.keyField().canonicalString())||e.Te.push(new Ga(on.keyField(),r))}return e.Te}function nr(n){let e=se(n);return e.Ie||(e.Ie=Rq(e,vl(n))),e.Ie}function Rq(n,e){if(n.limitType==="F")return cP(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ga(i.field,o)});let t=n.endAt?new qa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new qa(n.startAt.position,n.startAt.inclusive):null;return cP(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ow(n,e,t){return new Wa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Eg(n,e){return AT(nr(n),nr(e))&&n.limitType===e.limitType}function gx(n){return`${ST(nr(n))}|lt:${n.limitType}`}function Oa(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>fx(i)).join(", ")}]`),vg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>za(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>za(i)).join(",")),`Target(${r})`})(nr(n))}; limitType=${n.limitType})`}function Ig(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):J.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of vl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=sP(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,vl(r),i)||r.endAt&&!(function(s,a,u){let l=sP(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,vl(r),i))})(n,e)}function Nq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mx(n){return(e,t)=>{let r=!1;for(let i of vl(n)){let o=Mq(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Mq(n,e,t){let r=n.field.isKeyField()?J.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ha(u,l):Z(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:n.dir})}}var Br=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return tx(this.inner)}size(){return this.innerSize}};var Pq=new ze(J.comparator);function $r(){return Pq}var yx=new ze(J.comparator);function ml(...n){let e=yx;for(let t of n)e=e.insert(t.key,t);return e}function vx(n){let e=yx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Zo(){return _l()}function _x(){return _l()}function _l(){return new Br(n=>n.toString(),(n,e)=>n.isEqual(e))}var xq=new ze(J.comparator),Oq=new lt(J.comparator);function ye(...n){let e=Oq;for(let t of n)e=e.add(t);return e}var kq=new lt(he);function Fq(){return kq}function NT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tl(e)?"-0":e}}function Ex(n){return{integerValue:""+n}}function Lq(n,e){return dq(e)?Ex(e):NT(n,e)}var Ka=class{constructor(){this._=void 0}};function Vq(n,e,t){return n instanceof Qa?(function(i,o){let s={fields:{[rx]:{stringValue:nx},[ox]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&TT(o)&&(o=_g(o)),o&&(s.fields[ix]=o),{mapValue:s}})(t,e):n instanceof is?wx(n,e):n instanceof os?Tx(n,e):(function(i,o){let s=Ix(i,o),a=lP(s)+lP(i.Ee);return KI(s)&&KI(i.Ee)?Ex(a):NT(i.serializer,a)})(n,e)}function jq(n,e,t){return n instanceof is?wx(n,e):n instanceof os?Tx(n,e):t}function Ix(n,e){return n instanceof Ya?(function(r){return KI(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Qa=class extends Ka{},is=class extends Ka{constructor(e){super(),this.elements=e}};function wx(n,e){let t=bx(e);for(let r of n.elements)t.some(i=>ir(i,r))||t.push(r);return{arrayValue:{values:t}}}var os=class extends Ka{constructor(e){super(),this.elements=e}};function Tx(n,e){let t=bx(e);for(let r of n.elements)t=t.filter(i=>!ir(i,r));return{arrayValue:{values:t}}}var Ya=class extends Ka{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function lP(n){return Pe(n.integerValue||n.doubleValue)}function bx(n){return CT(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Uq(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof is&&i instanceof is||r instanceof os&&i instanceof os?Ba(r.elements,i.elements,ir):r instanceof Ya&&i instanceof Ya?ir(r.Ee,i.Ee):r instanceof Qa&&i instanceof Qa})(n.transform,e.transform)}var sw=class{constructor(e,t){this.version=e,this.transformResults=t}},Lr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Vp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ja=class{};function Dx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Cl(n.key,Lr.none()):new ss(n.key,n.data,Lr.none());{let t=n.data,r=rn.empty(),i=new lt(on.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new sr(n.key,r,new yn(i.toArray()),Lr.none())}}function Bq(n,e,t){n instanceof ss?(function(i,o,s){let a=i.value.clone(),u=hP(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof sr?(function(i,o,s){if(!Vp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=hP(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(Cx(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function El(n,e,t,r){return n instanceof ss?(function(o,s,a,u){if(!Vp(o.precondition,s))return a;let l=o.value.clone(),h=fP(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof sr?(function(o,s,a,u){if(!Vp(o.precondition,s))return a;let l=fP(o.fieldTransforms,u,s),h=s.data;return h.setAll(Cx(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return Vp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function $q(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=Ix(r.transform,i||null);o!=null&&(t===null&&(t=rn.empty()),t.set(r.field,o))}return t||null}function dP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ba(r,i,(o,s)=>Uq(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ss=class extends Ja{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},sr=class extends Ja{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Cx(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function hP(n,e,t){let r=new Map;De(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,jq(s,a,t[i]))}return r}function fP(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Vq(o,s,e))}return r}var Cl=class extends Ja{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},aw=class extends Ja{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var cw=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Bq(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=El(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=El(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=_x();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=Dx(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ye())}isEqual(e){return this.batchId===e.batchId&&Ba(this.mutations,e.mutations,(t,r)=>dP(t,r))&&Ba(this.baseMutations,e.baseMutations,(t,r)=>dP(t,r))}},uw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){De(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return xq})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var lw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var dw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ze,_e;function Hq(n){switch(n){case P.OK:return Z(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return Z(15467,{code:n})}}function Sx(n){if(n===void 0)return Vr("GRPC error has no .code"),P.UNKNOWN;switch(n){case Ze.OK:return P.OK;case Ze.CANCELLED:return P.CANCELLED;case Ze.UNKNOWN:return P.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return P.INTERNAL;case Ze.UNAVAILABLE:return P.UNAVAILABLE;case Ze.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ze.NOT_FOUND:return P.NOT_FOUND;case Ze.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ze.ABORTED:return P.ABORTED;case Ze.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ze.DATA_LOSS:return P.DATA_LOSS;default:return Z(39323,{code:n})}}(_e=Ze||(Ze={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var pP=null;var zq=new Or([4294967295,4294967295],0);function gP(n){let e=VP().encode(n),t=new SI;return t.update(e),new Uint8Array(t.digest())}function mP(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Or([t,r],0),new Or([i,o],0)]}var hw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Xo(`Invalid padding: ${t}`);if(r<0)throw new Xo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Xo(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Or.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Or.fromNumber(r)));return i.compare(zq)===1&&(i=new Or([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=gP(e),[r,i]=mP(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=gP(e),[r,i]=mP(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Xo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Wp=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Sl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ue.min(),i,new ze(he),$r(),ye())}},Sl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ye(),ye(),ye())}};var Va=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Kp=class{constructor(e,t){this.targetId=e,this.De=t}},Qp=class{constructor(e,t,r=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Yp=class{constructor(){this.ve=0,this.Ce=yP(),this.Fe=Rt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ye(),t=ye(),r=ye();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Z(38017,{changeType:o})}}),new Sl(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=yP()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,De(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},fw=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=$r(),this.je=Op(),this.Je=Op(),this.He=new ze(he)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Z(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(iw(o))if(r===0){let s=new J(o.path);this.Xe(t,s,kn.newNoDocument(s,ue.min()))}else De(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}pP?.ct((function(h,p,m,y,S){var M,A,x,z,K,ne;let xe={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},pe=p.unchangedNames;return pe&&(xe.bloomFilter={applied:S===0,hashCount:(M=pe?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(z=(x=(A=pe?.bits)===null||A===void 0?void 0:A.bitmap)===null||x===void 0?void 0:x.length)!==null&&z!==void 0?z:0,padding:(ne=(K=pe?.bits)===null||K===void 0?void 0:K.padding)!==null&&ne!==void 0?ne:0,mightContain:T=>{var _;return(_=y?.mightContain(T))!==null&&_!==void 0&&_}}),xe})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ur(r).toUint8Array()}catch(u){if(u instanceof Hp)return $i("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new hw(s,i,o)}catch(u){return $i(u instanceof Xo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&iw(a.target)){let u=new J(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,kn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=ye();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Wp(e,t,this.He,this.ze,r);return this.ze=$r(),this.je=Op(),this.Je=Op(),this.He=new ze(he),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Yp,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new lt(he),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new lt(he),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Yp),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Op(){return new ze(J.comparator)}function yP(){return new ze(J.comparator)}var qq={asc:"ASCENDING",desc:"DESCENDING"},Gq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wq={and:"AND",or:"OR"},pw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function gw(n,e){return n.useProto3Json||vg(e)?e:{value:e}}function Jp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ax(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Kq(n,e){return Jp(n,e.toTimestamp())}function rr(n){return De(!!n,49232),ue.fromTimestamp((function(t){let r=jr(t);return new tt(r.seconds,r.nanos)})(n))}function MT(n,e){return mw(n,e).canonicalString()}function mw(n,e){let t=(function(i){return new Le(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Rx(n){let e=Le.fromString(n);return De(Ox(e),10190,{key:e.toString()}),e}function yw(n,e){return MT(n.databaseId,e.path)}function xI(n,e){let t=Rx(e);if(t.get(1)!==n.databaseId.projectId)throw new H(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new J(Mx(t))}function Nx(n,e){return MT(n.databaseId,e)}function Qq(n){let e=Rx(n);return e.length===4?Le.emptyPath():Mx(e)}function vw(n){return new Le(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Mx(n){return De(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function vP(n,e,t){return{name:yw(n,e),fields:t.value.mapValue.fields}}function Yq(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Z(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(De(h===void 0||typeof h=="string",58123),Rt.fromBase64String(h||"")):(De(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Rt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?P.UNKNOWN:Sx(l.code);return new H(h,l.message||"")})(s);t=new Qp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=xI(n,r.document.name),o=rr(r.document.updateTime),s=r.document.createTime?rr(r.document.createTime):ue.min(),a=new rn({mapValue:{fields:r.document.fields}}),u=kn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Va(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=xI(n,r.document),o=r.readTime?rr(r.readTime):ue.min(),s=kn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Va([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=xI(n,r.document),o=r.removedTargetIds||[];t=new Va([],o,i,null)}else{if(!("filter"in e))return Z(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new dw(i,o),a=r.targetId;t=new Kp(a,s)}}return t}function Jq(n,e){let t;if(e instanceof ss)t={update:vP(n,e.key,e.value)};else if(e instanceof Cl)t={delete:yw(n,e.key)};else if(e instanceof sr)t={update:vP(n,e.key,e.data),updateMask:s3(e.fieldMask)};else{if(!(e instanceof aw))return Z(16599,{Rt:e.type});t={verify:yw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Qa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof is)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof os)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ya)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw Z(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:Kq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z(27497)})(n,e.precondition)),t}function Zq(n,e){return n&&n.length>0?(De(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?rr(i.updateTime):rr(o);return s.isEqual(ue.min())&&(s=rr(o)),new sw(s,i.transformResults||[])})(t,e))):[]}function Xq(n,e){return{documents:[Nx(n,e.path)]}}function e3(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Nx(n,i);let o=(function(l){if(l.length!==0)return xx(or.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:ka(m.field),direction:r3(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=gw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function t3(n){let e=Qq(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){De(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=Px(p);return m instanceof or&&dx(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(S){return new Ga(Fa(S.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,vg(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new qa(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new qa(y,m)})(t.endAt)),Sq(e,i,s,o,a,"F",u,l)}function n3(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Px(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Fa(t.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Fa(t.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Fa(t.unaryFilter.field);return it.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Fa(t.unaryFilter.field);return it.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}})(n):n.fieldFilter!==void 0?(function(t){return it.create(Fa(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return or.create(t.compositeFilter.filters.map(r=>Px(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z(1026)}})(t.compositeFilter.op))})(n):Z(30097,{filter:n})}function r3(n){return qq[n]}function i3(n){return Gq[n]}function o3(n){return Wq[n]}function ka(n){return{fieldPath:n.canonicalString()}}function Fa(n){return on.fromServerFormat(n.fieldPath)}function xx(n){return n instanceof it?(function(t){if(t.op==="=="){if(oP(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NAN"}};if(iP(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(oP(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NOT_NAN"}};if(iP(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(t.field),op:i3(t.op),value:t.value}}})(n):n instanceof or?(function(t){let r=t.getFilters().map(i=>xx(i));return r.length===1?r[0]:{compositeFilter:{op:o3(t.op),filters:r}}})(n):Z(54877,{filter:n})}function s3(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ox(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Al=class n{constructor(e,t,r,i,o=ue.min(),s=ue.min(),a=Rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var _w=class{constructor(e){this.gt=e}};function a3(n){let e=t3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ow(e,e.limit,"L"):e}var Zp=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Pe(e.integerValue));else if("doubleValue"in e){let r=Pe(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Tl(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=jr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Ur(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?cx(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):ax(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):Z(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=$a,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Pe(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),J.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Zp.Ut=new Zp;var Ew=class{constructor(){this.Dn=new Iw}addToCollectionParentIndex(e,t){return this.Dn.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(rs.min())}updateCollectionGroup(e,t,r){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}},Iw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new lt(Le.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(Le.comparator)).toArray()}};var Cce=new Uint8Array(0);var _P={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kx=41943040,mn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(kx,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);var Rl=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var EP="LruGarbageCollector",c3=1048576;function IP([n,e],[t,r]){let i=he(n,t);return i===0?he(e,r):i}var ww=class{constructor(e){this.Tr=e,this.buffer=new lt(IP),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();IP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Tw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){U(EP,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){rc(t)?U(EP,"Ignoring IndexedDB error during garbage collection: ",t):yield nc(t)}yield this.Rr(3e5)}))}},bw=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return O.resolve(IT.ue);let r=new ww(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(_P)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_P):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),xa()<=ge.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function u3(n,e){return new bw(n,e)}var Dw=class{constructor(){this.changes=new Br(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?O.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Cw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Sw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&El(r.mutation,i,yn.empty(),tt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ye()){let i=Zo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=ml();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Zo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ye()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=$r(),s=_l(),a=(function(){return _l()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof sr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),El(h.mutation,l,h.mutation.getFieldMask(),tt.now())):s.set(l.key,yn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new Cw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=_l(),i=new ze((s,a)=>s-a),o=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||yn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ye()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=_x();h.forEach(m=>{if(!o.has(m)){let y=Dx(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Aq(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):O.resolve(Zo()),a=wl,u=o;return s.next(l=>O.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ye())).next(h=>({batchId:a,changes:vx(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new J(t)).next(r=>{let i=ml();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=ml();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,u=>{let l=(function(p,m){return new Wa(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,kn.newInvalidDocument(h)))});let a=ml();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&El(h.mutation,l,yn.empty(),tt.now()),Ig(t,l)&&(a=a.insert(u,l))}),a})}};var Aw=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return O.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:rr(i.createTime)}})(t)),O.resolve()}getNamedQuery(e,t){return O.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:a3(i.bundledQuery),readTime:rr(i.readTime)}})(t)),O.resolve()}};var Rw=class{constructor(){this.overlays=new ze(J.comparator),this.kr=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Zo();return O.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),O.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),O.resolve()}getOverlaysForCollection(e,t,r){let i=Zo(),o=t.length+1,s=new J(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ze((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Zo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Zo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new lw(t,r));let o=this.kr.get(t);o===void 0&&(o=ye(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var Nw=class{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,O.resolve()}};var Nl=class{constructor(){this.qr=new lt(Xe.Qr),this.$r=new lt(Xe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Xe(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Xe(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new J(new Le([])),r=new Xe(t,e),i=new Xe(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new J(new Le([])),r=new Xe(t,e),i=new Xe(t,e+1),o=ye();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Xe(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Xe=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return J.comparator(e.key,t.key)||he(e.Hr,t.Hr)}static Ur(e,t){return he(e.Hr,t.Hr)||J.comparator(e.key,t.key)}};var Mw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new lt(Xe.Qr)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new cw(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Xe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,t){return O.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?wT:this.er-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Xe(t,0),i=new Xe(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(he);return t.forEach(i=>{let o=new Xe(i,0),s=new Xe(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),O.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;J.isDocumentKey(o)||(o=o.child(""));let s=new Xe(new J(o),0),a=new lt(he);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),O.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){De(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return O.forEach(t.mutations,i=>{let o=new Xe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Xe(t,0),i=this.Yr.firstAfterOrEqual(r);return O.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Pw=class{constructor(e){this.ni=e,this.docs=(function(){return new ze(J.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return O.resolve(r?r.document.mutableCopy():kn.newInvalidDocument(t))}getEntries(e,t){let r=$r();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():kn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=$r(),s=t.path,a=new J(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||cq(aq(h),r)<=0||(i.has(h.key)||Ig(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Z(9500)}ri(e,t){return O.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new xw(this)}getSize(e){return O.resolve(this.size)}},xw=class extends Dw{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),O.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var Ow=class{constructor(e){this.persistence=e,this.ii=new Br(t=>ST(t),AT),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.si=0,this.oi=new Nl,this.targetCount=0,this._i=Rl.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),O.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Rl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.hr(t),O.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return O.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),O.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),O.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return O.resolve(r)}containsKey(e,t){return O.resolve(this.oi.containsKey(t))}};var Xp=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new IT(0),this.ci=!1,this.ci=!0,this.li=new Nw,this.referenceDelegate=e(this),this.hi=new Ow(this),this.indexManager=new Ew,this.remoteDocumentCache=(function(i){return new Pw(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new _w(t),this.Ti=new Aw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Rw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new Mw(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new kw(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return O.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},kw=class extends qI{constructor(e){super(),this.currentSequenceNumber=e}},Fw=class n{constructor(e){this.persistence=e,this.Ai=new Nl,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw Z(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),O.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),O.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.mi,r=>{let i=J.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ue.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return O.or([()=>O.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},eg=class n{constructor(e,t){this.persistence=e,this.gi=new Br(r=>hq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=u3(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return O.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return O.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?O.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ue.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),O.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),O.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fp(e.data.value)),t}Sr(e,t,r){return O.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Lw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ye(),i=ye();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Vw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var jw=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return dN()?8:lq(ct())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Vw;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(xa()<=ge.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Oa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),O.resolve()):(xa()<=ge.DEBUG&&U("QueryEngine","Query:",Oa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(xa()<=ge.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Oa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(t))):O.resolve())}ps(e,t){if(uP(t))return O.resolve(null);let r=nr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=ow(t,null,"F"),r=nr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ye(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,ow(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return uP(t)||i.isEqual(ue.min())?O.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?O.resolve(null):(xa()<=ge.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oa(t)),this.vs(e,s,t,sq(i,wl)).next(a=>a))})}bs(e,t){let r=new lt(mx(e));return t.forEach((i,o)=>{Ig(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return xa()<=ge.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Oa(t)),this.gs.getDocumentsMatchingQuery(e,t,rs.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var PT="LocalStore",l3=3e8,Uw=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new ze(he),this.Ms=new Br(o=>ST(o),AT),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function d3(n,e,t,r){return new Uw(n,e,t,r)}function Fx(n,e){return v(this,null,function*(){let t=se(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ye();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function h3(n,e){let t=se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,m=p.keys(),y=O.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(M=>{let A=l.docVersions.get(S);De(A!==null,48541),M.version.compareTo(A)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=ye();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Lx(n){let e=se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function f3(n,e){let t=se(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Rt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(M,A,x){return M.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=l3?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0})(m,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=$r(),l=ye();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(p3(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ue.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function p3(n,e,t){let r=ye(),i=ye();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=$r();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ue.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U(PT,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function g3(n,e){let t=se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=wT),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function m3(n,e){let t=se(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Al(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function Bw(n,e,t){return v(this,null,function*(){let r=se(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!rc(s))throw s;U(PT,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function wP(n,e,t){let r=se(n),i=ue.min(),o=ye();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=se(u),m=p.Ms.get(h);return m!==void 0?O.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,nr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ue.min(),t?o:ye())).next(a=>(y3(r,Nq(e),a),{documents:a,qs:o})))}function y3(n,e,t){let r=n.xs.get(e)||ue.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var tg=class{constructor(){this.activeTargetIds=Fq()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var $w=class{constructor(){this.Fo=new tg,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new tg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Hw=class{xo(e){}shutdown(){}};var TP="ConnectivityMonitor",ng=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){U(TP,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){U(TP,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var kp=null;function zw(){return kp===null?kp=(function(){return 268435456+Math.round(2147483648*Math.random())})():kp++,"0x"+kp.toString(16)}var OI="RestConnection",v3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},qw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===zp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=zw(),a=this.Go(e,t.toUriEncodedString());U(OI,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Ci(l);return this.jo(e,a,u,r,h).then(p=>(U(OI,`Received RPC '${e}' ${s}: `,p),p),p=>{throw $i(OI,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+tc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=v3[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var Gw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var St="WebChannelConnection",Ww=class extends qw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=zw();return new Promise((a,u)=>{let l=new AI;l.setWithCredentials(!0),l.listenOnce(RI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case gl.NO_ERROR:let p=l.getResponseJson();U(St,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case gl.TIMEOUT:U(St,`RPC '${e}' ${s} timed out`),u(new H(P.DEADLINE_EXCEEDED,"Request time out"));break;case gl.HTTP_ERROR:let m=l.getStatus();if(U(St,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let S=y?.error;if(S&&S.status&&S.message){let M=(function(x){let z=x.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(z)>=0?z:P.UNKNOWN})(S.status);u(new H(M,S.message))}else u(new H(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new H(P.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{U(St,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);U(St,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=zw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=PI(),a=MI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");U(St,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,S=new Gw({Ho:A=>{y?U(St,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(U(St,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),U(St,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Yo:()=>p.close()}),M=(A,x,z)=>{A.listen(x,K=>{try{z(K)}catch(ne){setTimeout(()=>{throw ne},0)}})};return M(p,Pa.EventType.OPEN,()=>{y||(U(St,`RPC '${e}' stream ${i} transport opened.`),S.s_())}),M(p,Pa.EventType.CLOSE,()=>{y||(y=!0,U(St,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(p))}),M(p,Pa.EventType.ERROR,A=>{y||(y=!0,$i(St,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),S.__(new H(P.UNAVAILABLE,"The operation could not be completed")))}),M(p,Pa.EventType.MESSAGE,A=>{var x;if(!y){let z=A.data[0];De(!!z,16349);let K=z,ne=K?.error||((x=K[0])===null||x===void 0?void 0:x.error);if(ne){U(St,`RPC '${e}' stream ${i} received error:`,ne);let xe=ne.status,pe=(function(I){let w=Ze[I];if(w!==void 0)return Sx(w)})(xe),T=ne.message;pe===void 0&&(pe=P.INTERNAL,T="Unknown error status: "+xe+" with message "+ne.message),y=!0,S.__(new H(pe,T)),p.close()}else U(St,`RPC '${e}' stream ${i} received:`,z),S.a_(z)}}),M(a,NI.STAT_EVENT,A=>{A.stat===Pp.PROXY?U(St,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Pp.NOPROXY&&U(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function kI(){return typeof document<"u"?document:null}function wg(n){return new pw(n,!0)}var rg=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var bP="PersistentStream",ig=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new rg(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new H(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(e){return U(bP,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(U(bP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Kw=class extends ig{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=Yq(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ue.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?rr(s.readTime):ue.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=vw(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=iw(u)?{documents:Xq(o,u)}:{query:e3(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Ax(o,s.resumeToken);let l=gw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ue.min())>0){a.readTime=Jp(o,s.snapshotVersion.toTimestamp());let l=gw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=n3(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=vw(this.serializer),t.removeTarget=e,this.k_(t)}},Qw=class extends ig{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return De(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){De(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=Zq(e.writeResults,e.commitTime),r=rr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=vw(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Jq(this.serializer,r))};this.k_(t)}};var Yw=class{},Jw=class extends Yw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new H(P.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,mw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(P.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,mw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(P.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Zw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Vr(t),this._a=!1):U("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var as="RemoteStore",Xw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){cs(this)&&(U(as,"Restarting streams for network reachability change."),yield(function(u){return v(this,null,function*(){let l=se(u);l.Ia.add(4),yield xl(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Tg(l)})})(this))}))}),this.Aa=new Zw(r,i)}};function Tg(n){return v(this,null,function*(){if(cs(n))for(let e of n.da)yield e(!0)})}function xl(n){return v(this,null,function*(){for(let e of n.da)yield e(!1)})}function Vx(n,e){let t=se(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),FT(t)?kT(t):ic(t).x_()&&OT(t,e))}function xT(n,e){let t=se(n),r=ic(t);t.Ta.delete(e),r.x_()&&jx(t,e),t.Ta.size===0&&(r.x_()?r.B_():cs(t)&&t.Aa.set("Unknown"))}function OT(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ic(n).H_(e)}function jx(n,e){n.Ra.$e(e),ic(n).Y_(e)}function kT(n){n.Ra=new fw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),ic(n).start(),n.Aa.aa()}function FT(n){return cs(n)&&!ic(n).M_()&&n.Ta.size>0}function cs(n){return se(n).Ia.size===0}function Ux(n){n.Ra=void 0}function _3(n){return v(this,null,function*(){n.Aa.set("Online")})}function E3(n){return v(this,null,function*(){n.Ta.forEach((e,t)=>{OT(n,e)})})}function I3(n,e){return v(this,null,function*(){Ux(n),FT(n)?(n.Aa.la(e),kT(n)):n.Aa.set("Unknown")})}function w3(n,e,t){return v(this,null,function*(){if(n.Aa.set("Online"),e instanceof Qp&&e.state===2&&e.cause)try{yield(function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){U(as,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield og(n,r)}else if(e instanceof Va?n.Ra.Ye(e):e instanceof Kp?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ue.min()))try{let r=yield Lx(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Rt.EMPTY_BYTE_STRING,h.snapshotVersion)),jx(o,u);let p=new Al(h.target,u,l,h.sequenceNumber);OT(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){U(as,"Failed to raise snapshot:",r),yield og(n,r)}})}function og(n,e,t){return v(this,null,function*(){if(!rc(e))throw e;n.Ia.add(1),yield xl(n),n.Aa.set("Offline"),t||(t=()=>Lx(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){U(as,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Tg(n)}))})}function Bx(n,e){return e().catch(t=>og(n,t,e))}function bg(n){return v(this,null,function*(){let e=se(n),t=zi(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:wT;for(;T3(e);)try{let i=yield g3(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,b3(e,i)}catch(i){yield og(e,i)}$x(e)&&Hx(e)})}function T3(n){return cs(n)&&n.Pa.length<10}function b3(n,e){n.Pa.push(e);let t=zi(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function $x(n){return cs(n)&&!zi(n).M_()&&n.Pa.length>0}function Hx(n){zi(n).start()}function D3(n){return v(this,null,function*(){zi(n).na()})}function C3(n){return v(this,null,function*(){let e=zi(n);for(let t of n.Pa)e.X_(t.mutations)})}function S3(n,e,t){return v(this,null,function*(){let r=n.Pa.shift(),i=uw.from(r,e,t);yield Bx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield bg(n)})}function A3(n,e){return v(this,null,function*(){e&&zi(n).Z_&&(yield(function(r,i){return v(this,null,function*(){if((function(s){return Hq(s)&&s!==P.ABORTED})(i.code)){let o=r.Pa.shift();zi(r).N_(),yield Bx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield bg(r)}})})(n,e)),$x(n)&&Hx(n)})}function DP(n,e){return v(this,null,function*(){let t=se(n);t.asyncQueue.verifyOperationInProgress(),U(as,"RemoteStore received new credentials");let r=cs(t);t.Ia.add(3),yield xl(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Tg(t)})}function R3(n,e){return v(this,null,function*(){let t=se(n);e?(t.Ia.delete(2),yield Tg(t)):e||(t.Ia.add(2),yield xl(t),t.Aa.set("Unknown"))})}function ic(n){return n.Va||(n.Va=(function(t,r,i){let o=se(t);return o.ia(),new Kw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:_3.bind(null,n),e_:E3.bind(null,n),n_:I3.bind(null,n),J_:w3.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.Va.N_(),FT(n)?kT(n):n.Aa.set("Unknown")):(yield n.Va.stop(),Ux(n))}))),n.Va}function zi(n){return n.ma||(n.ma=(function(t,r,i){let o=se(t);return o.ia(),new Qw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:D3.bind(null,n),n_:A3.bind(null,n),ea:C3.bind(null,n),ta:S3.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.ma.N_(),yield bg(n)):(yield n.ma.stop(),n.Pa.length>0&&(U(as,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var eT=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function LT(n,e){if(Vr("AsyncQueue",`${e}: ${n}`),rc(n))return new H(P.UNAVAILABLE,`${e}: ${n}`);throw n}var sg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||J.comparator(t.key,r.key):(t,r)=>J.comparator(t.key,r.key),this.keyedMap=ml(),this.sortedSet=new ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var ag=class{constructor(){this.fa=new ze(J.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Z(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Za=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,sg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var tT=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},nT=class{constructor(){this.queries=CP(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=se(t),o=i.queries;i.queries=CP(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new H(P.ABORTED,"Firestore shutting down"))}};function CP(){return new Br(n=>gx(n),Eg)}function N3(n,e){return v(this,null,function*(){let t=se(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new tT,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=LT(s,`Initialization of query '${Oa(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&VT(t)})}function M3(n,e){return v(this,null,function*(){let t=se(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function P3(n,e){let t=se(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&VT(t)}function x3(n,e,t){let r=se(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function VT(n){n.Da.forEach(e=>{e.next()})}var rT,SP;(SP=rT||(rT={})).Fa="default",SP.Cache="cache";var iT=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==rT.Cache}};var cg=class{constructor(e){this.key=e}},ug=class{constructor(e){this.key=e}},oT=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ye(),this.mutatedKeys=ye(),this.Xa=mx(e),this.eu=new sg(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new ag,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Ig(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;m&&y?m.data.isEqual(y.data)?S!==M&&(r.track({type:3,doc:y}),A=!0):this.iu(m,y)||(r.track({type:2,doc:y}),A=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),A=!0):m&&!y&&(r.track({type:1,doc:m}),A=!0,(u||l)&&(a=!0)),A&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,S){let M=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{At:A})}};return M(y)-M(S)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Za(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new ag,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ye(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new ug(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new cg(r))}),t}uu(e){this.Ha=e.qs,this.Za=ye();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Za.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},jT="SyncEngine",sT=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},aT=class{constructor(e){this.key=e,this.lu=!1}},cT=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Br(a=>gx(a),Eg),this.Tu=new Map,this.Iu=new Set,this.du=new ze(J.comparator),this.Eu=new Map,this.Au=new Nl,this.Ru={},this.Vu=new Map,this.mu=Rl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function O3(n,e,t=!0){return v(this,null,function*(){let r=Qx(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield zx(r,e,t,!0),i})}function k3(n,e){return v(this,null,function*(){let t=Qx(n);yield zx(t,e,!0,!1)})}function zx(n,e,t,r){return v(this,null,function*(){let i=yield m3(n.localStore,nr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield F3(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&Vx(n.remoteStore,i),a})}function F3(n,e,t,r,i){return v(this,null,function*(){n.gu=(p,m,y)=>(function(M,A,x,z){return v(this,null,function*(){let K=A.view.nu(x);K.Ds&&(K=yield wP(M.localStore,A.query,!1).then(({documents:T})=>A.view.nu(T,K)));let ne=z&&z.targetChanges.get(A.targetId),xe=z&&z.targetMismatches.get(A.targetId)!=null,pe=A.view.applyChanges(K,M.isPrimaryClient,ne,xe);return RP(M,A.targetId,pe._u),pe.snapshot})})(n,p,m,y);let o=yield wP(n.localStore,e,!0),s=new oT(e,o.qs),a=s.nu(o.documents),u=Sl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);RP(n,t,l._u);let h=new sT(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function L3(n,e,t){return v(this,null,function*(){let r=se(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Eg(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Bw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&xT(r.remoteStore,i.targetId),uT(r,i.targetId)}).catch(nc))):(uT(r,i.targetId),yield Bw(r.localStore,i.targetId,!0))})}function V3(n,e){return v(this,null,function*(){let t=se(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),xT(t.remoteStore,r.targetId))})}function j3(n,e,t){return v(this,null,function*(){let r=G3(n);try{let i=yield(function(s,a){let u=se(s),l=tt.now(),h=a.reduce((y,S)=>y.add(S.key),ye()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=$r(),M=ye();return u.Os.getEntries(y,h).next(A=>{S=A,S.forEach((x,z)=>{z.isValidDocument()||(M=M.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(A=>{p=A;let x=[];for(let z of a){let K=$q(z,p.get(z.key).overlayedDocument);K!=null&&x.push(new sr(z.key,K,ux(K.value.mapValue),Lr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,x,a)}).next(A=>{m=A;let x=A.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,A.batchId,x)})}).then(()=>({batchId:m.batchId,changes:vx(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new ze(he)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield Ol(r,i.changes),yield bg(r.remoteStore)}catch(i){let o=LT(i,"Failed to persist write");t.reject(o)}})}function qx(n,e){return v(this,null,function*(){let t=se(n);try{let r=yield f3(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?De(s.lu,14607):i.removedDocuments.size>0&&(De(s.lu,42227),s.lu=!1))}),yield Ol(t,r,e)}catch(r){yield nc(r)}})}function AP(n,e,t){let r=se(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=se(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&VT(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function U3(n,e,t){return v(this,null,function*(){let r=se(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new ze(J.comparator);s=s.insert(o,kn.newNoDocument(o,ue.min()));let a=ye().add(o),u=new Wp(ue.min(),new Map,new ze(he),s,a);yield qx(r,u),r.du=r.du.remove(o),r.Eu.delete(e),UT(r)}else yield Bw(r.localStore,e,!1).then(()=>uT(r,e,t)).catch(nc)})}function B3(n,e){return v(this,null,function*(){let t=se(n),r=e.batch.batchId;try{let i=yield h3(t.localStore,e);Wx(t,r,null),Gx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ol(t,i)}catch(i){yield nc(i)}})}function $3(n,e,t){return v(this,null,function*(){let r=se(n);try{let i=yield(function(s,a){let u=se(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(De(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);Wx(r,e,t),Gx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ol(r,i)}catch(i){yield nc(i)}})}function Gx(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function Wx(n,e,t){let r=se(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function uT(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||Kx(n,r)})}function Kx(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(xT(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),UT(n))}function RP(n,e,t){for(let r of t)r instanceof cg?(n.Au.addReference(r.key,e),H3(n,r)):r instanceof ug?(U(jT,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||Kx(n,r.key)):Z(19791,{yu:r})}function H3(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(U(jT,"New document in limbo: "+t),n.Iu.add(r),UT(n))}function UT(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new J(Le.fromString(e)),r=n.mu.next();n.Eu.set(r,new aT(t)),n.du=n.du.insert(t,r),Vx(n.remoteStore,new Al(nr(RT(t.path)),r,"TargetPurposeLimboResolution",IT.ue))}}function Ol(n,e,t){return v(this,null,function*(){let r=se(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Lw.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return v(this,null,function*(){let h=se(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,m=>O.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>O.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!rc(p))throw p;U(PT,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),S=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(S);h.Fs=h.Fs.insert(m,M)}}})})(r.localStore,o))})}function z3(n,e){return v(this,null,function*(){let t=se(n);if(!t.currentUser.isEqual(e)){U(jT,"User change. New user:",e.toKey());let r=yield Fx(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new H(P.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ol(t,r.Bs)}})}function q3(n,e){let t=se(n),r=t.Eu.get(e);if(r&&r.lu)return ye().add(r.key);{let i=ye(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function Qx(n){let e=se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U3.bind(null,e),e.hu.J_=P3.bind(null,e.eventManager),e.hu.pu=x3.bind(null,e.eventManager),e}function G3(n){let e=se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$3.bind(null,e),e}var Yx=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=wg(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return d3(this.persistence,new jw,t.initialUser,this.serializer)}Du(t){return new Xp(Fw.Vi,this.serializer)}bu(t){return new $w}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),lT=class extends Yx{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){De(this.persistence.referenceDelegate instanceof eg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Tw(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new Xp(r=>eg.Vi(r,t),this.serializer)}};var W3=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>AP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=z3.bind(null,this.syncEngine),yield R3(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new nT})()}createDatastore(t){let r=wg(t.databaseInfo.databaseId),i=(function(s){return new Ww(s)})(t.databaseInfo);return(function(s,a,u,l){return new Jw(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new Xw(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>AP(this.syncEngine,r,0),(function(){return ng.C()?new ng:new Hw})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let m=new cT(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield(function(o){return v(this,null,function*(){let s=se(o);U(as,"RemoteStore shutting down."),s.Ia.add(5),yield xl(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var dT=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var qi="FirestoreClient",hT=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ut.UNAUTHENTICATED,this.clientId=Il.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){U(qi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U(qi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=LT(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function FI(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U(qi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield Fx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{$i("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{U("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{$i("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function NP(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield K3(n);U(qi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>DP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>DP(e.remoteStore,i)),n._onlineComponents=e})}function K3(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U(qi,"Using user provided OfflineComponentProvider");try{yield FI(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;$i("Error using user provided cache. Falling back to memory cache: "+t),yield FI(n,new Yx)}}else U(qi,"Using default OfflineComponentProvider"),yield FI(n,new lT(void 0));return n._offlineComponents})}function Jx(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U(qi,"Using user provided OnlineComponentProvider"),yield NP(n,n._uninitializedComponentsProvider._online)):(U(qi,"Using default OnlineComponentProvider"),yield NP(n,new W3))),n._onlineComponents})}function Q3(n){return Jx(n).then(e=>e.syncEngine)}function MP(n){return v(this,null,function*(){let e=yield Jx(n),t=e.eventManager;return t.onListen=O3.bind(null,e.syncEngine),t.onUnlisten=L3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=k3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=V3.bind(null,e.syncEngine),t})}function Zx(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var PP=new Map;var Xx="firestore.googleapis.com",xP=!0,lg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xx,this.ssl=xP}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:xP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c3)throw new H(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Xa=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new LI;switch(r.type){case"firstParty":return new BI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=PP.get(t);r&&(U("ComponentProvider","Removing Datastore"),PP.delete(t),r.terminate())})(this),Promise.resolve()}};function eO(n,e,t,r={}){var i;n=Li(n,Xa);let o=Ci(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(rp(`https://${u}`),ip("Firestore",!0)),s.host!==Xx&&s.host!==u&&$i("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Jn(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=ut.MOCK_USER;else{h=oN(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new H(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ut(m)}n._authCredentials=new VI(new jp(h,p))}}var dg=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},At=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Pl(t,n._jsonSchema))return new n(e,r||null,new J(Le.fromString(t.referencePath)))}};At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:et("string",At._jsonSchemaVersion),referencePath:et("string")};var Vi=class n extends dg{constructor(e,t,r){super(e,t,RT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new J(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function tO(n,e,...t){if(n=We(n),jP("collection","path",e),n instanceof Xa){let r=Le.fromString(e,...t);return JM(r),new Vi(n,null,r)}{if(!(n instanceof At||n instanceof Vi))throw new H(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Le.fromString(e,...t));return JM(r),new Vi(n.firestore,null,r)}}function BT(n,e,...t){if(n=We(n),arguments.length===1&&(e=Il.newId()),jP("doc","path",e),n instanceof Xa){let r=Le.fromString(e,...t);return YM(r),new At(n,null,new J(r))}{if(!(n instanceof At||n instanceof Vi))throw new H(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Le.fromString(e,...t));return YM(r),new At(n.firestore,n instanceof Vi?n.converter:null,new J(r))}}var OP="AsyncQueue",hg=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new rg(this,"async_queue_retry"),this.oc=()=>{let r=kI();r&&U(OP,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=kI();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=kI();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Fr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!rc(e))throw e;U(OP,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Vr("INTERNAL UNHANDLED ERROR: ",kP(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=eT.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Z(47125,{hc:kP(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function kP(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function FP(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var Gi=class extends Xa{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new hg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new hg(e),this._firestoreClient=void 0,yield e}})}};function nO(n,e){let t=typeof n=="object"?n:Go(),r=typeof n=="string"?n:e||zp,i=Da(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=iN("firestore");o&&eO(i,...o)}return i}function rO(n){if(n._terminated)throw new H(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Y3(n),n._firestoreClient}function Y3(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new GI(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Zx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new hT(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var ji=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Rt.fromBase64String(e))}catch(t){throw new H(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pl(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};ji._jsonSchemaVersion="firestore/bytes/1.0",ji._jsonSchema={type:et("string",ji._jsonSchemaVersion),bytes:et("string")};var ec=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new H(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ml=class{constructor(e){this._methodName=e}};var Ui=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Pl(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:et("string",Ui._jsonSchemaVersion),latitude:et("number"),longitude:et("number")};var Bi=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pl(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new H(P.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:et("string",Bi._jsonSchemaVersion),vectorValues:et("object")};var J3=/^__.*__$/,fT=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new sr(e,this.data,this.fieldMask,t,this.fieldTransforms):new ss(e,this.data,t,this.fieldTransforms)}},fg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new sr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function iO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{Ec:n})}}var pT=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return gg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(iO(this.Ec)&&J3.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},gT=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||wg(e)}Dc(e,t,r,i=!1){return new pT({Ec:e,methodName:t,bc:r,path:on.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function oO(n){let e=n._freezeSettings(),t=wg(n._databaseId);return new gT(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Z3(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);$T("Data must be an object, but it was:",s,r);let a=sO(r,s),u,l;if(o.merge)u=new yn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=mT(e,p,t);if(!s.contains(m))throw new H(P.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);cO(h,m)||h.push(m)}u=new yn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new fT(new rn(a),u,l)}var pg=class n extends Ml{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function X3(n,e,t,r){let i=n.Dc(1,e,t);$T("Data must be an object, but it was:",i,r);let o=[],s=rn.empty();Wi(r,(u,l)=>{let h=HT(e,u,t);l=We(l);let p=i.gc(h);if(l instanceof pg)o.push(h);else{let m=Dg(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new yn(o);return new fg(s,a,i.fieldTransforms)}function eG(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[mT(e,r,t)],u=[i];if(o.length%2!=0)throw new H(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(mT(e,o[m])),u.push(o[m+1]);let l=[],h=rn.empty();for(let m=a.length-1;m>=0;--m)if(!cO(l,a[m])){let y=a[m],S=u[m];S=We(S);let M=s.gc(y);if(S instanceof pg)l.push(y);else{let A=Dg(S,M);A!=null&&(l.push(y),h.set(y,A))}}let p=new yn(l);return new fg(h,p,s.fieldTransforms)}function Dg(n,e){if(aO(n=We(n)))return $T("Unsupported field value:",e,n),sO(n,e);if(n instanceof Ml)return(function(r,i){if(!iO(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=Dg(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Lq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=tt.fromDate(r);return{timestampValue:Jp(i.serializer,o)}}if(r instanceof tt){let o=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jp(i.serializer,o)}}if(r instanceof Ui)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ji)return{bytesValue:Ax(i.serializer,r._byteString)};if(r instanceof At){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:MT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Bi)return(function(s,a){return{mapValue:{fields:{[bT]:{stringValue:DT},[$a]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return NT(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${ET(r)}`)})(n,e)}function sO(n,e){let t={};return tx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(n,(r,i)=>{let o=Dg(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function aO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof Ui||n instanceof ji||n instanceof At||n instanceof Ml||n instanceof Bi)}function $T(n,e,t){if(!aO(t)||!UP(t)){let r=ET(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function mT(n,e,t){if((e=We(e))instanceof ec)return e._internalPath;if(typeof e=="string")return HT(n,e);throw gg("Field path arguments must be of type string or ",n,!1,void 0,t)}var tG=new RegExp("[~\\*/\\[\\]]");function HT(n,e,t){if(e.search(tG)>=0)throw gg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ec(...e.split("."))._internalPath}catch{throw gg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gg(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H(P.INVALID_ARGUMENT,a+n+u)}function cO(n,e){return n.some(t=>t.isEqual(e))}var mg=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new yT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(uO("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},yT=class extends mg{data(){return super.data()}};function uO(n,e){return typeof e=="string"?HT(n,e):e instanceof ec?e._internalPath:e._delegate._internalPath}function nG(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new H(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vT=class{convertValue(e,t="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Z(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Wi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[$a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Pe(s.doubleValue));return new Bi(o)}convertGeoPoint(e){return new Ui(Pe(e.latitude),Pe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=_g(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bl(e));default:return null}}convertTimestamp(e){let t=jr(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Le.fromString(e);De(Ox(r),9688,{name:e});let i=new qp(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(t)||Vr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function rG(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var es=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ts=class n extends mg{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ja(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(uO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(P.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",ts._jsonSchema={type:et("string",ts._jsonSchemaVersion),bundleSource:et("string","DocumentSnapshot"),bundleName:et("string"),bundle:et("string")};var ja=class extends ts{data(e={}){return super.data(e)}},Ua=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new es(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ja(this._firestore,this._userDataWriter,r.key,r,new es(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ja(i._firestore,i._userDataWriter,a.doc.key,a.doc,new es(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ja(i._firestore,i._userDataWriter,a.doc.key,a.doc,new es(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:iG(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(P.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Il.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function iG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:n})}}Ua._jsonSchemaVersion="firestore/querySnapshot/1.0",Ua._jsonSchema={type:et("string",Ua._jsonSchemaVersion),bundleSource:et("string","QuerySnapshot"),bundleName:et("string"),bundle:et("string")};var yg=class extends vT{constructor(e){super(),this.firestore=e}convertBytes(e){return new ji(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}};function lO(n,e,t,...r){n=Li(n,At);let i=Li(n.firestore,Gi),o=oO(i),s;return s=typeof(e=We(e))=="string"||e instanceof ec?eG(o,"updateDoc",n._key,e,t,r):X3(o,"updateDoc",n._key,e),qT(i,[s.toMutation(n._key,Lr.exists(!0))])}function dO(n){return qT(Li(n.firestore,Gi),[new Cl(n._key,Lr.none())])}function hO(n,e){let t=Li(n.firestore,Gi),r=BT(n),i=rG(n.converter,e);return qT(t,[Z3(oO(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Lr.exists(!1))]).then(()=>r)}function zT(n,...e){var t,r,i;n=We(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||FP(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(FP(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof At)l=Li(n.firestore,Gi),h=RT(n._key.path),u={next:p=>{e[s]&&e[s](oG(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Li(n,dg);l=Li(p.firestore,Gi),h=p._query;let m=new yg(l);u={next:y=>{e[s]&&e[s](new Ua(l,m,p,y))},error:e[s+1],complete:e[s+2]},nG(n._query)}return(function(m,y,S,M){let A=new dT(M),x=new iT(y,A,S);return m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return N3(yield MP(m),x)})),()=>{A.Ou(),m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return M3(yield MP(m),x)}))}})(rO(l),h,a,u)}function qT(n,e){return(function(r,i){let o=new Fr;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return j3(yield Q3(r),i,o)})),o.promise})(rO(n),e)}function oG(n,e,t){let r=t.docs.get(e._key),i=new yg(n);return new ts(n,i,e._key,r,new es(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){tc=i})(Ai),Pn(new kt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Gi(new jI(r.getProvider("auth-internal")),new $I(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new H(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qp(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),He(GM,WM,e),He(GM,WM,"esm2017")})();var Cg=function(){return Cg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Cg.apply(this,arguments)};var cG={includeMetadataChanges:!1};function GT(n,e){return e===void 0&&(e=cG),new re(function(t){var r=zT(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function fO(n){return GT(n,{includeMetadataChanges:!0})}function pO(n,e){return e===void 0&&(e={}),fO(n).pipe(te(function(t){return WT(t,e)}))}function WT(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Cg(Cg({},r),(t={},t[e.idField]=n.id,t))}function gO(n){return GT(n,{includeMetadataChanges:!0}).pipe(te(function(e){return e.docs}))}function mO(n,e){return e===void 0&&(e={}),gO(n).pipe(te(function(t){return t.map(function(r){return WT(r,e)})}))}var Hr=class{constructor(e){return e}},yO="firestore",KT=class{constructor(){return Sa(yO)}};var QT=new V("angularfire2.firestore-instances");function uG(n,e){let t=nl(yO,n,e);return t&&new Hr(t)}function lG(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Hr(r)}}var dG={provide:KT,deps:[[new Zt,QT]]},hG={provide:Hr,useFactory:uG,deps:[[new Zt,QT],Rr]};function vO(n,...e){return He("angularfire",Ri.full,"fst"),bt([hG,dG,{provide:QT,useFactory:lG(n),multi:!0,deps:[Ie,Ue,Ni,Ko,[new Zt,pl],[new Zt,Aa],...e]}])}var Sg=rt(mO,!0);var Ag=rt(pO,!0);var Rg=rt(hO,!0,2);var oc=rt(tO,!0,2);var Ng=rt(dO,!0,2);var Ki=rt(BT,!0,2);var _O=rt(nO,!0);var Mg=rt(lO,!0,2);var Pg=class n{firestore=N(Hr);getAll(){let e=oc(this.firestore,"peliculas");return Sg(e,{idField:"id"})}getOne(e){let t=Ki(this.firestore,`peliculas/${e}`);return Ag(t,{idField:"id"})}add(e){let t=oc(this.firestore,"peliculas");return Rg(t,e)}update(e,t){let r=Ki(this.firestore,`peliculas/${e}`);return Mg(r,t)}delete(e){let t=Ki(this.firestore,`peliculas/${e}`);return Ng(t)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function pG(n,e){if(n&1){let t=lu();G(0,"tr")(1,"td"),W(2),Y(),G(3,"td"),W(4),Y(),G(5,"td"),W(6),Y(),G(7,"td"),W(8),Y(),G(9,"td")(10,"button",11),Se("click",function(){let i=si(t).$implicit,o=Sn();return ai(o.edit(i))}),W(11),Y(),G(12,"button",11),Se("click",function(){let i=si(t).$implicit,o=Sn();return ai(o.remove(i.id))}),W(13),Y()()()}if(n&2){let t=e.$implicit,r=Sn();$(2),ee(t.titulo),$(2),ee(t.genero),$(2),ee(t.anio),$(2),ee(t.duracion),$(3),ee(r.labels.button_edit[r.lang]),$(2),ee(r.labels.button_delete[r.lang])}}var xg=class n{constructor(e,t,r){this.fb=e;this.svc=t;this.translate=r;this.lang=this.translate.currentLang||"es",this.translate.language$.subscribe(i=>this.lang=i)}form;currentYear=new Date().getFullYear();peliculas=[];sub;lang="es";labels={title:{es:"Pel\xEDculas",en:"Movies"},placeholder_titulo:{es:"T\xEDtulo",en:"Title"},placeholder_genero:{es:"G\xE9nero",en:"Genre"},placeholder_anio:{es:"A\xF1o",en:"Year"},placeholder_duracion:{es:"Duraci\xF3n",en:"Duration"},button_save:{es:"Guardar",en:"Save"},button_clear:{es:"Limpiar",en:"Clear"},button_edit:{es:"Editar",en:"Edit"},button_delete:{es:"Borrar",en:"Delete"},table_title:{es:"T\xEDtulo",en:"Title"},table_genero:{es:"G\xE9nero",en:"Genre"},table_anio:{es:"A\xF1o",en:"Year"},table_duracion:{es:"Duraci\xF3n",en:"Duration"},table_actions:{es:"Acciones",en:"Actions"}};ngOnInit(){this.form=this.fb.group({id:[""],titulo:["",[at.required]],genero:["",[at.required]],anio:[this.currentYear,[at.required,at.min(1900)]],duracion:["",[at.required]]}),this.sub=this.svc.getAll().subscribe(e=>this.peliculas=e)}ngOnDestroy(){this.sub?.unsubscribe()}save(){return v(this,null,function*(){if(this.form.invalid)return;let e=this.form.value;e.id?yield this.svc.update(e.id,{titulo:e.titulo,genero:e.genero,anio:e.anio,duracion:e.duracion}):yield this.svc.add({titulo:e.titulo,genero:e.genero,anio:e.anio,duracion:e.duracion}),this.resetForm()})}edit(e){this.form.setValue({id:e.id||"",titulo:e.titulo,genero:e.genero,anio:e.anio,duracion:e.duracion})}remove(e){return v(this,null,function*(){if(!e)return;let t=this.translate.translate("peliculas.confirm.delete");confirm(t)&&(yield this.svc.delete(e))})}resetForm(){this.form.reset({anio:this.currentYear})}static \u0275fac=function(t){return new(t||n)(B(Ea),B(Pg),B(qt))};static \u0275cmp=yt({type:n,selectors:[["app-peliculas"]],decls:29,vars:14,consts:[[1,"page"],[1,"form-wrap"],[3,"ngSubmit","formGroup"],["formControlName","titulo",3,"placeholder"],["formControlName","genero",3,"placeholder"],["type","number","formControlName","anio",3,"placeholder"],["formControlName","duracion",3,"placeholder"],["type","submit"],["type","button",3,"click"],[1,"table-wrap"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(t,r){t&1&&(G(0,"main",0)(1,"section",1)(2,"h2"),W(3),Y(),G(4,"form",2),Se("ngSubmit",function(){return r.save()}),$t(5,"input",3)(6,"input",4)(7,"input",5)(8,"input",6),G(9,"button",7),W(10),Y(),G(11,"button",8),Se("click",function(){return r.resetForm()}),W(12),Y()()(),G(13,"section",9)(14,"table")(15,"thead")(16,"tr")(17,"th"),W(18),Y(),G(19,"th"),W(20),Y(),G(21,"th"),W(22),Y(),G(23,"th"),W(24),Y(),G(25,"th"),W(26),Y()()(),G(27,"tbody"),fi(28,pG,14,6,"tr",10),Y()()()()),t&2&&($(3),ee(r.labels.title[r.lang]),$(),Je("formGroup",r.form),$(),Je("placeholder",r.labels.placeholder_titulo[r.lang]),$(),Je("placeholder",r.labels.placeholder_genero[r.lang]),$(),Je("placeholder",r.labels.placeholder_anio[r.lang]),$(),Je("placeholder",r.labels.placeholder_duracion[r.lang]),$(2),ee(r.labels.button_save[r.lang]),$(2),ee(r.labels.button_clear[r.lang]),$(6),ee(r.labels.table_title[r.lang]),$(2),ee(r.labels.table_genero[r.lang]),$(2),ee(r.labels.table_anio[r.lang]),$(2),ee(r.labels.table_duracion[r.lang]),$(2),ee(r.labels.table_actions[r.lang]),$(2),Je("ngForOf",r.peliculas))},dependencies:[Ht,Qs,Ia,_a,bi,Yu,Di,va,$o,Ho],styles:[".page[_ngcontent-%COMP%]{padding:1rem;max-width:1100px;margin:0 auto}.form-wrap[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-wrap[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.form-wrap[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ddd;border-radius:6px}.form-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--accent-2);color:#fff;border:0;padding:.5rem .75rem;border-radius:6px}.table-wrap[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table-wrap[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-wrap[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-bottom:1px solid #eee;text-align:left}"]})};var Og=class n{firestore=N(Hr);getAll(){let e=oc(this.firestore,"cines");return Sg(e,{idField:"id"})}getOne(e){let t=Ki(this.firestore,`cines/${e}`);return Ag(t,{idField:"id"})}add(e){let t=oc(this.firestore,"cines");return Rg(t,e)}update(e,t){let r=Ki(this.firestore,`cines/${e}`);return Mg(r,t)}delete(e){let t=Ki(this.firestore,`cines/${e}`);return Ng(t)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function mG(n,e){if(n&1){let t=lu();G(0,"tr")(1,"td"),W(2),Y(),G(3,"td"),W(4),Y(),G(5,"td"),W(6),Y(),G(7,"td")(8,"button",10),Se("click",function(){let i=si(t).$implicit,o=Sn();return ai(o.edit(i))}),W(9),Y(),G(10,"button",10),Se("click",function(){let i=si(t).$implicit,o=Sn();return ai(o.remove(i.id))}),W(11),Y()()()}if(n&2){let t=e.$implicit,r=Sn();$(2),ee(t.nombre),$(2),ee(t.ciudad),$(2),ee(t.capacidad),$(3),ee(r.labels.button_edit[r.lang]),$(2),ee(r.labels.button_delete[r.lang])}}var kg=class n{constructor(e,t,r){this.fb=e;this.svc=t;this.translate=r;this.lang=this.translate.currentLang||"es",this.translate.language$.subscribe(i=>this.lang=i)}form;cines=[];sub;lang="es";labels={title:{es:"Cines",en:"Cinemas"},placeholder_nombre:{es:"Nombre",en:"Name"},placeholder_ciudad:{es:"Ciudad",en:"City"},placeholder_capacidad:{es:"Capacidad",en:"Capacity"},button_save:{es:"Guardar",en:"Save"},button_clear:{es:"Limpiar",en:"Clear"},button_edit:{es:"Editar",en:"Edit"},button_delete:{es:"Borrar",en:"Delete"},table_nombre:{es:"Nombre",en:"Name"},table_ciudad:{es:"Ciudad",en:"City"},table_capacidad:{es:"Capacidad",en:"Capacity"},table_actions:{es:"Acciones",en:"Actions"}};ngOnInit(){this.form=this.fb.group({id:[""],nombre:["",[at.required]],ciudad:["",[at.required]],capacidad:[0,[at.required,at.min(1)]]}),this.sub=this.svc.getAll().subscribe(e=>this.cines=e)}ngOnDestroy(){this.sub?.unsubscribe()}save(){return v(this,null,function*(){if(this.form.invalid)return;let e=this.form.value;e.id?yield this.svc.update(e.id,{nombre:e.nombre,ciudad:e.ciudad,capacidad:e.capacidad}):yield this.svc.add({nombre:e.nombre,ciudad:e.ciudad,capacidad:e.capacidad}),this.form.reset({capacidad:0})})}edit(e){this.form.setValue({id:e.id||"",nombre:e.nombre,ciudad:e.ciudad,capacidad:e.capacidad})}remove(e){return v(this,null,function*(){if(!e)return;let t=this.translate.translate("cines.confirm.delete");confirm(t)&&(yield this.svc.delete(e))})}static \u0275fac=function(t){return new(t||n)(B(Ea),B(Og),B(qt))};static \u0275cmp=yt({type:n,selectors:[["app-cines"]],decls:26,vars:12,consts:[[1,"page"],[1,"form-wrap"],[3,"ngSubmit","formGroup"],["formControlName","nombre",3,"placeholder"],["formControlName","ciudad",3,"placeholder"],["type","number","formControlName","capacidad",3,"placeholder"],["type","submit"],["type","button",3,"click"],[1,"table-wrap"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(t,r){t&1&&(G(0,"main",0)(1,"section",1)(2,"h2"),W(3),Y(),G(4,"form",2),Se("ngSubmit",function(){return r.save()}),$t(5,"input",3)(6,"input",4)(7,"input",5),G(8,"button",6),W(9),Y(),G(10,"button",7),Se("click",function(){return r.form.reset({capacidad:0})}),W(11),Y()()(),G(12,"section",8)(13,"table")(14,"thead")(15,"tr")(16,"th"),W(17),Y(),G(18,"th"),W(19),Y(),G(20,"th"),W(21),Y(),G(22,"th"),W(23),Y()()(),G(24,"tbody"),fi(25,mG,12,5,"tr",9),Y()()()()),t&2&&($(3),ee(r.labels.title[r.lang]),$(),Je("formGroup",r.form),$(),Je("placeholder",r.labels.placeholder_nombre[r.lang]),$(),Je("placeholder",r.labels.placeholder_ciudad[r.lang]),$(),Je("placeholder",r.labels.placeholder_capacidad[r.lang]),$(2),ee(r.labels.button_save[r.lang]),$(2),ee(r.labels.button_clear[r.lang]),$(6),ee(r.labels.table_nombre[r.lang]),$(2),ee(r.labels.table_ciudad[r.lang]),$(2),ee(r.labels.table_capacidad[r.lang]),$(2),ee(r.labels.table_actions[r.lang]),$(2),Je("ngForOf",r.cines))},dependencies:[Ht,Qs,Ia,_a,bi,Yu,Di,va,$o,Ho],styles:[".page[_ngcontent-%COMP%]{padding:1rem;max-width:1100px;margin:0 auto}.form-wrap[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-wrap[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.form-wrap[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ddd;border-radius:6px}.form-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--accent-2);color:#fff;border:0;padding:.5rem .75rem;border-radius:6px}.table-wrap[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table-wrap[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-wrap[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-bottom:1px solid #eee;text-align:left}"]})};var Qi=class n{auth=N(Jo);currentUser=null;constructor(){UM(this.auth,e=>{this.currentUser=e})}loginWithGoogle(){return v(this,null,function*(){let e=new pI;return $M(this.auth,e)})}loginWithEmail(e,t){return v(this,null,function*(){return BM(this.auth,e,t)})}registerWithEmail(e,t){return v(this,null,function*(){return VM(this.auth,e,t)})}logout(){return v(this,null,function*(){return HM(this.auth)})}getCurrentUser(){return Promise.resolve(this.currentUser)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function yG(n,e){if(n&1&&(G(0,"p",8),W(1),Y()),n&2){let t=Sn();$(),ee(t.statusMessage)}}var Fg=class n{constructor(e,t,r,i){this.fb=e;this.auth=t;this.router=r;this.translate=i;this.lang=this.translate.currentLang||"es",this.translate.language$.subscribe(o=>this.lang=o)}form;lang="es";labels={title:{es:"Acceder",en:"Login"},google:{es:"Ingresar con Google",en:"Sign in with Google"},email_placeholder:{es:"Email",en:"Email"},password_placeholder:{es:"Password",en:"Password"},button_login:{es:"Login",en:"Login"},register_prompt:{es:"\xBFNo tienes cuenta?",en:"Don't have an account?"},register_button:{es:"Reg\xEDstrate",en:"Register"}};ngOnInit(){this.form=this.fb.group({email:["",[at.required,at.email]],password:["",[at.required,at.minLength(6)]]})}loginWithGoogle(){return v(this,null,function*(){yield this.auth.loginWithGoogle(),this.router.navigate(["/"])})}login(){return v(this,null,function*(){if(this.form.invalid)return;let{email:e,password:t}=this.form.value;yield this.auth.loginWithEmail(e,t),this.router.navigate(["/"])})}statusMessage=null;register(){return v(this,null,function*(){if(console.log("register() clicked"),this.statusMessage=null,this.form.invalid){this.statusMessage=this.lang==="es"?"Completa email y password (m\xEDn. 6 caracteres)":"Fill email and password (min. 6 chars)";return}let{email:e,password:t}=this.form.value;try{yield this.auth.registerWithEmail(e,t),this.statusMessage=this.lang==="es"?"Registro correcto. Redirigiendo...":"Registration successful. Redirecting...",setTimeout(()=>this.router.navigate(["/"]),800)}catch(r){this.statusMessage=r?.message||(this.lang==="es"?"Error al registrar":"Registration error")}})}static \u0275fac=function(t){return new(t||n)(B(Ea),B(Qi),B(zt),B(qt))};static \u0275cmp=yt({type:n,selectors:[["app-login"]],decls:15,vars:9,consts:[[1,"login-page"],[1,"google",3,"click"],[3,"ngSubmit","formGroup"],["formControlName","email",3,"placeholder"],["type","password","formControlName","password",3,"placeholder"],["type","submit"],["type","button",1,"register-btn",3,"click"],["class","status",4,"ngIf"],[1,"status"]],template:function(t,r){t&1&&(G(0,"div",0)(1,"h2"),W(2),Y(),G(3,"button",1),Se("click",function(){return r.loginWithGoogle()}),W(4),Y(),G(5,"form",2),Se("ngSubmit",function(){return r.login()}),$t(6,"input",3)(7,"input",4),G(8,"button",5),W(9),Y()(),G(10,"p"),W(11),G(12,"button",6),Se("click",function(){return r.register()}),W(13),Y()(),fi(14,yG,2,1,"p",7),Y()),t&2&&($(2),ee(r.labels.title[r.lang]),$(2),ee(r.labels.google[r.lang]),$(),Je("formGroup",r.form),$(),Je("placeholder",r.labels.email_placeholder[r.lang]),$(),Je("placeholder",r.labels.password_placeholder[r.lang]),$(2),ee(r.labels.button_login[r.lang]),$(2),hu(" ",r.labels.register_prompt[r.lang]," "),$(2),ee(r.labels.register_button[r.lang]),$(),Je("ngIf",r.statusMessage))},dependencies:[Ht,o_,Ia,_a,bi,Di,va,$o,Ho],styles:[".login-page[_ngcontent-%COMP%]{max-width:400px;margin:3rem auto;padding:1rem;border-radius:8px;background:var(--accent-1)}.login-page[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%;padding:.5rem;margin:.5rem 0;border-radius:6px;border:1px solid #ddd}.login-page[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--accent-2);color:#fff;border:0;padding:.5rem .75rem;border-radius:6px}.google[_ngcontent-%COMP%]{background:#4285f4}.register-btn[_ngcontent-%COMP%]{margin-left:.5rem;background:var(--accent-3);padding:.4rem .6rem;border-radius:6px;color:#fff}"]})};var kl=class n{constructor(e,t){this.auth=e;this.router=t}canActivate(){return v(this,null,function*(){return(yield this.auth.getCurrentUser())?!0:(this.router.navigate(["/login"]),!1)})}static \u0275fac=function(t){return new(t||n)(q(Qi),q(zt))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var EO=[{path:"",component:jf},{path:"peliculas",component:xg,canActivate:[kl]},{path:"cines",component:kg,canActivate:[kl]},{path:"login",component:Fg},{path:"**",redirectTo:""}];var IO={providers:[xy(),Wv({eventCoalescing:!0}),G_(EO),v_(),PN(()=>xN({apiKey:"AIzaSyC7e4fa3J8wNqDWT1vBR_EnmAFmzbeC5gA",authDomain:"proyecto-cine-pelicula.firebaseapp.com",projectId:"proyecto-cine-pelicula",storageBucket:"proyecto-cine-pelicula.firebasestorage.app",messagingSenderId:"562900093862",appId:"1:562900093862:web:a0a3a287ff72e2ea911d67"})),LM(()=>jM()),vO(()=>_O())]};var Lg=class n{key="theme-mode";constructor(){let e=localStorage.getItem(this.key)||"light";this.apply(e)}toggle(){let t=(document.documentElement.getAttribute("data-theme")||"light")==="light"?"dark":"light";this.apply(t),localStorage.setItem(this.key,t)}apply(e){document.documentElement.setAttribute("data-theme",e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var Vg=class n{constructor(e,t,r){this.t=e;this.theme=t;this.auth=r}open=!1;lang="es";sub;labels={home:{es:"INICIO",en:"HOME"},peliculas:{es:"PELICULAS",en:"MOVIES"},cines:{es:"CINES",en:"CINEMAS"},login:{es:"ACCEDER",en:"LOGIN"}};ngOnInit(){this.lang=this.t.currentLang||"es",this.sub=this.t.language$.subscribe(e=>this.lang=e)}ngOnDestroy(){this.sub?.unsubscribe()}toggleMenu(){this.open=!this.open}logout(){return v(this,null,function*(){yield this.auth.logout()})}onLangChange(e){let t;typeof e=="string"?t=e:t=e.target?.value??this.lang,this.t.setLanguage(t)}static \u0275fac=function(t){return new(t||n)(B(qt),B(Lg),B(Qi))};static \u0275cmp=yt({type:n,selectors:[["app-header"]],decls:23,vars:7,consts:[[1,"site-header"],[1,"brand"],["routerLink","/",1,"logo"],[1,"nav"],["routerLink","/"],["routerLink","/peliculas"],["routerLink","/cines"],[1,"actions"],[3,"ngModelChange","ngModel"],["value","es"],["value","en"],[1,"theme-toggle",3,"click"],["routerLink","/login",1,"login-btn"],[1,"burger",3,"click"]],template:function(t,r){t&1&&(G(0,"header",0)(1,"div",1)(2,"a",2),W(3,"Proyecto Cine"),Y()(),G(4,"nav",3)(5,"a",4),W(6),Y(),G(7,"a",5),W(8),Y(),G(9,"a",6),W(10),Y()(),G(11,"div",7)(12,"select",8),$h("ngModelChange",function(o){return zv(r.lang,o)||(r.lang=o),o}),Se("ngModelChange",function(o){return r.onLangChange(o)}),G(13,"option",9),W(14,"ES"),Y(),G(15,"option",10),W(16,"EN"),Y()(),G(17,"button",11),Se("click",function(){return r.theme.toggle()}),W(18,"\u{1F313}"),Y(),G(19,"a",12),W(20),Y(),G(21,"button",13),Se("click",function(){return r.toggleMenu()}),W(22,"\u2630"),Y()()()),t&2&&($(4),Ro("open",r.open),$(2),ee(r.labels.home[r.lang]),$(2),ee(r.labels.peliculas[r.lang]),$(2),ee(r.labels.cines[r.lang]),$(2),Bh("ngModel",r.lang),$(8),ee(r.labels.login[r.lang]))},dependencies:[Ht,K_,Vf,XR,QR,JR,Zf,Di,cE],styles:["[_ngcontent-%COMP%]:root{--bg: #fff;--text: #000;--accent-1: #FFE0B3;--accent-2: #FF9933;--accent-3: #CC6600}[_ngcontent-%COMP%]:root[data-theme=dark]{--bg: #111;--text: #fff}.site-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.5rem 1rem;background:var(--bg);color:var(--text);border-bottom:1px solid rgba(0,0,0,.06)}.brand[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-weight:700;color:var(--accent-3);text-decoration:none}.nav[_ngcontent-%COMP%]{display:flex;gap:1rem}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text);text-decoration:none;padding:.25rem .5rem;border-radius:6px}.actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.burger[_ngcontent-%COMP%]{display:none;background:transparent;border:0;font-size:1.25rem}.theme-toggle[_ngcontent-%COMP%]{background:var(--accent-1);border:0;padding:.25rem .5rem;border-radius:6px}.login-btn[_ngcontent-%COMP%]{background:var(--accent-2);color:#fff;padding:.25rem .6rem;border-radius:6px;text-decoration:none}@media (max-width:800px){.nav[_ngcontent-%COMP%]{position:absolute;top:60px;left:0;right:0;background:var(--bg);flex-direction:column;padding:1rem;display:none}.nav.open[_ngcontent-%COMP%]{display:flex}.burger[_ngcontent-%COMP%]{display:inline-block}}"]})};var jg=class n{constructor(e){this.t=e}transform(e){return e?this.t.translate(e):""}static \u0275fac=function(t){return new(t||n)(B(qt,16))};static \u0275pipe=Vh({name:"translate",type:n,pure:!1})};var Ug=class n{year=new Date().getFullYear();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=yt({type:n,selectors:[["app-footer"]],decls:12,vars:10,consts:[[1,"site-footer"],[1,"wrap"],["href","#"]],template:function(t,r){t&1&&(Tr(0,"footer",0)(1,"div",1)(2,"span"),W(3),fu(4,"translate"),br(),Tr(5,"nav")(6,"a",2),W(7),fu(8,"translate"),br(),Tr(9,"a",2),W(10),fu(11,"translate"),br()()()()),t&2&&($(3),Uh("\xA9 ",r.year," ",pu(4,4,"footer.copy")),$(4),ee(pu(8,6,"footer.privacy")),$(3),ee(pu(11,8,"footer.terms")))},dependencies:[Ht,jg],styles:[".site-footer[_ngcontent-%COMP%]{padding:1rem;background:var(--accent-1);color:#000;position:fixed;left:0;right:0;bottom:0}.site-footer[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;display:flex;justify-content:space-between}.site-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;margin-left:1rem}"]})};var Bg=class n{title=Bt("proyecto-cine");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=yt({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"app-main"]],template:function(t,r){t&1&&($t(0,"app-header"),G(1,"main",0),$t(2,"router-outlet"),Y(),$t(3,"app-footer"))},dependencies:[ju,Vg,Ug],encapsulation:2})};g_(Bg,IO).catch(n=>console.error(n));
